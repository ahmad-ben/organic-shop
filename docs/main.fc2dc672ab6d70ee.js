"use strict";(self.webpackChunkorganic_store=self.webpackChunkorganic_store||[]).push([[179],{2011:(Tt,Me,L)=>{L.d(Me,{Dh:()=>le,GT:()=>ce,cc:()=>Ie,hO:()=>Ce,on:()=>H,pX:()=>Y,xv:()=>me});var s=L(4650),B=L(9260),F=L(462);Tt=L.hmd(Tt);const X=["ngOnDestroy"],Y=(Se,Pe,We,xe={})=>new Proxy(Se,{get:(we,ke)=>We.runOutsideAngular(()=>{var Ue;if(Se[ke])return!(null===(Ue=xe?.spy)||void 0===Ue)&&Ue.get&&xe.spy.get(ke,Se[ke]),Se[ke];if(X.indexOf(ke)>-1)return()=>{};const Fe=Pe.toPromise().then(Z=>{const Ge=Z&&Z[ke];return"function"==typeof Ge?Ge.bind(Z):Ge&&Ge.then?Ge.then(vt=>We.run(()=>vt)):We.run(()=>Ge)});return new Proxy(()=>{},{get:(Z,Ge)=>Fe[Ge],apply:(Z,Ge,vt)=>Fe.then(Pt=>{var vn;const Nn=Pt&&Pt(...vt);return!(null===(vn=xe?.spy)||void 0===vn)&&vn.apply&&xe.spy.apply(ke,vt,Nn),Nn})})})}),ce=(Se,Pe)=>{Pe.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(xe=>{Object.defineProperty(Se.prototype,xe,Object.getOwnPropertyDescriptor(We.prototype||We,xe))})})};class ue{constructor(Pe){return Pe}}const le=new s.OlP("angularfire2.app.options"),me=new s.OlP("angularfire2.app.name");function H(Se,Pe,We){const we="object"==typeof We&&We||{};we.name=we.name||"string"==typeof We&&We||"[DEFAULT]";const Ue=B.Z.apps.filter(Fe=>Fe&&Fe.name===we.name)[0]||Pe.runOutsideAngular(()=>B.Z.initializeApp(Se,we));try{JSON.stringify(Se)!==JSON.stringify(Ue.options)&&G("error",`${Ue.name} Firebase App already initialized with different options${Tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(Ue)}const G=(Se,...Pe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Se](...Pe)},K={provide:ue,useFactory:H,deps:[le,s.R0b,[new s.FiY,me]]};let Ce=(()=>{class Se{constructor(We){B.Z.registerVersion("angularfire",F.q4.full,"core"),B.Z.registerVersion("angularfire",F.q4.full,"app-compat"),B.Z.registerVersion("angular",s.q4F.full,We.toString())}static initializeApp(We,xe){return{ngModule:Se,providers:[{provide:le,useValue:We},{provide:me,useValue:xe}]}}}return Se.\u0275fac=function(We){return new(We||Se)(s.LFG(s.Lbi))},Se.\u0275mod=s.oAB({type:Se}),Se.\u0275inj=s.cJS({providers:[K]}),Se})();function Ie(Se,Pe,We,xe,we){const[,ke,Ue]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===Se)||[];if(ke)return function Le(Se,Pe){try{return Se.toString()===Pe.toString()}catch{return Se===Pe}}(we,Ue)||(ye("error",`${Pe} was already initialized on the ${We} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:we,was:Ue})),ke;{const Fe=xe();return globalThis.\u0275AngularfireInstanceCache.push([Se,Fe,we]),Fe}}const lt=!!Tt.hot,ye=(Se,...Pe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Se](...Pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},462:(Tt,Me,L)=>{L.d(Me,{q4:()=>qa,iC:()=>fi,HU:()=>Qs,vb:()=>Js,JM:()=>Ya,nk:()=>Ks,u3:()=>oa});var s=L(4650),B=L(259),F=L(5861),X=L(9681),Y=L(2090),ce=L(4859),ue=L(1877);L(2833);const me="@firebase/remote-config",H="0.4.4",Ie=new Y.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Te{constructor(k,J,pe,Oe){this.client=k,this.storage=J,this.storageCache=pe,this.logger=Oe}isCachedDataFresh(k,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-J,Oe=pe<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${Oe}.`),Oe}fetch(k){var J=this;return(0,F.Z)(function*(){const[pe,Oe]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(Oe&&J.isCachedDataFresh(k.cacheMaxAgeMillis,pe))return Oe;k.eTag=Oe&&Oe.eTag;const it=yield J.client.fetch(k),Rt=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===it.status&&Rt.push(J.storage.setLastSuccessfulFetchResponse(it)),yield Promise.all(Rt),it})()}}function Ve(V=navigator){return V.languages&&V.languages[0]||V.language}class $e{constructor(k,J,pe,Oe,it,Rt){this.firebaseInstallations=k,this.sdkVersion=J,this.namespace=pe,this.projectId=Oe,this.apiKey=it,this.appId=Rt}fetch(k){var J=this;return(0,F.Z)(function*(){const[pe,Oe]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),Rt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},er={sdk_version:J.sdkVersion,app_instance_id:pe,app_instance_id_token:Oe,app_id:J.appId,language_code:Ve()},Hn={method:"POST",headers:ln,body:JSON.stringify(er)},zn=fetch(Rt,Hn),Jt=new Promise((cr,cs)=>{k.signal.addEventListener(()=>{const lu=new Error("The operation was aborted.");lu.name="AbortError",cs(lu)})});let $i;try{yield Promise.race([zn,Jt]),$i=yield zn}catch(cr){let cs="fetch-client-network";throw"AbortError"===cr?.name&&(cs="fetch-timeout"),Ie.create(cs,{originalErrorMessage:cr?.message})}let gi=$i.status;const $t=$i.headers.get("ETag")||void 0;let ai,aa;if(200===$i.status){let cr;try{cr=yield $i.json()}catch(cs){throw Ie.create("fetch-client-parse",{originalErrorMessage:cs?.message})}ai=cr.entries,aa=cr.state}if("INSTANCE_STATE_UNSPECIFIED"===aa?gi=500:"NO_CHANGE"===aa?gi=304:("NO_TEMPLATE"===aa||"EMPTY_CONFIG"===aa)&&(ai={}),304!==gi&&200!==gi)throw Ie.create("fetch-status",{httpStatus:gi});return{status:gi,eTag:$t,config:ai}})()}}class Je{constructor(k,J){this.client=k,this.storage=J}fetch(k){var J=this;return(0,F.Z)(function*(){const pe=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(k,pe)})()}attemptFetch(k,{throttleEndTimeMillis:J,backoffCount:pe}){var Oe=this;return(0,F.Z)(function*(){yield function qe(V,k){return new Promise((J,pe)=>{const Oe=Math.max(k-Date.now(),0),it=setTimeout(J,Oe);V.addEventListener(()=>{clearTimeout(it),pe(Ie.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,J);try{const it=yield Oe.client.fetch(k);return yield Oe.storage.deleteThrottleMetadata(),it}catch(it){if(!function ct(V){if(!(V instanceof Y.ZR&&V.customData))return!1;const k=Number(V.customData.httpStatus);return 429===k||500===k||503===k||504===k}(it))throw it;const Rt={throttleEndTimeMillis:Date.now()+(0,Y.$s)(pe),backoffCount:pe+1};return yield Oe.storage.setThrottleMetadata(Rt),Oe.attemptFetch(k,Rt)}})()}}class Qt{constructor(k,J,pe,Oe,it){this.app=k,this._client=J,this._storageCache=pe,this._storage=Oe,this._logger=it,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function dt(V,k){const J=V.target.error||void 0;return Ie.create(k,{originalErrorMessage:J&&J?.message})}const Ft="app_namespace_store";class Sn{constructor(k,J,pe,Oe=function Fn(){return new Promise((V,k)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=pe=>{k(dt(pe,"storage-open"))},J.onsuccess=pe=>{V(pe.target.result)},J.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(Ft,{keyPath:"compositeKey"})}}catch(J){k(Ie.create("storage-open",{originalErrorMessage:J?.message}))}})}()){this.appId=k,this.appName=J,this.namespace=pe,this.openDbPromise=Oe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var J=this;return(0,F.Z)(function*(){const pe=yield J.openDbPromise;return new Promise((Oe,it)=>{const ln=pe.transaction([Ft],"readonly").objectStore(Ft),er=J.createCompositeKey(k);try{const Hn=ln.get(er);Hn.onerror=zn=>{it(dt(zn,"storage-get"))},Hn.onsuccess=zn=>{const Jt=zn.target.result;Oe(Jt?Jt.value:void 0)}}catch(Hn){it(Ie.create("storage-get",{originalErrorMessage:Hn?.message}))}})})()}set(k,J){var pe=this;return(0,F.Z)(function*(){const Oe=yield pe.openDbPromise;return new Promise((it,Rt)=>{const er=Oe.transaction([Ft],"readwrite").objectStore(Ft),Hn=pe.createCompositeKey(k);try{const zn=er.put({compositeKey:Hn,value:J});zn.onerror=Jt=>{Rt(dt(Jt,"storage-set"))},zn.onsuccess=()=>{it()}}catch(zn){Rt(Ie.create("storage-set",{originalErrorMessage:zn?.message}))}})})()}delete(k){var J=this;return(0,F.Z)(function*(){const pe=yield J.openDbPromise;return new Promise((Oe,it)=>{const ln=pe.transaction([Ft],"readwrite").objectStore(Ft),er=J.createCompositeKey(k);try{const Hn=ln.delete(er);Hn.onerror=zn=>{it(dt(zn,"storage-delete"))},Hn.onsuccess=()=>{Oe()}}catch(Hn){it(Ie.create("storage-delete",{originalErrorMessage:Hn?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class Kn{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,F.Z)(function*(){const J=k.storage.getLastFetchStatus(),pe=k.storage.getLastSuccessfulFetchTimestampMillis(),Oe=k.storage.getActiveConfig(),it=yield J;it&&(k.lastFetchStatus=it);const Rt=yield pe;Rt&&(k.lastSuccessfulFetchTimestampMillis=Rt);const ln=yield Oe;ln&&(k.activeConfig=ln)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function ne(){return he.apply(this,arguments)}function he(){return(he=(0,F.Z)(function*(){if(!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch{return!1}})).apply(this,arguments)}!function Jn(){(0,X._registerComponent)(new ce.wA("remote-config",function V(k,{instanceIdentifier:J}){const pe=k.getProvider("app").getImmediate(),Oe=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ie.create("registration-window");if(!(0,Y.hl)())throw Ie.create("indexed-db-unavailable");const{projectId:it,apiKey:Rt,appId:ln}=pe.options;if(!it)throw Ie.create("registration-project-id");if(!Rt)throw Ie.create("registration-api-key");if(!ln)throw Ie.create("registration-app-id");const er=new Sn(ln,pe.name,J=J||"firebase"),Hn=new Kn(er),zn=new ue.Yd(me);zn.logLevel=ue.in.ERROR;const Jt=new $e(Oe,X.SDK_VERSION,J,it,Rt,ln),$i=new Je(Jt,er),gi=new Te($i,er,Hn,zn),$t=new Qt(pe,gi,Hn,er,zn);return function Ue(V){const k=(0,Y.m9)(V);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}($t),$t},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(me,H),(0,X.registerVersion)(me,H,"esm2017")}();var ie=L(8766);const je="/firebase-messaging-sw.js",ot="/firebase-cloud-messaging-push-scope",Ht="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Kt="https://fcmregistrations.googleapis.com/v1",Gt="google.c.a.c_id",xt="google.c.a.c_l",pn="google.c.a.ts",Qn="google.c.a.e";var wn=(()=>{return(V=wn||(wn={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",wn;var V})();function Xt(V){const k=new Uint8Array(V);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function An(V){const J=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(J),Oe=new Uint8Array(pe.length);for(let it=0;it<pe.length;++it)Oe[it]=pe.charCodeAt(it);return Oe}const on="fcm_token_details_db",Zn=5,Mr="fcm_token_object_Store";function zt(){return zt=(0,F.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(it=>it.name).includes(on))return null;let k=null;return(yield(0,ie.X3)(on,Zn,{upgrade:(pe=(0,F.Z)(function*(Oe,it,Rt,ln){var er;if(it<2||!Oe.objectStoreNames.contains(Mr))return;const Hn=ln.objectStore(Mr),zn=yield Hn.index("fcmSenderId").get(V);if(yield Hn.clear(),zn)if(2===it){const Jt=zn;if(!Jt.auth||!Jt.p256dh||!Jt.endpoint)return;k={token:Jt.fcmToken,createTime:null!==(er=Jt.createTime)&&void 0!==er?er:Date.now(),subscriptionOptions:{auth:Jt.auth,p256dh:Jt.p256dh,endpoint:Jt.endpoint,swScope:Jt.swScope,vapidKey:"string"==typeof Jt.vapidKey?Jt.vapidKey:Xt(Jt.vapidKey)}}}else if(3===it){const Jt=zn;k={token:Jt.fcmToken,createTime:Jt.createTime,subscriptionOptions:{auth:Xt(Jt.auth),p256dh:Xt(Jt.p256dh),endpoint:Jt.endpoint,swScope:Jt.swScope,vapidKey:Xt(Jt.vapidKey)}}}else if(4===it){const Jt=zn;k={token:Jt.fcmToken,createTime:Jt.createTime,subscriptionOptions:{auth:Xt(Jt.auth),p256dh:Xt(Jt.p256dh),endpoint:Jt.endpoint,swScope:Jt.swScope,vapidKey:Xt(Jt.vapidKey)}}}}),function(it,Rt,ln,er){return pe.apply(this,arguments)})})).close(),yield(0,ie.Lj)(on),yield(0,ie.Lj)("fcm_vapid_details_db"),yield(0,ie.Lj)("undefined"),function _r(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:k}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}(k)?k:null;var pe}),zt.apply(this,arguments)}const qr="firebase-messaging-database",qt=1,nt="firebase-messaging-store";let Ae=null;function ht(){return Ae||(Ae=(0,ie.X3)(qr,qt,{upgrade:(V,k)=>{0===k&&V.createObjectStore(nt)}})),Ae}function St(V){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,F.Z)(function*(V){const k=x(V),pe=yield(yield ht()).transaction(nt).objectStore(nt).get(k);if(pe)return pe;{const Oe=yield function kn(V){return zt.apply(this,arguments)}(V.appConfig.senderId);if(Oe)return yield Wt(V,Oe),Oe}}),Zt.apply(this,arguments)}function Wt(V,k){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,F.Z)(function*(V,k){const J=x(V),Oe=(yield ht()).transaction(nt,"readwrite");return yield Oe.objectStore(nt).put(k,J),yield Oe.done,k})).apply(this,arguments)}function z(){return(z=(0,F.Z)(function*(V){const k=x(V),pe=(yield ht()).transaction(nt,"readwrite");yield pe.objectStore(nt).delete(k),yield pe.done})).apply(this,arguments)}function x({appConfig:V}){return V.appId}const S=new Y.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function U(V,k){return re.apply(this,arguments)}function re(){return(re=(0,F.Z)(function*(V,k){const J=yield at(V),pe=pt(k),Oe={method:"POST",headers:J,body:JSON.stringify(pe)};let it;try{it=yield(yield fetch(He(V.appConfig),Oe)).json()}catch(Rt){throw S.create("token-subscribe-failed",{errorInfo:Rt?.toString()})}if(it.error)throw S.create("token-subscribe-failed",{errorInfo:it.error.message});if(!it.token)throw S.create("token-subscribe-no-token");return it.token})).apply(this,arguments)}function Ke(){return(Ke=(0,F.Z)(function*(V,k){const J=yield at(V),pe=pt(k.subscriptionOptions),Oe={method:"PATCH",headers:J,body:JSON.stringify(pe)};let it;try{it=yield(yield fetch(`${He(V.appConfig)}/${k.token}`,Oe)).json()}catch(Rt){throw S.create("token-update-failed",{errorInfo:Rt?.toString()})}if(it.error)throw S.create("token-update-failed",{errorInfo:it.error.message});if(!it.token)throw S.create("token-update-no-token");return it.token})).apply(this,arguments)}function Ze(V,k){return rt.apply(this,arguments)}function rt(){return(rt=(0,F.Z)(function*(V,k){const pe={method:"DELETE",headers:yield at(V)};try{const it=yield(yield fetch(`${He(V.appConfig)}/${k}`,pe)).json();if(it.error)throw S.create("token-unsubscribe-failed",{errorInfo:it.error.message})}catch(Oe){throw S.create("token-unsubscribe-failed",{errorInfo:Oe?.toString()})}})).apply(this,arguments)}function He({projectId:V}){return`${Kt}/projects/${V}/registrations`}function at(V){return ft.apply(this,arguments)}function ft(){return(ft=(0,F.Z)(function*({appConfig:V,installations:k}){const J=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function pt({p256dh:V,auth:k,endpoint:J,vapidKey:pe}){const Oe={web:{endpoint:J,auth:k,p256dh:V}};return pe!==Ht&&(Oe.web.applicationPubKey=pe),Oe}const Si=6048e5;function ns(){return ns=(0,F.Z)(function*(V){const k=yield function an(V,k){return mn.apply(this,arguments)}(V.swRegistration,V.vapidKey),J={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:k.endpoint,auth:Xt(k.getKey("auth")),p256dh:Xt(k.getKey("p256dh"))},pe=yield St(V.firebaseDependencies);if(pe){if(function gn(V,k){return k.vapidKey===V.vapidKey&&k.endpoint===V.endpoint&&k.auth===V.auth&&k.p256dh===V.p256dh}(pe.subscriptionOptions,J))return Date.now()>=pe.createTime+Si?function se(V,k){return De.apply(this,arguments)}(V,{token:pe.token,createTime:Date.now(),subscriptionOptions:J}):pe.token;try{yield Ze(V.firebaseDependencies,pe.token)}catch(Oe){console.warn(Oe)}return Ne(V.firebaseDependencies,J)}return Ne(V.firebaseDependencies,J)}),ns.apply(this,arguments)}function rs(){return rs=(0,F.Z)(function*(V){const k=yield St(V.firebaseDependencies);k&&(yield Ze(V.firebaseDependencies,k.token),yield function q(V){return z.apply(this,arguments)}(V.firebaseDependencies));const J=yield V.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()}),rs.apply(this,arguments)}function De(){return De=(0,F.Z)(function*(V,k){try{const J=yield function Ee(V,k){return Ke.apply(this,arguments)}(V.firebaseDependencies,k),pe=Object.assign(Object.assign({},k),{token:J,createTime:Date.now()});return yield Wt(V.firebaseDependencies,pe),J}catch(J){throw yield function Co(V){return rs.apply(this,arguments)}(V),J}}),De.apply(this,arguments)}function Ne(V,k){return gt.apply(this,arguments)}function gt(){return(gt=(0,F.Z)(function*(V,k){const pe={token:yield U(V,k),createTime:Date.now(),subscriptionOptions:k};return yield Wt(V,pe),pe.token})).apply(this,arguments)}function mn(){return(mn=(0,F.Z)(function*(V,k){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:An(k)})})).apply(this,arguments)}function br(V){const k={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function is(V,k){if(!k.notification)return;V.notification={};const J=k.notification.title;J&&(V.notification.title=J);const pe=k.notification.body;pe&&(V.notification.body=pe);const Oe=k.notification.image;Oe&&(V.notification.image=Oe);const it=k.notification.icon;it&&(V.notification.icon=it)}(k,V),function lr(V,k){k.data&&(V.data=k.data)}(k,V),function Ni(V,k){var J,pe,Oe,it,Rt;if(!(k.fcmOptions||null!==(J=k.notification)&&void 0!==J&&J.click_action))return;V.fcmOptions={};const ln=null!==(Oe=null===(pe=k.fcmOptions)||void 0===pe?void 0:pe.link)&&void 0!==Oe?Oe:null===(it=k.notification)||void 0===it?void 0:it.click_action;ln&&(V.fcmOptions.link=ln);const er=null===(Rt=k.fcmOptions)||void 0===Rt?void 0:Rt.analytics_label;er&&(V.fcmOptions.analyticsLabel=er)}(k,V),k}function tn(V,k){const J=[];for(let pe=0;pe<V.length;pe++)J.push(V.charAt(pe)),pe<k.length&&J.push(k.charAt(pe));return J.join("")}function si(V){return S.create("missing-app-config-values",{valueName:V})}tn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zs{constructor(k,J,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Oe=function nn(V){if(!V||!V.options)throw si("App Configuration Object");if(!V.name)throw si("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:J}=V;for(const pe of k)if(!J[pe])throw si(pe);return{appName:V.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:Oe,installations:J,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function Lr(V){return yr.apply(this,arguments)}function yr(){return(yr=(0,F.Z)(function*(V){try{V.swRegistration=yield navigator.serviceWorker.register(je,{scope:ot}),V.swRegistration.update().catch(()=>{})}catch(k){throw S.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function To(){return(To=(0,F.Z)(function*(V,k){if(!k&&!V.swRegistration&&(yield Lr(V)),k||!V.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw S.create("invalid-sw-registration");V.swRegistration=k}})).apply(this,arguments)}function rn(){return(rn=(0,F.Z)(function*(V,k){k?V.vapidKey=k:V.vapidKey||(V.vapidKey=Ht)})).apply(this,arguments)}function Oi(){return Oi=(0,F.Z)(function*(V,k){if(!navigator)throw S.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw S.create("permission-blocked");return yield function ra(V,k){return rn.apply(this,arguments)}(V,k?.vapidKey),yield function Xn(V,k){return To.apply(this,arguments)}(V,k?.serviceWorkerRegistration),function Ai(V){return ns.apply(this,arguments)}(V)}),Oi.apply(this,arguments)}function jn(){return(jn=(0,F.Z)(function*(V,k,J){const pe=function Ct(V){switch(V){case wn.NOTIFICATION_CLICKED:return"notification_open";case wn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(k);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:J[Gt],message_name:J[xt],message_time:J[pn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ui(){return Ui=(0,F.Z)(function*(V,k){const J=k.data;if(!J.isFirebaseMessaging)return;V.onMessageHandler&&J.messageType===wn.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(br(J)):V.onMessageHandler.next(br(J)));const pe=J.data;(function Et(V){return"object"==typeof V&&!!V&&Gt in V})(pe)&&"1"===pe[Qn]&&(yield function ja(V,k,J){return jn.apply(this,arguments)}(V,J.messageType,pe))}),Ui.apply(this,arguments)}const Vr="@firebase/messaging",Ss=V=>{const k=new Zs(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function Yt(V,k){return Ui.apply(this,arguments)}(k,J)),k},_n=V=>{const k=V.getProvider("messaging").getImmediate();return{getToken:pe=>function ys(V,k){return Oi.apply(this,arguments)}(k,pe)}};function Yn(){return Io.apply(this,arguments)}function Io(){return(Io=(0,F.Z)(function*(){try{yield(0,Y.eu)()}catch{return!1}return typeof window<"u"&&(0,Y.hl)()&&(0,Y.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yp(){(0,X._registerComponent)(new ce.wA("messaging",Ss,"PUBLIC")),(0,X._registerComponent)(new ce.wA("messaging-internal",_n,"PRIVATE")),(0,X.registerVersion)(Vr,"0.12.4"),(0,X.registerVersion)(Vr,"0.12.4","esm2017")}();var ss=L(3008),os=L(4408),Wa=L(7565);const as=new class vp extends Wa.v{}(class Er extends os.o{constructor(k,J){super(k,J),this.scheduler=k,this.work=J}schedule(k,J=0){return J>0?super.schedule(k,J):(this.delay=J,this.state=k,this.scheduler.flush(this),this)}execute(k,J){return J>0||this.closed?super.execute(k,J):this._execute(k,J)}requestAsyncId(k,J,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(k,J,pe):(k.flush(this),0)}});var nu=L(4986),ru=L(9751),iu=L(8505),su=L(9468),Do=L(5363);const qa=new s.GfV("7.5.0"),ou="__angularfire_symbol__analyticsIsSupportedValue",Za="__angularfire_symbol__analyticsIsSupported",ls="__angularfire_symbol__remoteConfigIsSupportedValue",Bl="__angularfire_symbol__remoteConfigIsSupported",au="__angularfire_symbol__messagingIsSupportedValue",Ns="__angularfire_symbol__messagingIsSupported";globalThis[Za]||(globalThis[Za]=(0,ss.Gb)().then(V=>globalThis[ou]=V).catch(()=>globalThis[ou]=!1)),globalThis[Ns]||(globalThis[Ns]=Yn().then(V=>globalThis[au]=V).catch(()=>globalThis[au]=!1)),globalThis[Bl]||(globalThis[Bl]=ne().then(V=>globalThis[ls]=V).catch(()=>globalThis[ls]=!1));const Ks={async:()=>globalThis[Za],sync:()=>{const V=globalThis[ou];if(void 0===V)throw new Error((V=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${V} in the constructor, first ensure that ${V} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${V})\`.`)("Analytics"));return V}};function Ya(V,k,J){if(k){if(1===k.length)return k[0];const it=k.filter(Rt=>Rt.app===J);if(1===it.length)return it[0]}return J.container.getProvider(V).getImmediate({optional:!0})}const Js=(V,k)=>{const J=k?[k]:(0,B.C6)(),pe=[];return J.forEach(Oe=>{Oe.container.getProvider(V).instances.forEach(Rt=>{pe.includes(Rt)||pe.push(Rt)})}),pe};function So(){}class Ao{constructor(k,J=as){this.zone=k,this.delegate=J}now(){return this.delegate.now()}schedule(k,J,pe){const Oe=this.zone;return this.delegate.schedule(function(Rt){Oe.runGuarded(()=>{k.apply(this,[Rt])})},J,pe)}}class Ka{constructor(k){this.zone=k,this.task=null}call(k,J){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So)),J.pipe((0,iu.b)({next:pe,complete:pe,error:pe})).subscribe(k).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qs=(()=>{class V{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new Ao(Zone.current)),this.insideAngular=J.run(()=>new Ao(Zone.current,nu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(J){return new(J||V)(s.LFG(s.R0b))},V.\u0275prov=s.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function Xs(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function Os(V){return Xs().ngZone.run(()=>V())}function fi(V){return Xs(),function pi(V){return function(J){return(J=J.lift(new Ka(V.ngZone))).pipe((0,su.R)(V.outsideAngular),(0,Do.Q)(V.insideAngular))}}(Xs())(V)}const $l=(V,k)=>function(){const pe=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),Os(()=>V.apply(void 0,pe))},oa=(V,k)=>function(){let J;const pe=arguments;for(let it=0;it<arguments.length;it++)"function"==typeof pe[it]&&(k&&(J||(J=Os(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So)))),pe[it]=$l(pe[it],J));const Oe=function Ja(V){return Xs().ngZone.runOutsideAngular(()=>V())}(()=>V.apply(this,pe));if(!k){if(Oe instanceof ru.y){const it=Xs();return Oe.pipe((0,su.R)(it.outsideAngular),(0,Do.Q)(it.insideAngular))}return Os(()=>Oe)}return Oe instanceof ru.y?Oe.pipe(fi):Oe instanceof Promise?Os(()=>new Promise((it,Rt)=>Oe.then(ln=>Os(()=>it(ln)),ln=>Os(()=>Rt(ln))))):"function"==typeof Oe&&J?function(){return setTimeout(()=>{J&&"scheduled"===J.state&&J.invoke()},10),Oe.apply(this,arguments)}:Os(()=>Oe)}},8277:(Tt,Me,L)=>{L.d(Me,{$:()=>gi,A:()=>G,D:()=>Ie,I:()=>yr,J:()=>ys,L:()=>as,N:()=>Wt,P:()=>eh,Q:()=>Gl,R:()=>xs,U:()=>Js,V:()=>So,W:()=>Ao,X:()=>Ya,Y:()=>Ja,Z:()=>Os,_:()=>$l,a:()=>Wd,a0:()=>ai,a1:()=>cr,a2:()=>x_,a3:()=>Yr,a4:()=>jl,a5:()=>Vd,a6:()=>Ep,a7:()=>Cp,a8:()=>Rs,a9:()=>ca,aA:()=>Z,aB:()=>ny,aC:()=>St,aD:()=>Rn,aE:()=>ih,aF:()=>Fo,aG:()=>ko,aH:()=>nn,aL:()=>no,aO:()=>Qs,aa:()=>Mi,ab:()=>fu,ac:()=>gE,ad:()=>Ip,ae:()=>P_,af:()=>gu,ai:()=>Dp,aj:()=>Sp,ak:()=>F_,an:()=>pe,ao:()=>Xa,aq:()=>G_,ar:()=>fr,as:()=>vt,at:()=>Ze,au:()=>re,av:()=>xe,aw:()=>gh,ax:()=>iy,ay:()=>rt,az:()=>we,b:()=>bu,c:()=>Gp,d:()=>al,e:()=>ol,f:()=>th,g:()=>Au,h:()=>Hp,i:()=>da,j:()=>rh,k:()=>Kp,l:()=>Vp,m:()=>_h,o:()=>fy,p:()=>le,r:()=>pa,s:()=>xi,u:()=>bE,x:()=>U_});var s=L(5861),B=L(2090),F=L(9681),X=L(655),Y=L(1877),ce=L(4859);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ie=function K(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Le=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new Y.Yd("@firebase/auth");function We(b,...g){Se.logLevel<=Y.in.ERROR&&Se.error(`Auth (${F.SDK_VERSION}): ${b}`,...g)}function xe(b,...g){throw Fe(b,...g)}function we(b,...g){return Fe(b,...g)}function ke(b,g,_){const w=Object.assign(Object.assign({},Le()),{[g]:_});return new B.LL("auth","Firebase",w).create(g,{appName:b.name})}function Ue(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&xe(b,"argument-error"),ke(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(b,...g){if("string"!=typeof b){const _=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return lt.create(b,...g)}function Z(b,g,..._){if(!b)throw Fe(g,..._)}function Ge(b){const g="INTERNAL ASSERTION FAILED: "+b;throw We(g),new Error(g)}function vt(b,g){b||Ge(g)}function Pt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function vn(){return"http:"===Nn()||"https:"===Nn()}function Nn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Te{constructor(g,_){this.shortDelay=g,this.longDelay=_,vt(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function ge(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vn()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ve(b,g){vt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class $e{static initialize(g,_,w){this.fetchImpl=g,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ct=new Te(3e4,6e4);function Je(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Ut(b,g,_,w){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,s.Z)(function*(b,g,_,w,D={}){return Qt(b,D,(0,s.Z)(function*(){let M={},ee={};w&&("GET"===g?ee=w:M={body:JSON.stringify(w)});const fe=(0,B.xO)(Object.assign({key:b.config.apiKey},ee)).slice(1),st=yield b._getAdditionalHeaders();return st["Content-Type"]="application/json",b.languageCode&&(st["X-Firebase-Locale"]=b.languageCode),$e.fetch()(Pn(b,b.config.apiHost,_,fe),Object.assign({method:g,headers:st,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Qt(b,g,_){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(b,g,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},qe),g);try{const D=new Fn(b),M=yield Promise.race([_(),D.promise]);D.clearNetworkTimeout();const ee=yield M.json();if("needConfirmation"in ee)throw Sn(b,"account-exists-with-different-credential",ee);if(M.ok&&!("errorMessage"in ee))return ee;{const fe=M.ok?ee.errorMessage:ee.error.message,[st,ut]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===st)throw Sn(b,"credential-already-in-use",ee);if("EMAIL_EXISTS"===st)throw Sn(b,"email-already-in-use",ee);if("USER_DISABLED"===st)throw Sn(b,"user-disabled",ee);const At=w[st]||st.toLowerCase().replace(/[_\s]+/g,"-");if(ut)throw ke(b,At,ut);xe(b,At)}}catch(D){if(D instanceof B.ZR)throw D;xe(b,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function Ft(b,g,_,w){return On.apply(this,arguments)}function On(){return(On=(0,s.Z)(function*(b,g,_,w,D={}){const M=yield Ut(b,g,_,w,D);return"mfaPendingCredential"in M&&xe(b,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Pn(b,g,_,w){const D=`${g}${_}?${w}`;return b.config.emulator?Ve(b.config,D):`${b.config.apiScheme}://${D}`}class Fn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(we(this.auth,"network-request-failed")),ct.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sn(b,g,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const D=we(b,g,w);return D.customData._tokenResponse=_,D}function Jn(){return(Jn=(0,s.Z)(function*(b,g){return Ut(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function oe(){return(oe=(0,s.Z)(function*(b,g){return Ut(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function he(){return(he=(0,s.Z)(function*(b,g){return Ut(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ie(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Ht(){return(Ht=(0,s.Z)(function*(b,g=!1){const _=(0,B.m9)(b),w=yield _.getIdToken(g),D=Gt(w);Z(D&&D.exp&&D.auth_time&&D.iat,_.auth,"internal-error");const M="object"==typeof D.firebase?D.firebase:void 0,ee=M?.sign_in_provider;return{claims:D,token:w,authTime:ie(Kt(D.auth_time)),issuedAtTime:ie(Kt(D.iat)),expirationTime:ie(Kt(D.exp)),signInProvider:ee||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function Kt(b){return 1e3*Number(b)}function Gt(b){const[g,_,w]=b.split(".");if(void 0===g||void 0===_||void 0===w)return We("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,B.tV)(_);return D?JSON.parse(D):(We("Failed to decode base64 JWT payload"),null)}catch(D){return We("Caught error parsing JWT payload as JSON",D?.toString()),null}}function pn(b,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,s.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(w){throw w instanceof B.ZR&&function Ln({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}class wn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const D=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),w)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class Xt{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ie(this.lastLoginAt),this.creationTime=ie(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function An(b){return on.apply(this,arguments)}function on(){return on=(0,s.Z)(function*(b){var g;const _=b.auth,w=yield b.getIdToken(),D=yield pn(b,function ne(b,g){return he.apply(this,arguments)}(_,{idToken:w}));Z(D?.users.length,_,"internal-error");const M=D.users[0];b._notifyReloadListener(M);const ee=null!==(g=M.providerUserInfo)&&void 0!==g&&g.length?function zt(b){return b.map(g=>{var{providerId:_}=g,w=(0,X._T)(g,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(M.providerUserInfo):[],fe=function kn(b,g){return[...b.filter(w=>!g.some(D=>D.providerId===w.providerId)),...g]}(b.providerData,ee),At=!!b.isAnonymous&&!(b.email&&M.passwordHash||fe?.length),un={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:fe,metadata:new Xt(M.createdAt,M.lastLoginAt),isAnonymous:At};Object.assign(b,un)}),on.apply(this,arguments)}function Mr(){return(Mr=(0,s.Z)(function*(b){const g=(0,B.m9)(b);yield An(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function qr(){return(qr=(0,s.Z)(function*(b,g){const _=yield Qt(b,{},(0,s.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:D,apiKey:M}=b.config,ee=Pn(b,D,"/v1/token",`key=${M}`),fe=yield b._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",$e.fetch()(ee,{method:"POST",headers:fe,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Z(g.idToken,"internal-error"),Z(typeof g.idToken<"u","internal-error"),Z(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function xt(b){const g=Gt(b);return Z(g,"internal-error"),Z(typeof g.exp<"u","internal-error"),Z(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var w=this;return(0,s.Z)(function*(){return Z(!w.accessToken||w.refreshToken,g,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var w=this;return(0,s.Z)(function*(){const{accessToken:D,refreshToken:M,expiresIn:ee}=yield function _r(b,g){return qr.apply(this,arguments)}(g,_);w.updateTokensAndExpiration(D,M,Number(ee))})()}updateTokensAndExpiration(g,_,w){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,_){const{refreshToken:w,accessToken:D,expirationTime:M}=_,ee=new qt;return w&&(Z("string"==typeof w,"internal-error",{appName:g}),ee.refreshToken=w),D&&(Z("string"==typeof D,"internal-error",{appName:g}),ee.accessToken=D),M&&(Z("number"==typeof M,"internal-error",{appName:g}),ee.expirationTime=M),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function nt(b,g){Z("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class Ae{constructor(g){var{uid:_,auth:w,stsTokenManager:D}=g,M=(0,X._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Xt(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,s.Z)(function*(){const w=yield pn(_,_.stsTokenManager.getToken(_.auth,g));return Z(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(g){return function ot(b){return Ht.apply(this,arguments)}(this,g)}reload(){return function Zn(b){return Mr.apply(this,arguments)}(this)}_assign(g){this!==g&&(Z(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new Ae(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var w=this;return(0,s.Z)(function*(){let D=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),D=!0),_&&(yield An(w)),yield w.auth._persistUserIfCurrent(w),D&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,s.Z)(function*(){const _=yield g.getIdToken();return yield pn(g,function Kn(b,g){return Jn.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var w,D,M,ee,fe,st,ut,At;const un=null!==(w=_.displayName)&&void 0!==w?w:void 0,gr=null!==(D=_.email)&&void 0!==D?D:void 0,Wi=null!==(M=_.phoneNumber)&&void 0!==M?M:void 0,hl=null!==(ee=_.photoURL)&&void 0!==ee?ee:void 0,cc=null!==(fe=_.tenantId)&&void 0!==fe?fe:void 0,Xp=null!==(st=_._redirectEventId)&&void 0!==st?st:void 0,ya=null!==(ut=_.createdAt)&&void 0!==ut?ut:void 0,uc=null!==(At=_.lastLoginAt)&&void 0!==At?At:void 0,{uid:dc,emailVerified:xu,isAnonymous:wh,providerData:hc,stsTokenManager:Ch}=_;Z(dc&&Ch,g,"internal-error");const va=qt.fromJSON(this.name,Ch);Z("string"==typeof dc,g,"internal-error"),nt(un,g.name),nt(gr,g.name),Z("boolean"==typeof xu,g,"internal-error"),Z("boolean"==typeof wh,g,"internal-error"),nt(Wi,g.name),nt(hl,g.name),nt(cc,g.name),nt(Xp,g.name),nt(ya,g.name),nt(uc,g.name);const fl=new Ae({uid:dc,auth:g,email:gr,emailVerified:xu,displayName:un,isAnonymous:wh,photoURL:hl,phoneNumber:Wi,tenantId:cc,stsTokenManager:va,createdAt:ya,lastLoginAt:uc});return hc&&Array.isArray(hc)&&(fl.providerData=hc.map(eg=>Object.assign({},eg))),Xp&&(fl._redirectEventId=Xp),fl}static _fromIdTokenResponse(g,_,w=!1){return(0,s.Z)(function*(){const D=new qt;D.updateFromServerResponse(_);const M=new Ae({uid:_.localId,auth:g,stsTokenManager:D,isAnonymous:w});return yield An(M),M})()}}const ht=new Map;function St(b){vt(b instanceof Function,"Expected a class definition");let g=ht.get(b);return g?(vt(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,ht.set(b,g),g)}const Wt=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,w){var D=this;return(0,s.Z)(function*(){D.storage[_]=w})()}_get(_){var w=this;return(0,s.Z)(function*(){const D=w.storage[_];return void 0===D?null:D})()}_remove(_){var w=this;return(0,s.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function Rn(b,g,_){return`firebase:${b}:${g}:${_}`}class q{constructor(g,_,w){this.persistence=g,this.auth=_,this.userKey=w;const{config:D,name:M}=this.auth;this.fullUserKey=Rn(this.userKey,D.apiKey,M),this.fullPersistenceKey=Rn("persistence",D.apiKey,M),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Ae._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,s.Z)(function*(){if(_.persistence===g)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,w="authUser"){return(0,s.Z)(function*(){if(!_.length)return new q(St(Wt),g,w);const D=(yield Promise.all(_.map(function(){var ut=(0,s.Z)(function*(At){if(yield At._isAvailable())return At});return function(At){return ut.apply(this,arguments)}}()))).filter(ut=>ut);let M=D[0]||St(Wt);const ee=Rn(w,g.config.apiKey,g.name);let fe=null;for(const ut of _)try{const At=yield ut._get(ee);if(At){const un=Ae._fromJSON(g,At);ut!==M&&(fe=un),M=ut;break}}catch{}const st=D.filter(ut=>ut._shouldAllowMigration);return M._shouldAllowMigration&&st.length?(M=st[0],fe&&(yield M._set(ee,fe.toJSON())),yield Promise.all(_.map(function(){var ut=(0,s.Z)(function*(At){if(At!==M)try{yield At._remove(ee)}catch{}});return function(At){return ut.apply(this,arguments)}}())),new q(M,g,w)):new q(M,g,w)})()}}function z(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(U(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(x(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ee(g))return"Blackberry";if(Ke(g))return"Webos";if(N(g))return"Safari";if((g.includes("chrome/")||S(g))&&!g.includes("edge/"))return"Chrome";if(re(g))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function x(b=(0,B.z$)()){return/firefox\//i.test(b)}function N(b=(0,B.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function S(b=(0,B.z$)()){return/crios\//i.test(b)}function U(b=(0,B.z$)()){return/iemobile/i.test(b)}function re(b=(0,B.z$)()){return/android/i.test(b)}function Ee(b=(0,B.z$)()){return/blackberry/i.test(b)}function Ke(b=(0,B.z$)()){return/webos/i.test(b)}function Ze(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function rt(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ft(b=(0,B.z$)()){return Ze(b)||re(b)||Ke(b)||Ee(b)||/windows phone/i.test(b)||U(b)}function Si(b,g=[]){let _;switch(b){case"Browser":_=z((0,B.z$)());break;case"Worker":_=`${z((0,B.z$)())}-${b}`;break;default:_=b}const w=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${F.SDK_VERSION}/${w}`}function ns(){return(ns=(0,s.Z)(function*(b){return(yield Ut(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Co(b,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,s.Z)(function*(b,g){return Ut(b,"GET","/v2/recaptchaConfig",Je(b,g))})).apply(this,arguments)}function se(b){return void 0!==b&&void 0!==b.getResponse}function De(b){return void 0!==b&&void 0!==b.enterprise}class Ne{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function an(b){return new Promise((g,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=g,w.onerror=D=>{const M=we("internal-error");M.customData=D,_(M)},w.type="text/javascript",w.charset="UTF-8",function gt(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(w)})}function mn(b){return`__${b}${Math.floor(1e6*Math.random())}`}class is{constructor(g){this.type="recaptcha-enterprise",this.auth=nn(g)}verify(g="verify",_=!1){var w=this;return(0,s.Z)(function*(){function M(){return M=(0,s.Z)(function*(fe){if(!_){if(null==fe.tenantId&&null!=fe._agentRecaptchaConfig)return fe._agentRecaptchaConfig.siteKey;if(null!=fe.tenantId&&void 0!==fe._tenantRecaptchaConfigs[fe.tenantId])return fe._tenantRecaptchaConfigs[fe.tenantId].siteKey}return new Promise(function(){var st=(0,s.Z)(function*(ut,At){Co(fe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(un=>{if(void 0!==un.recaptchaKey){const gr=new Ne(un);return null==fe.tenantId?fe._agentRecaptchaConfig=gr:fe._tenantRecaptchaConfigs[fe.tenantId]=gr,ut(gr.siteKey)}At(new Error("recaptcha Enterprise site key undefined"))}).catch(un=>{At(un)})});return function(ut,At){return st.apply(this,arguments)}}())}),M.apply(this,arguments)}function ee(fe,st,ut){const At=window.grecaptcha;De(At)?At.enterprise.ready(()=>{try{At.enterprise.execute(fe,{action:g}).then(un=>{st(un)}).catch(un=>{ut(un)})}catch(un){ut(un)}}):ut(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((fe,st)=>{(function D(fe){return M.apply(this,arguments)})(w.auth).then(ut=>{if(!_&&De(window.grecaptcha))ee(ut,fe,st);else{if(typeof window>"u")return void st(new Error("RecaptchaVerifier is only supported in browser"));an("https://www.google.com/recaptcha/enterprise.js?render="+ut).then(()=>{ee(ut,fe,st)}).catch(At=>{st(At)})}}).catch(ut=>{st(ut)})})})()}}function lr(b,g,_){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(b,g,_,w=!1){const D=new is(b);let M;try{M=yield D.verify(_)}catch{M=yield D.verify(_,!0)}const ee=Object.assign({},g);return Object.assign(ee,w?{captchaResp:M}:{captchaResponse:M}),Object.assign(ee,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ee,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ee})).apply(this,arguments)}class Et{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const w=M=>new Promise((ee,fe)=>{try{ee(g(M))}catch(st){fe(st)}});w.onAbort=_,this.queue.push(w);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,s.Z)(function*(){if(_.auth.currentUser===g)return;const w=[];try{for(const D of _.queue)yield D(g),D.onAbort&&w.push(D.onAbort)}catch(D){w.reverse();for(const M of w)try{M()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class tn{constructor(g,_,w,D){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new si(this),this.idTokenSubscription=new si(this),this.beforeStateQueue=new Et(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(g,_){var w=this;return _&&(this._popupRedirectResolver=St(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var D,M;if(!w._deleted&&(w.persistenceManager=yield q.create(w,g),!w._deleted)){if(null!==(D=w._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(M=w.currentUser)||void 0===M?void 0:M.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,s.Z)(function*(){var w;const D=yield _.assertedPersistence.getCurrentUser();let M=D,ee=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const fe=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,st=M?._redirectEventId,ut=yield _.tryRedirectSignIn(g);(!fe||fe===st)&&ut?.user&&(M=ut.user,ee=!0)}if(!M)return _.directlySetCurrentUser(null);if(!M._redirectEventId){if(ee)try{yield _.beforeStateQueue.runMiddleware(M)}catch(fe){M=D,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(fe))}return M?_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)}return Z(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(g){var _=this;return(0,s.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,s.Z)(function*(){try{yield An(g)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function ve(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,s.Z)(function*(){const w=g?(0,B.m9)(g):null;return w&&Z(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(g,_=!1){var w=this;return(0,s.Z)(function*(){if(!w._deleted)return g&&Z(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,s.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(St(g))}))}initializeRecaptchaConfig(){var g=this;return(0,s.Z)(function*(){const _=yield Co(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new Ne(_);null==g.tenantId?g._agentRecaptchaConfig=w:g._tenantRecaptchaConfigs[g.tenantId]=w,w.emailPasswordEnabled&&new is(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,_,w){return this.registerStateListener(this.authStateSubscription,g,_,w)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,w){return this.registerStateListener(this.idTokenSubscription,g,_,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var w=this;return(0,s.Z)(function*(){const D=yield w.getOrInitRedirectPersistenceManager(_);return null===g?D.removeCurrentUser():D.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const w=g&&St(g)||_._popupRedirectResolver;Z(w,_,"argument-error"),_.redirectPersistenceManager=yield q.create(_,[St(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,s.Z)(function*(){var w,D;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===g?_._currentUser:(null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,s.Z)(function*(){if(g===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,w,D){if(this._deleted)return()=>{};const M="function"==typeof _?_:_.next.bind(_),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(ee,this,"internal-error"),ee.then(()=>M(this.currentUser)),"function"==typeof _?g.addObserver(_,w,D):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Si(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var _;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const D=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();D&&(w["X-Firebase-Client"]=D);const M=yield g._getAppCheckToken();return M&&(w["X-Firebase-AppCheck"]=M),w})()}_getAppCheckToken(){var g=this;return(0,s.Z)(function*(){var _;const w=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function Pe(b,...g){Se.logLevel<=Y.in.WARN&&Se.warn(`Auth (${F.SDK_VERSION}): ${b}`,...g)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function nn(b){return(0,B.m9)(b)}class si{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yr(b,g,_){const w=nn(b);Z(w._canInitEmulator,w,"emulator-config-failed"),Z(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const D=!!_?.disableWarnings,M=Xn(g),{host:ee,port:fe}=function To(b){const g=Xn(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(w);if(D){const M=D[1];return{host:M,port:ra(w.substr(M.length+1))}}{const[M,ee]=w.split(":");return{host:M,port:ra(ee)}}}(g);w.config.emulator={url:`${M}//${ee}${null===fe?"":`:${fe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:ee,port:fe,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function rn(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Xn(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function ra(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class ys{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Ge("not implemented")}_getIdTokenResponse(g){return Ge("not implemented")}_linkToIdToken(g,_){return Ge("not implemented")}_getReauthenticationResolver(g){return Ge("not implemented")}}function Oi(b,g){return ja.apply(this,arguments)}function ja(){return(ja=(0,s.Z)(function*(b,g){return Ut(b,"POST","/v1/accounts:resetPassword",Je(b,g))})).apply(this,arguments)}function jn(b,g){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,s.Z)(function*(b,g){return Ut(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ui(){return(Ui=(0,s.Z)(function*(b,g){return Ut(b,"POST","/v1/accounts:update",Je(b,g))})).apply(this,arguments)}function Vr(b,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,s.Z)(function*(b,g){return Ft(b,"POST","/v1/accounts:signInWithPassword",Je(b,g))})).apply(this,arguments)}function Ss(b,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,s.Z)(function*(b,g){return Ut(b,"POST","/v1/accounts:sendOobCode",Je(b,g))})).apply(this,arguments)}function Yn(){return(Yn=(0,s.Z)(function*(b,g){return Ss(b,g)})).apply(this,arguments)}function Io(b,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,s.Z)(function*(b,g){return Ss(b,g)})).apply(this,arguments)}function As(b,g){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,s.Z)(function*(b,g){return Ss(b,g)})).apply(this,arguments)}function Ha(){return(Ha=(0,s.Z)(function*(b,g){return Ss(b,g)})).apply(this,arguments)}function hi(){return(hi=(0,s.Z)(function*(b,g){return Ft(b,"POST","/v1/accounts:signInWithEmailLink",Je(b,g))})).apply(this,arguments)}function ss(){return(ss=(0,s.Z)(function*(b,g){return Ft(b,"POST","/v1/accounts:signInWithEmailLink",Je(b,g))})).apply(this,arguments)}class os extends ys{constructor(g,_,w,D=null){super("password",w),this._email=g,this._password=_,this._tenantId=D}static _fromEmailAndPassword(g,_){return new os(g,_,"password")}static _fromEmailAndCode(g,_,w=null){return new os(g,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,s.Z)(function*(){var w;switch(_.signInMethod){case"password":const D={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=g._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const M=yield lr(g,D,"signInWithPassword");return Vr(g,M)}return Vr(g,D).catch(function(){var M=(0,s.Z)(function*(ee){if("auth/missing-recaptcha-token"===ee.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const fe=yield lr(g,D,"signInWithPassword");return Vr(g,fe)}return Promise.reject(ee)});return function(ee){return M.apply(this,arguments)}}());case"emailLink":return function Zr(b,g){return hi.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:xe(g,"internal-error")}})()}_linkToIdToken(g,_){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return jn(g,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function za(b,g){return ss.apply(this,arguments)}(g,{idToken:_,email:w._email,oobCode:w._password});default:xe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Er(b,g){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,s.Z)(function*(b,g){return Ft(b,"POST","/v1/accounts:signInWithIdp",Je(b,g))})).apply(this,arguments)}class as extends ys{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new as(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):xe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:D}=_,M=(0,X._T)(_,["providerId","signInMethod"]);if(!w||!D)return null;const ee=new as(w,D);return ee.idToken=M.idToken||void 0,ee.accessToken=M.accessToken||void 0,ee.secret=M.secret,ee.nonce=M.nonce,ee.pendingToken=M.pendingToken||null,ee}_getIdTokenResponse(g){return Er(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,Er(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Er(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,B.xO)(_)}return g}}function nu(){return(nu=(0,s.Z)(function*(b,g){return Ut(b,"POST","/v1/accounts:sendVerificationCode",Je(b,g))})).apply(this,arguments)}function iu(){return(iu=(0,s.Z)(function*(b,g){return Ft(b,"POST","/v1/accounts:signInWithPhoneNumber",Je(b,g))})).apply(this,arguments)}function Do(){return(Do=(0,s.Z)(function*(b,g){const _=yield Ft(b,"POST","/v1/accounts:signInWithPhoneNumber",Je(b,g));if(_.temporaryProof)throw Sn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const qa={USER_NOT_FOUND:"user-not-found"};function Za(){return(Za=(0,s.Z)(function*(b,g){return Ft(b,"POST","/v1/accounts:signInWithPhoneNumber",Je(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),qa)})).apply(this,arguments)}class ls extends ys{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new ls({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new ls({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function ru(b,g){return iu.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function su(b,g){return Do.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ou(b,g){return Za.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:w,verificationCode:D}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:w,code:D}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:w,phoneNumber:D,temporaryProof:M}=g;return w||_||D||M?new ls({verificationId:_,verificationCode:w,phoneNumber:D,temporaryProof:M}):null}}class Ns{constructor(g){var _,w,D,M,ee,fe;const st=(0,B.zd)((0,B.pd)(g)),ut=null!==(_=st.apiKey)&&void 0!==_?_:null,At=null!==(w=st.oobCode)&&void 0!==w?w:null,un=function Bl(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=st.mode)&&void 0!==D?D:null);Z(ut&&At&&un,"argument-error"),this.apiKey=ut,this.operation=un,this.code=At,this.continueUrl=null!==(M=st.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(ee=st.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(fe=st.tenantId)&&void 0!==fe?fe:null}static parseLink(g){const _=function au(b){const g=(0,B.zd)((0,B.pd)(b)).link,_=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||_||g||b}(g);try{return new Ns(_)}catch{return null}}}let Gl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return os._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const D=Ns.parseLink(w);return Z(D,"argument-error"),os._fromEmailAndCode(_,D.code,D.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ys{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ks extends Ys{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ya extends Ks{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return Z("providerId"in _&&"signInMethod"in _,"argument-error"),as._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Z(g.idToken||g.accessToken,"argument-error"),as._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ya.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ya.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:D,pendingToken:M,nonce:ee,providerId:fe}=g;if(!w&&!D&&!_&&!M||!fe)return null;try{return new Ya(fe)._credential({idToken:_,accessToken:w,nonce:ee,pendingToken:M})}catch{return null}}}let Js=(()=>{class b extends Ks{constructor(){super("facebook.com")}static credential(_){return as._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),So=(()=>{class b extends Ks{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return as._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:D}=_;if(!w&&!D)return null;try{return b.credential(w,D)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ao=(()=>{class b extends Ks{constructor(){super("github.com")}static credential(_){return as._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Qs extends ys{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Er(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,Er(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Er(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:D,pendingToken:M}=_;return w&&D&&M&&w===D?new Qs(w,M):null}static _create(g,_){return new Qs(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ja extends Ys{constructor(g){Z(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ja.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ja.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Qs.fromJSON(g);return Z(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:w}=g;if(!_||!w)return null;try{return Qs._create(w,_)}catch{return null}}}let Os=(()=>{class b extends Ks{constructor(){super("twitter.com")}static credential(_,w){return as._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:D}=_;if(!w||!D)return null;try{return b.credential(w,D)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ia(b,g){return sa.apply(this,arguments)}function sa(){return(sa=(0,s.Z)(function*(b,g){return Ft(b,"POST","/v1/accounts:signUp",Je(b,g))})).apply(this,arguments)}class fi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,w,D=!1){return(0,s.Z)(function*(){const M=yield Ae._fromIdTokenResponse(g,w,D),ee=pi(w);return new fi({user:M,providerId:ee,_tokenResponse:w,operationType:_})})()}static _forOperation(g,_,w){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const D=pi(w);return new fi({user:g,providerId:D,_tokenResponse:w,operationType:_})})()}}function pi(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function $l(b){return oa.apply(this,arguments)}function oa(){return(oa=(0,s.Z)(function*(b){var g;const _=nn(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new fi({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield ia(_,{returnSecureToken:!0}),D=yield fi._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(D.user),D})).apply(this,arguments)}class V extends B.ZR{constructor(g,_,w,D){var M;super(_.code,_.message),this.operationType=w,this.user=D,Object.setPrototypeOf(this,V.prototype),this.customData={appName:g.name,tenantId:null!==(M=g.tenantId)&&void 0!==M?M:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,_,w,D){return new V(g,_,w,D)}}function k(b,g,_,w){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?V._fromErrorAndOperation(b,M,g,w):M})}function J(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function pe(b,g){return Oe.apply(this,arguments)}function Oe(){return Oe=(0,s.Z)(function*(b,g){const _=(0,B.m9)(b);yield ln(!0,_,g);const{providerUserInfo:w}=yield function hr(b,g){return oe.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),D=J(w||[]);return _.providerData=_.providerData.filter(M=>D.has(M.providerId)),D.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Oe.apply(this,arguments)}function it(b,g){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(b,g,_=!1){const w=yield pn(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return fi._forOperation(b,"link",w)})).apply(this,arguments)}function ln(b,g,_){return er.apply(this,arguments)}function er(){return(er=(0,s.Z)(function*(b,g,_){yield An(g);const D=!1===b?"provider-already-linked":"no-such-provider";Z(J(g.providerData).has(_)===b,g.auth,D)})).apply(this,arguments)}function Hn(b,g){return zn.apply(this,arguments)}function zn(){return(zn=(0,s.Z)(function*(b,g,_=!1){const{auth:w}=b,D="reauthenticate";try{const M=yield pn(b,k(w,D,g,b),_);Z(M.idToken,w,"internal-error");const ee=Gt(M.idToken);Z(ee,w,"internal-error");const{sub:fe}=ee;return Z(b.uid===fe,w,"user-mismatch"),fi._forOperation(b,D,M)}catch(M){throw"auth/user-not-found"===M?.code&&xe(w,"user-mismatch"),M}})).apply(this,arguments)}function Jt(b,g){return $i.apply(this,arguments)}function $i(){return($i=(0,s.Z)(function*(b,g,_=!1){const w="signIn",D=yield k(b,w,g),M=yield fi._fromIdTokenResponse(b,w,D);return _||(yield b._updateCurrentUser(M.user)),M})).apply(this,arguments)}function gi(b,g){return $t.apply(this,arguments)}function $t(){return($t=(0,s.Z)(function*(b,g){return Jt(nn(b),g)})).apply(this,arguments)}function ai(b,g){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(b,g){const _=(0,B.m9)(b);return yield ln(!1,_,g.providerId),it(_,g)})).apply(this,arguments)}function cr(b,g){return cs.apply(this,arguments)}function cs(){return(cs=(0,s.Z)(function*(b,g){return Hn((0,B.m9)(b),g)})).apply(this,arguments)}function cu(){return(cu=(0,s.Z)(function*(b,g){return Ft(b,"POST","/v1/accounts:signInWithCustomToken",Je(b,g))})).apply(this,arguments)}function x_(b,g){return ji.apply(this,arguments)}function ji(){return ji=(0,s.Z)(function*(b,g){const _=nn(b),w=yield function lu(b,g){return cu.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),D=yield fi._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(D.user),D}),ji.apply(this,arguments)}class Be{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Cn._fromServerResponse(g,_):"totpInfo"in _?uu._fromServerResponse(g,_):xe(g,"internal-error")}}class Cn extends Be{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Cn(_)}}class uu extends Be{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new uu(_)}}function la(b,g,_){var w;Z((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),Z(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Z(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(Z(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Yr(b,g,_){return du.apply(this,arguments)}function du(){return du=(0,s.Z)(function*(b,g,_){var w;const D=nn(b),M={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield lr(D,M,"getOobCode",!0);_&&la(D,ee,_),yield Io(D,ee)}else _&&la(D,M,_),yield Io(D,M).catch(function(){var ee=(0,s.Z)(function*(fe){if("auth/missing-recaptcha-token"!==fe.code)return Promise.reject(fe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const st=yield lr(D,M,"getOobCode",!0);_&&la(D,st,_),yield Io(D,st)}});return function(fe){return ee.apply(this,arguments)}}())}),du.apply(this,arguments)}function jl(b,g,_){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,s.Z)(function*(b,g,_){yield Oi((0,B.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Vd(b,g){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,s.Z)(function*(b,g){yield function Yt(b,g){return Ui.apply(this,arguments)}((0,B.m9)(b),{oobCode:g})}),Hl.apply(this,arguments)}function Ep(b,g){return wp.apply(this,arguments)}function wp(){return(wp=(0,s.Z)(function*(b,g){const _=(0,B.m9)(b),w=yield Oi(_,{oobCode:g}),D=w.requestType;switch(Z(D,_,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(w.mfaInfo,_,"internal-error");default:Z(w.email,_,"internal-error")}let M=null;return w.mfaInfo&&(M=Be._fromServerResponse(nn(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:M},operation:D}})).apply(this,arguments)}function Cp(b,g){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,s.Z)(function*(b,g){const{data:_}=yield Ep((0,B.m9)(b),g);return _.email})).apply(this,arguments)}function Rs(b,g,_){return hu.apply(this,arguments)}function hu(){return hu=(0,s.Z)(function*(b,g,_){var w;const D=nn(b),M={returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"};let ee;if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ut=yield lr(D,M,"signUpPassword");ee=ia(D,ut)}else ee=ia(D,M).catch(function(){var ut=(0,s.Z)(function*(At){if("auth/missing-recaptcha-token"===At.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const un=yield lr(D,M,"signUpPassword");return ia(D,un)}return Promise.reject(At)});return function(At){return ut.apply(this,arguments)}}());const fe=yield ee.catch(ut=>Promise.reject(ut)),st=yield fi._fromIdTokenResponse(D,"signIn",fe);return yield D._updateCurrentUser(st.user),st}),hu.apply(this,arguments)}function ca(b,g,_){return gi((0,B.m9)(b),Gl.credential(g,_))}function Mi(b,g,_){return zl.apply(this,arguments)}function zl(){return zl=(0,s.Z)(function*(b,g,_){var w;const D=nn(b),M={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function ee(fe,st){Z(st.handleCodeInApp,D,"argument-error"),st&&la(D,fe,st)}if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const fe=yield lr(D,M,"getOobCode",!0);ee(fe,_),yield As(D,fe)}else ee(M,_),yield As(D,M).catch(function(){var fe=(0,s.Z)(function*(st){if("auth/missing-recaptcha-token"!==st.code)return Promise.reject(st);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ut=yield lr(D,M,"getOobCode",!0);ee(ut,_),yield As(D,ut)}});return function(st){return fe.apply(this,arguments)}}())}),zl.apply(this,arguments)}function fu(b,g){return"EMAIL_SIGNIN"===Ns.parseLink(g)?.operation}function gE(b,g,_){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,s.Z)(function*(b,g,_){const w=(0,B.m9)(b),D=Gl.credentialWithLink(g,_||Pt());return Z(D._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),gi(w,D)})).apply(this,arguments)}function Qa(){return(Qa=(0,s.Z)(function*(b,g){return Ut(b,"POST","/v1/accounts:createAuthUri",Je(b,g))})).apply(this,arguments)}function Ip(b,g){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,s.Z)(function*(b,g){const w={identifier:g,continueUri:vn()?Pt():"http://localhost"},{signinMethods:D}=yield function wr(b,g){return Qa.apply(this,arguments)}((0,B.m9)(b),w);return D||[]}),Wl.apply(this,arguments)}function P_(b,g){return pu.apply(this,arguments)}function pu(){return pu=(0,s.Z)(function*(b,g){const _=(0,B.m9)(b),D={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&la(_.auth,D,g);const{email:M}=yield function yp(b,g){return Yn.apply(this,arguments)}(_.auth,D);M!==b.email&&(yield b.reload())}),pu.apply(this,arguments)}function gu(b,g,_){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,s.Z)(function*(b,g,_){const w=(0,B.m9)(b),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&la(w.auth,M,_);const{email:ee}=yield function oi(b,g){return Ha.apply(this,arguments)}(w.auth,M);ee!==b.email&&(yield b.reload())}),Bd.apply(this,arguments)}function Ud(){return(Ud=(0,s.Z)(function*(b,g){return Ut(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Dp(b,g){return ql.apply(this,arguments)}function ql(){return ql=(0,s.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const w=(0,B.m9)(b),M={idToken:yield w.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},ee=yield pn(w,function k_(b,g){return Ud.apply(this,arguments)}(w.auth,M));w.displayName=ee.displayName||null,w.photoURL=ee.photoUrl||null;const fe=w.providerData.find(({providerId:st})=>"password"===st);fe&&(fe.displayName=w.displayName,fe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(ee)}),ql.apply(this,arguments)}function Sp(b,g){return mi((0,B.m9)(b),g,null)}function F_(b,g){return mi((0,B.m9)(b),null,g)}function mi(b,g,_){return eo.apply(this,arguments)}function eo(){return(eo=(0,s.Z)(function*(b,g,_){const{auth:w}=b,M={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(M.email=g),_&&(M.password=_);const ee=yield pn(b,jn(w,M));yield b._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class to{constructor(g,_,w={}){this.isNewUser=g,this.providerId=_,this.profile=w}}class Gd extends to{constructor(g,_,w,D){super(g,_,w),this.username=D}}class Ap extends to{constructor(g,_){super(g,"facebook.com",_)}}class L_ extends Gd{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class V_ extends to{constructor(g,_){super(g,"google.com",_)}}class Zl extends Gd{constructor(g,_,w){super(g,"twitter.com",_,w)}}function Xa(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function tr(b){var g,_;if(!b)return null;const{providerId:w}=b,D=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},M=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const ee=null===(_=null===(g=Gt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(ee)return new to(M,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!w)return null;switch(w){case"facebook.com":return new Ap(M,D);case"github.com":return new L_(M,D);case"google.com":return new V_(M,D);case"twitter.com":return new Zl(M,D,b.screenName||null);case"custom":case"anonymous":return new to(M,null);default:return new to(M,w,D)}}(_)}function U_(b,g,_,w){return(0,B.m9)(b).onAuthStateChanged(g,_,w)}class tl{constructor(g,_,w){this.type=g,this.credential=_,this.auth=w}static _fromIdtoken(g,_){return new tl("enroll",g,_)}static _fromMfaPendingCredential(g){return new tl("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,w;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return tl._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return tl._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Hd{constructor(g,_,w){this.session=g,this.hints=_,this.signInResolver=w}static _fromError(g,_){const w=nn(g),D=_.customData._serverResponse,M=(D.mfaInfo||[]).map(fe=>Be._fromServerResponse(w,fe));Z(D.mfaPendingCredential,w,"internal-error");const ee=tl._fromMfaPendingCredential(D.mfaPendingCredential);return new Hd(ee,M,function(){var fe=(0,s.Z)(function*(st){const ut=yield st._process(w,ee);delete D.mfaInfo,delete D.mfaPendingCredential;const At=Object.assign(Object.assign({},D),{idToken:ut.idToken,refreshToken:ut.refreshToken});switch(_.operationType){case"signIn":const un=yield fi._fromIdTokenResponse(w,_.operationType,At);return yield w._updateCurrentUser(un.user),un;case"reauthenticate":return Z(_.user,w,"internal-error"),fi._forOperation(_.user,_.operationType,At);default:xe(w,"internal-error")}});return function(st){return fe.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,s.Z)(function*(){return _.signInResolver(g)})()}}function G_(b,g){var _;const w=(0,B.m9)(b),D=g;return Z(g.customData.operationType,w,"argument-error"),Z(null===(_=D.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Hd._fromError(w,D)}class nl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Be._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new nl(g)}getSession(){var g=this;return(0,s.Z)(function*(){return tl._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var w=this;return(0,s.Z)(function*(){const D=g,M=yield w.getSession(),ee=yield pn(w.user,D._process(w.user.auth,M,_));return yield w.user._updateTokensIfNecessary(ee),w.user.reload()})()}unenroll(g){var _=this;return(0,s.Z)(function*(){const w="string"==typeof g?g:g.uid,D=yield _.user.getIdToken();try{const M=yield pn(_.user,function Rp(b,g){return Ut(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Je(b,g))}(_.user.auth,{idToken:D,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ee})=>ee!==w),yield _.user._updateTokensIfNecessary(M),yield _.user.reload()}catch(M){throw M}})()}}const _u=new WeakMap;function fr(b){const g=(0,B.m9)(b);return _u.has(g)||_u.set(g,nl._fromUser(g)),_u.get(g)}const No="__sak";class $_{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(No,"1"),this.storage.removeItem(No),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const bu=(()=>{class b extends $_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yu(){const b=(0,B.z$)();return N(b)||Ze(b)}()&&function pt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ft(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const D=this.storage.getItem(w),M=this.localCache[w];D!==M&&_(w,M,D)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((fe,st,ut)=>{this.notifyListeners(fe,ut)});const D=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(D);if(_.newValue!==fe)null!==_.newValue?this.storage.setItem(D,_.newValue):this.storage.removeItem(D);else if(this.localCache[D]===_.newValue&&!w)return}const M=()=>{const fe=this.storage.getItem(D);!w&&this.localCache[D]===fe||this.notifyListeners(D,fe)},ee=this.storage.getItem(D);!function at(){return(0,B.w1)()&&10===document.documentMode}()||ee===_.newValue||_.newValue===_.oldValue?M():setTimeout(M,10)}notifyListeners(_,w){this.localCache[_]=w;const D=this.listeners[_];if(D)for(const M of Array.from(D))M(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var D=()=>super._set,M=this;return(0,s.Z)(function*(){yield D().call(M,_,w),M.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,D=this;return(0,s.Z)(function*(){const M=yield w().call(D,_);return D.localCache[_]=JSON.stringify(M),M})()}_remove(_){var w=()=>super._remove,D=this;return(0,s.Z)(function*(){yield w().call(D,_),delete D.localCache[_]})()}}return b.type="LOCAL",b})(),Wd=(()=>{class b extends $_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let Mp=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(M=>M.isListeningto(_));if(w)return w;const D=new b(_);return this.receivers.push(D),D}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,s.Z)(function*(){const D=_,{eventId:M,eventType:ee,data:fe}=D.data,st=w.handlersMap[ee];if(!st?.size)return;D.ports[0].postMessage({status:"ack",eventId:M,eventType:ee});const ut=Array.from(st).map(function(){var un=(0,s.Z)(function*(gr){return gr(D.origin,fe)});return function(gr){return un.apply(this,arguments)}}()),At=yield function Ms(b){return Promise.all(b.map(function(){var g=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return g.apply(this,arguments)}}()))}(ut);D.ports[0].postMessage({status:"done",eventId:M,eventType:ee,response:At})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function no(b="",g=10){let _="";for(let w=0;w<g;w++)_+=Math.floor(10*Math.random());return b+_}class qd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,w=50){var D=this;return(0,s.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let ee,fe;return new Promise((st,ut)=>{const At=no("",20);M.port1.start();const un=setTimeout(()=>{ut(new Error("unsupported_event"))},w);fe={messageChannel:M,onMessage(gr){const Wi=gr;if(Wi.data.eventId===At)switch(Wi.data.status){case"ack":clearTimeout(un),ee=setTimeout(()=>{ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),st(Wi.data.response);break;default:clearTimeout(un),clearTimeout(ee),ut(new Error("invalid_response"))}}},D.handlers.add(fe),M.port1.addEventListener("message",fe.onMessage),D.target.postMessage({eventType:g,eventId:At,data:_},[M.port2])}).finally(()=>{fe&&D.removeMessageHandler(fe)})})()}}function pr(){return window}function Jl(){return typeof pr().WorkerGlobalScope<"u"&&"function"==typeof pr().importScripts}function Ql(){return(Ql=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Yd="firebaseLocalStorageDb",H_=1,Oo="firebaseLocalStorage",Ro="fbase_key";class Mo{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function rl(b,g){return b.transaction([Oo],g?"readwrite":"readonly").objectStore(Oo)}function xo(){const b=indexedDB.open(Yd,H_);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(Oo,{keyPath:Ro})}catch(D){_(D)}}),b.addEventListener("success",(0,s.Z)(function*(){const w=b.result;w.objectStoreNames.contains(Oo)?g(w):(w.close(),yield function Eu(){const b=indexedDB.deleteDatabase(Yd);return new Mo(b).toPromise()}(),g(yield xo()))}))})}function z_(b,g,_){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,s.Z)(function*(b,g,_){const w=rl(b,!0).put({[Ro]:g,value:_});return new Mo(w).toPromise()})).apply(this,arguments)}function kp(){return(kp=(0,s.Z)(function*(b,g){const _=rl(b,!1).get(g),w=yield new Mo(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Fp(b,g){const _=rl(b,!0).delete(g);return new Mo(_).toPromise()}const da=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield xo()),_.db})()}_withRetries(_){var w=this;return(0,s.Z)(function*(){let D=0;for(;;)try{const M=yield w._openDb();return yield _(M)}catch(M){if(D++>3)throw M;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return Jl()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=Mp._getInstance(function xp(){return Jl()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(D,M){return{keyProcessed:(yield _._poll()).includes(M.key)}});return function(D,M){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(D,M){return["keyChanged"]});return function(D,M){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var w,D;if(_.activeServiceWorker=yield function j_(){return Ql.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new qd(_.activeServiceWorker);const M=yield _.sender._send("ping",{},800);M&&null!==(w=M[0])&&void 0!==w&&w.fulfilled&&null!==(D=M[0])&&void 0!==D&&D.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Zd(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield xo();return yield z_(_,No,"1"),yield Fp(_,No),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var D=this;return(0,s.Z)(function*(){return D._withPendingWrite((0,s.Z)(function*(){return yield D._withRetries(M=>z_(M,_,w)),D.localCache[_]=w,D.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,s.Z)(function*(){const D=yield w._withRetries(M=>function Pp(b,g){return kp.apply(this,arguments)}(M,_));return w.localCache[_]=D,D})()}_remove(_){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(D=>Fp(D,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const w=yield _._withRetries(ee=>{const fe=rl(ee,!1).getAll();return new Mo(fe).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const D=[],M=new Set;for(const{fbase_key:ee,value:fe}of w)M.add(ee),JSON.stringify(_.localCache[ee])!==JSON.stringify(fe)&&(_.notifyListeners(ee,fe),D.push(ee));for(const ee of Object.keys(_.localCache))_.localCache[ee]&&!M.has(ee)&&(_.notifyListeners(ee,null),D.push(ee));return D})()}notifyListeners(_,w){this.localCache[_]=w;const D=this.listeners[_];if(D)for(const M of Array.from(D))M(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Wn=1e12;class oD{constructor(g){this.auth=g,this.counter=Wn,this._widgets=new Map}render(g,_){const w=this.counter;return this._widgets.set(w,new aD(g,this.auth.name,_||{})),this.counter++,w}reset(g){var _;const w=g||Wn;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Wn))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,s.Z)(function*(){var w;return null===(w=_._widgets.get(g||Wn))||void 0===w||w.execute(),""})()}}class aD{constructor(g,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof g?document.getElementById(g):g;Z(D,"argument-error",{appName:_}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function lD(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const q_=mn("rcb"),Cr=new Te(3e4,6e4);class Z_{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=pr().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return Z(function nc(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&se(pr().grecaptcha)?Promise.resolve(pr().grecaptcha):new Promise((w,D)=>{const M=pr().setTimeout(()=>{D(we(g,"network-request-failed"))},Cr.get());pr()[q_]=()=>{pr().clearTimeout(M),delete pr()[q_];const fe=pr().grecaptcha;if(!fe||!se(fe))return void D(we(g,"internal-error"));const st=fe.render;fe.render=(ut,At)=>{const un=st(ut,At);return this.counter++,un},this.hostLanguage=_,w(fe)},an(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:q_,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(M),D(we(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=pr().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Po{load(g){return(0,s.Z)(function*(){return new oD(g)})()}clearedOneInstance(){}}const ha="recaptcha",Tn={theme:"light",type:"image"};class xs{constructor(g,_=Object.assign({},Tn),w){this.parameters=_,this.type=ha,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nn(w),this.isInvisible="invisible"===this.parameters.size,Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof g?document.getElementById(g):g;Z(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Po:new Z_,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(_)||new Promise(M=>{const ee=fe=>{fe&&(g.tokenChangeListeners.delete(ee),M(fe))};g.tokenChangeListeners.add(ee),g.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof g)g(_);else if("string"==typeof g){const w=pr()[g];"function"==typeof w&&w(_)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){Z(vn()&&!Jl(),g.auth,"internal-error"),yield function rc(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Ai(b){return ns.apply(this,arguments)}(g.auth);Z(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class il{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=ls._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function xi(b,g,_){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,s.Z)(function*(b,g,_){const w=nn(b),D=yield ic(w,g,(0,B.m9)(_));return new il(D,M=>gi(w,M))})).apply(this,arguments)}function Vp(b,g,_){return fa.apply(this,arguments)}function fa(){return(fa=(0,s.Z)(function*(b,g,_){const w=(0,B.m9)(b);yield ln(!1,w,"phone");const D=yield ic(w.auth,g,(0,B.m9)(_));return new il(D,M=>ai(w,M))})).apply(this,arguments)}function pa(b,g,_){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,s.Z)(function*(b,g,_){const w=(0,B.m9)(b),D=yield ic(w.auth,g,(0,B.m9)(_));return new il(D,M=>cr(w,M))})).apply(this,arguments)}function ic(b,g,_){return ga.apply(this,arguments)}function ga(){return ga=(0,s.Z)(function*(b,g,_){var w;const D=yield _.verify();try{let M;if(Z("string"==typeof D,b,"argument-error"),Z(_.type===ha,b,"argument-error"),M="string"==typeof g?{phoneNumber:g}:g,"session"in M){const ee=M.session;if("phoneNumber"in M)return Z("enroll"===ee.type,b,"internal-error"),(yield function iD(b,g){return Ut(b,"POST","/v2/accounts/mfaEnrollment:start",Je(b,g))}(b,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{Z("signin"===ee.type,b,"internal-error");const fe=(null===(w=M.multiFactorHint)||void 0===w?void 0:w.uid)||M.multiFactorUid;return Z(fe,b,"missing-multi-factor-info"),(yield function W_(b,g){return Ut(b,"POST","/v2/accounts/mfaSignIn:start",Je(b,g))}(b,{mfaPendingCredential:ee.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield function bp(b,g){return nu.apply(this,arguments)}(b,{phoneNumber:M.phoneNumber,recaptchaToken:D});return ee}}finally{_._reset()}}),ga.apply(this,arguments)}function bE(b,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,s.Z)(function*(b,g){yield it((0,B.m9)(b),g)})).apply(this,arguments)}let eh=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=nn(_)}verifyPhoneNumber(_,w){return ic(this.auth,_,(0,B.m9)(w))}static credential(_,w){return ls._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:D}=_;return w&&D?ls._fromTokenResponse(w,D):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function us(b,g){return g?St(g):(Z(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Bp extends ys{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Er(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Er(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Er(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Y_(b){return Jt(b.auth,new Bp(b),b.bypassAuthState)}function K_(b){const{auth:g,user:_}=b;return Z(_,g,"internal-error"),Hn(_,new Bp(b),b.bypassAuthState)}function J_(b){return sl.apply(this,arguments)}function sl(){return(sl=(0,s.Z)(function*(b){const{auth:g,user:_}=b;return Z(_,g,"internal-error"),it(_,new Bp(b),b.bypassAuthState)})).apply(this,arguments)}class sc{constructor(g,_,w,D,M=!1){this.auth=g,this.resolver=w,this.user=D,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,s.Z)(function*(w,D){g.pendingPromise={resolve:w,reject:D};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(M){g.reject(M)}});return function(w,D){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:D,postBody:M,tenantId:ee,error:fe,type:st}=g;if(fe)return void _.reject(fe);const ut={auth:_.auth,requestUri:w,sessionId:D,tenantId:ee||void 0,postBody:M||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(st)(ut))}catch(At){_.reject(At)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Y_;case"linkViaPopup":case"linkViaRedirect":return J_;case"reauthViaPopup":case"reauthViaRedirect":return K_;default:xe(this.auth,"internal-error")}}resolve(g){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Up=new Te(2e3,1e4);function Gp(b,g,_){return ro.apply(this,arguments)}function ro(){return(ro=(0,s.Z)(function*(b,g,_){const w=nn(b);Ue(b,g,Ys);const D=us(w,_);return new _a(w,"signInViaPopup",g,D).executeNotNull()})).apply(this,arguments)}function ol(b,g,_){return ma.apply(this,arguments)}function ma(){return(ma=(0,s.Z)(function*(b,g,_){const w=(0,B.m9)(b);Ue(w.auth,g,Ys);const D=us(w.auth,_);return new _a(w.auth,"reauthViaPopup",g,D,w).executeNotNull()})).apply(this,arguments)}function al(b,g,_){return oc.apply(this,arguments)}function oc(){return(oc=(0,s.Z)(function*(b,g,_){const w=(0,B.m9)(b);Ue(w.auth,g,Ys);const D=us(w.auth,_);return new _a(w.auth,"linkViaPopup",g,D,w).executeNotNull()})).apply(this,arguments)}let _a=(()=>{class b extends sc{constructor(_,w,D,M,ee){super(_,w,M,ee),this.provider=D,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const w=yield _.execute();return Z(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,s.Z)(function*(){vt(1===_.filter.length,"Popup operations only handle one event");const w=no();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(D=>{_.reject(D)}),_.resolver._isIframeWebStorageSupported(_.auth,D=>{D||_.reject(we(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,D;this.pollId=null!==(D=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Up.get())};_()}}return b.currentPopupAction=null,b})();const Q_="pendingRedirect",ll=new Map;class cl extends sc{constructor(g,_,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,s.Z)(function*(){let w=ll.get(_.auth._key());if(!w){try{const M=(yield function wu(b,g){return Cu.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;w=()=>Promise.resolve(M)}catch(D){w=()=>Promise.reject(D)}ll.set(_.auth._key(),w)}return _.bypassAuthState||ll.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(w,g);if("unknown"!==g.type){if(g.eventId){const D=yield w.auth._redirectUserForId(g.eventId);if(D)return w.user=D,_().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Cu(){return(Cu=(0,s.Z)(function*(b,g){const _=jp(g),w=$p(b);if(!(yield w._isAvailable()))return!1;const D="true"===(yield w._get(_));return yield w._remove(_),D})).apply(this,arguments)}function Tu(b,g){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,s.Z)(function*(b,g){return $p(b)._set(jp(g),"true")})).apply(this,arguments)}function ko(){ll.clear()}function Fo(b,g){ll.set(b._key(),g)}function $p(b){return St(b._redirectPersistence)}function jp(b){return Rn(Q_,b.config.apiKey,b.name)}function th(b,g,_){return function X_(b,g,_){return Du.apply(this,arguments)}(b,g,_)}function Du(){return(Du=(0,s.Z)(function*(b,g,_){const w=nn(b);Ue(b,g,Ys),yield w._initializationPromise;const D=us(w,_);return yield Tu(D,w),D._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function Hp(b,g,_){return function ey(b,g,_){return Su.apply(this,arguments)}(b,g,_)}function Su(){return(Su=(0,s.Z)(function*(b,g,_){const w=(0,B.m9)(b);Ue(w.auth,g,Ys),yield w.auth._initializationPromise;const D=us(w.auth,_);yield Tu(D,w.auth);const M=yield ty(w);return D._openRedirect(w.auth,g,"reauthViaRedirect",M)})).apply(this,arguments)}function Au(b,g,_){return function zp(b,g,_){return nh.apply(this,arguments)}(b,g,_)}function nh(){return(nh=(0,s.Z)(function*(b,g,_){const w=(0,B.m9)(b);Ue(w.auth,g,Ys),yield w.auth._initializationPromise;const D=us(w.auth,_);yield ln(!1,w,g.providerId),yield Tu(D,w.auth);const M=yield ty(w);return D._openRedirect(w.auth,g,"linkViaRedirect",M)})).apply(this,arguments)}function rh(b,g){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,s.Z)(function*(b,g){return yield nn(b)._initializationPromise,ih(b,g,!1)})).apply(this,arguments)}function ih(b,g){return sh.apply(this,arguments)}function sh(){return(sh=(0,s.Z)(function*(b,g,_=!1){const w=nn(b),D=us(w,g),ee=yield new cl(w,D,_).execute();return ee&&!_&&(delete ee.user._redirectEventId,yield w._persistUserIfCurrent(ee.user),yield w._setRedirectUser(null,g)),ee})).apply(this,arguments)}function ty(b){return oh.apply(this,arguments)}function oh(){return(oh=(0,s.Z)(function*(b){const g=no(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class ny{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(_=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function EE(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lh(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var w;if(g.error&&!lh(g)){const D=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(we(this.auth,D))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const w=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ry(g))}saveEventToCache(g){this.cachedEventUids.add(ry(g)),this.lastProcessedEventTime=Date.now()}}function ry(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function lh({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function iy(b){return qp.apply(this,arguments)}function qp(){return(qp=(0,s.Z)(function*(b,g={}){return Ut(b,"GET","/v1/projects",g)})).apply(this,arguments)}const cD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uD=/^https?/;function ch(){return(ch=(0,s.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield iy(b);for(const _ of g)try{if(uh(_))return}catch{}xe(b,"unauthorized-domain")})).apply(this,arguments)}function uh(b){const g=Pt(),{protocol:_,hostname:w}=new URL(g);if(b.startsWith("chrome-extension://")){const ee=new URL(b);return""===ee.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&ee.hostname===w}if(!uD.test(_))return!1;if(cD.test(b))return w===b;const D=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(w)}const Nu=new Te(3e4,6e4);function Ou(){const b=pr().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Hi=null;const dh=new Te(5e3,15e3),Zp="__/auth/iframe",ay="emulator/auth/iframe",Yp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ly(b){const g=b.config;Z(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?Ve(g,ay):`https://${b.config.authDomain}/${Zp}`,w={apiKey:g.apiKey,appName:b.name,v:F.SDK_VERSION},D=wE.get(b.config.apiHost);D&&(w.eid=D);const M=b._getFrameworks();return M.length&&(w.fw=M.join(",")),`${_}?${(0,B.xO)(w).slice(1)}`}function hh(){return hh=(0,s.Z)(function*(b){const g=yield function oy(b){return Hi=Hi||function io(b){return new Promise((g,_)=>{var w,D,M;function ee(){Ou(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ou(),_(we(b,"network-request-failed"))},timeout:Nu.get()})}if(null!==(D=null===(w=pr().gapi)||void 0===w?void 0:w.iframes)&&void 0!==D&&D.Iframe)g(gapi.iframes.getContext());else{if(null===(M=pr().gapi)||void 0===M||!M.load){const fe=mn("iframefcb");return pr()[fe]=()=>{gapi.load?ee():_(we(b,"network-request-failed"))},an(`https://apis.google.com/js/api.js?onload=${fe}`).catch(st=>_(st))}ee()}}).catch(g=>{throw Hi=null,g})}(b),Hi}(b),_=pr().gapi;return Z(_,b,"internal-error"),g.open({where:document.body,url:ly(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yp,dontclear:!0},w=>new Promise(function(){var D=(0,s.Z)(function*(M,ee){yield w.restyle({setHideOnLeave:!1});const fe=we(b,"network-request-failed"),st=pr().setTimeout(()=>{ee(fe)},dh.get());function ut(){pr().clearTimeout(st),M(w)}w.ping(ut).then(ut,()=>{ee(fe)})});return function(M,ee){return D.apply(this,arguments)}}()))}),hh.apply(this,arguments)}const TE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IE=500,zi=600,fh="_blank",cy="http://localhost";class ph{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const uy="__/auth/handler",dy="emulator/auth/handler",DE=encodeURIComponent("fac");function gh(b,g,_,w,D,M){return mh.apply(this,arguments)}function mh(){return(mh=(0,s.Z)(function*(b,g,_,w,D,M){Z(b.config.authDomain,b,"auth-domain-config-required"),Z(b.config.apiKey,b,"invalid-api-key");const ee={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:F.SDK_VERSION,eventId:D};if(g instanceof Ys){g.setDefaultLanguage(b.languageCode),ee.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(ee.customParameters=JSON.stringify(g.getCustomParameters()));for(const[At,un]of Object.entries(M||{}))ee[At]=un}if(g instanceof Ks){const At=g.getScopes().filter(un=>""!==un);At.length>0&&(ee.scopes=At.join(","))}b.tenantId&&(ee.tid=b.tenantId);const fe=ee;for(const At of Object.keys(fe))void 0===fe[At]&&delete fe[At];const st=yield b._getAppCheckToken(),ut=st?`#${DE}=${encodeURIComponent(st)}`:"";return`${function hy({config:b}){return b.emulator?Ve(b,dy):`https://${b.authDomain}/${uy}`}(b)}?${(0,B.xO)(fe).slice(1)}${ut}`})).apply(this,arguments)}const en="webStorageSupport",Kp=class ul{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wd,this._completeRedirectFn=ih,this._overrideRedirectResult=Fo}_openPopup(g,_,w,D){var M=this;return(0,s.Z)(function*(){var ee;vt(null===(ee=M.eventManagers[g._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const fe=yield gh(g,_,w,Pt(),D);return function _i(b,g,_,w=IE,D=zi){const M=Math.max((window.screen.availHeight-D)/2,0).toString(),ee=Math.max((window.screen.availWidth-w)/2,0).toString();let fe="";const st=Object.assign(Object.assign({},TE),{width:w.toString(),height:D.toString(),top:M,left:ee}),ut=(0,B.z$)().toLowerCase();_&&(fe=S(ut)?fh:_),x(ut)&&(g=g||cy,st.scrollbars="yes");const At=Object.entries(st).reduce((gr,[Wi,hl])=>`${gr}${Wi}=${hl},`,"");if(function He(b=(0,B.z$)()){var g;return Ze(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ut)&&"_self"!==fe)return function Ru(b,g){const _=document.createElement("a");_.href=b,_.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(g||"",fe),new ph(null);const un=window.open(g||"",fe,At);Z(un,b,"popup-blocked");try{un.focus()}catch{}return new ph(un)}(g,fe,no())})()}_openRedirect(g,_,w,D){var M=this;return(0,s.Z)(function*(){return yield M._originValidation(g),function ua(b){pr().location.href=b}(yield gh(g,_,w,Pt(),D)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:D,promise:M}=this.eventManagers[_];return D?Promise.resolve(D):(vt(M,"If manager is not set, promise should be"),M)}const w=this.initAndGetManager(g);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(g){var _=this;return(0,s.Z)(function*(){const w=yield function CE(b){return hh.apply(this,arguments)}(g),D=new ny(g);return w.register("authEvent",M=>(Z(M?.authEvent,g,"invalid-auth-event"),{status:D.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:D},_.iframes[g._key()]=w,D})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(en,{type:en},D=>{var M;const ee=null===(M=D?.[0])||void 0===M?void 0:M[en];void 0!==ee&&_(!!ee),xe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function sy(b){return ch.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return ft()||N()||Ze()}};class dl{constructor(g){this.factorId=g}_process(g,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,w);case"signin":return this._finalizeSignIn(g,_.credential);default:return Ge("unexpected MultiFactorSessionType")}}}class ac extends dl{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ac(g)}_finalizeEnroll(g,_,w){return function _E(b,g){return Ut(b,"POST","/v2/accounts/mfaEnrollment:finalize",Je(b,g))}(g,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Lp(b,g){return Ut(b,"POST","/v2/accounts/mfaSignIn:finalize",Je(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _h=(()=>{class b{constructor(){}static assertion(_){return ac._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var vh="@firebase/auth";class oo{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(w=>{g(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Jp=(0,B.Pz)("authIdTokenMaxAge")||300;let Mu=null;const Qp=b=>function(){var g=(0,s.Z)(function*(_){const w=_&&(yield _.getIdTokenResult()),D=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(D&&D>Jp)return;const M=w?.token;Mu!==M&&(Mu=M,yield fetch(b,{method:M?"POST":"DELETE",headers:M?{Authorization:`Bearer ${M}`}:{}}))});return function(_){return g.apply(this,arguments)}}();function fy(b=(0,F.getApp)()){const g=(0,F._getProvider)(b,"auth");if(g.isInitialized())return g.getImmediate();const _=function Zs(b,g){const _=(0,F._getProvider)(b,"auth");if(_.isInitialized()){const D=_.getImmediate(),M=_.getOptions();if((0,B.vZ)(M,g??{}))return D;xe(D,"already-initialized")}return _.initialize({options:g})}(b,{popupRedirectResolver:Kp,persistence:[da,bu,Wd]}),w=(0,B.Pz)("authTokenSyncURL");if(w){const M=Qp(w);(function B_(b,g,_){(0,B.m9)(b).beforeAuthStateChanged(g,_)})(_,M,()=>M(_.currentUser)),function jd(b,g,_,w){(0,B.m9)(b).onIdTokenChanged(g,_,w)}(_,ee=>M(ee))}const D=(0,B.q4)("auth");return D&&yr(_,`http://${D}`),_}!function bh(b){(0,F._registerComponent)(new ce.wA("auth",(g,{options:_})=>{const w=g.getProvider("app").getImmediate(),D=g.getProvider("heartbeat"),M=g.getProvider("app-check-internal"),{apiKey:ee,authDomain:fe}=w.options;Z(ee&&!ee.includes(":"),"invalid-api-key",{appName:w.name}),Z(!fe?.includes(":"),"argument-error",{appName:w.name});const st={apiKey:ee,authDomain:fe,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Si(b)},ut=new tn(w,D,M,st);return function Lr(b,g){const _=g?.persistence||[],w=(Array.isArray(_)?_:[_]).map(St);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(w,g?.popupRedirectResolver)}(ut,_),ut},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,w)=>{g.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new ce.wA("auth-internal",g=>{const _=nn(g.getProvider("auth").getImmediate());return new oo(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(vh,"0.23.0",function ao(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,F.registerVersion)(vh,"0.23.0","esm2017")}("Browser")},2090:(Tt,Me,L)=>{L.d(Me,{$s:()=>St,BH:()=>ke,DV:()=>oe,Dv:()=>An,GJ:()=>Jn,L:()=>me,LL:()=>Mt,P0:()=>We,Pz:()=>we,Sg:()=>Ue,UG:()=>Ge,UI:()=>he,US:()=>ce,Wj:()=>Mr,Wl:()=>On,Yr:()=>Te,ZB:()=>K,ZR:()=>Ut,aH:()=>xe,b$:()=>vn,cI:()=>Ft,dS:()=>zt,eu:()=>qe,g5:()=>F,gK:()=>on,gQ:()=>xt,h$:()=>le,hl:()=>$e,hu:()=>B,jU:()=>vt,lb:()=>kn,m9:()=>Rn,ne:()=>pn,p$:()=>G,pd:()=>Gt,q4:()=>Pe,r3:()=>hr,ru:()=>Pt,tV:()=>H,uI:()=>Z,ug:()=>_r,vZ:()=>ie,w1:()=>ge,w9:()=>Kn,xO:()=>Ht,xb:()=>ne,z$:()=>Fe,zI:()=>ct,zd:()=>Kt});const s={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},B=function(q,z){if(!q)throw F(z)},F=function(q){return new Error("Firebase Database ("+s.SDK_VERSION+") INTERNAL ASSERT FAILED: "+q)},X=function(q){const z=[];let x=0;for(let N=0;N<q.length;N++){let S=q.charCodeAt(N);S<128?z[x++]=S:S<2048?(z[x++]=S>>6|192,z[x++]=63&S|128):55296==(64512&S)&&N+1<q.length&&56320==(64512&q.charCodeAt(N+1))?(S=65536+((1023&S)<<10)+(1023&q.charCodeAt(++N)),z[x++]=S>>18|240,z[x++]=S>>12&63|128,z[x++]=S>>6&63|128,z[x++]=63&S|128):(z[x++]=S>>12|224,z[x++]=S>>6&63|128,z[x++]=63&S|128)}return z},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,z){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let S=0;S<q.length;S+=3){const U=q[S],re=S+1<q.length,Ee=re?q[S+1]:0,Ke=S+2<q.length,Ze=Ke?q[S+2]:0;let at=(15&Ee)<<2|Ze>>6,ft=63&Ze;Ke||(ft=64,re||(at=64)),N.push(x[U>>2],x[(3&U)<<4|Ee>>4],x[at],x[ft])}return N.join("")},encodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(q):this.encodeByteArray(X(q),z)},decodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(q):function(q){const z=[];let x=0,N=0;for(;x<q.length;){const S=q[x++];if(S<128)z[N++]=String.fromCharCode(S);else if(S>191&&S<224){const U=q[x++];z[N++]=String.fromCharCode((31&S)<<6|63&U)}else if(S>239&&S<365){const Ke=((7&S)<<18|(63&q[x++])<<12|(63&q[x++])<<6|63&q[x++])-65536;z[N++]=String.fromCharCode(55296+(Ke>>10)),z[N++]=String.fromCharCode(56320+(1023&Ke))}else{const U=q[x++],re=q[x++];z[N++]=String.fromCharCode((15&S)<<12|(63&U)<<6|63&re)}}return z.join("")}(this.decodeStringToByteArray(q,z))},decodeStringToByteArray(q,z){this.init_();const x=z?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let S=0;S<q.length;){const U=x[q.charAt(S++)],Ee=S<q.length?x[q.charAt(S)]:0;++S;const Ze=S<q.length?x[q.charAt(S)]:64;++S;const He=S<q.length?x[q.charAt(S)]:64;if(++S,null==U||null==Ee||null==Ze||null==He)throw new ue;N.push(U<<2|Ee>>4),64!==Ze&&(N.push(Ee<<4&240|Ze>>2),64!==He&&N.push(Ze<<6&192|He))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const le=function(q){const z=X(q);return ce.encodeByteArray(z,!0)},me=function(q){return le(q).replace(/\./g,"")},H=function(q){try{return ce.decodeString(q,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function G(q){return K(void 0,q)}function K(q,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return z}for(const x in z)!z.hasOwnProperty(x)||!Ce(x)||(q[x]=K(q[x],z[x]));return q}function Ce(q){return"__proto__"!==q}const Se=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=q&&H(q[1]);return z&&JSON.parse(z)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},Pe=q=>{var z,x;return null===(x=null===(z=Se())||void 0===z?void 0:z.emulatorHosts)||void 0===x?void 0:x[q]},We=q=>{const z=Pe(q);if(!z)return;const x=z.lastIndexOf(":");if(x<=0||x+1===z.length)throw new Error(`Invalid host ${z} with no separate hostname and port!`);const N=parseInt(z.substring(x+1),10);return"["===z[0]?[z.substring(1,x-1),N]:[z.substring(0,x),N]},xe=()=>{var q;return null===(q=Se())||void 0===q?void 0:q.config},we=q=>{var z;return null===(z=Se())||void 0===z?void 0:z[`_${q}`]};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,x)=>{this.resolve=z,this.reject=x})}wrapCallback(z){return(x,N)=>{x?this.reject(x):this.resolve(N),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(x):z(x,N))}}}function Ue(q,z){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=z||"demo-project",S=q.iat||0,U=q.sub||q.user_id;if(!U)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:S,exp:S+3600,auth_time:S,sub:U,user_id:U,firebase:{sign_in_provider:"custom",identities:{}}},q);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(re)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Ge(){var q;const z=null===(q=Se())||void 0===q?void 0:q.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function vt(){return"object"==typeof self&&self.self===self}function Pt(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function vn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){const q=Fe();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Te(){return!0===s.NODE_CLIENT||!0===s.NODE_ADMIN}function $e(){try{return"object"==typeof indexedDB}catch{return!1}}function qe(){return new Promise((q,z)=>{try{let x=!0;const N="validate-browser-context-for-indexeddb-analytics-module",S=self.indexedDB.open(N);S.onsuccess=()=>{S.result.close(),x||self.indexedDB.deleteDatabase(N),q(!0)},S.onupgradeneeded=()=>{x=!1},S.onerror=()=>{var U;z((null===(U=S.error)||void 0===U?void 0:U.message)||"")}}catch(x){z(x)}})}function ct(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ut extends Error{constructor(z,x,N){super(x),this.code=z,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,Ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(z,x,N){this.service=z,this.serviceName=x,this.errors=N}create(z,...x){const N=x[0]||{},S=`${this.service}/${z}`,U=this.errors[z],re=U?function Qt(q,z){return q.replace(dt,(x,N)=>{const S=z[N];return null!=S?String(S):`<${N}?>`})}(U,N):"Error";return new Ut(S,`${this.serviceName}: ${re} (${S}).`,N)}}const dt=/\{\$([^}]+)}/g;function Ft(q){return JSON.parse(q)}function On(q){return JSON.stringify(q)}const Pn=function(q){let z={},x={},N={},S="";try{const U=q.split(".");z=Ft(H(U[0])||""),x=Ft(H(U[1])||""),S=U[2],N=x.d||{},delete x.d}catch{}return{header:z,claims:x,data:N,signature:S}},Kn=function(q){const x=Pn(q).claims;return!!x&&"object"==typeof x&&x.hasOwnProperty("iat")},Jn=function(q){const z=Pn(q).claims;return"object"==typeof z&&!0===z.admin};function hr(q,z){return Object.prototype.hasOwnProperty.call(q,z)}function oe(q,z){if(Object.prototype.hasOwnProperty.call(q,z))return q[z]}function ne(q){for(const z in q)if(Object.prototype.hasOwnProperty.call(q,z))return!1;return!0}function he(q,z,x){const N={};for(const S in q)Object.prototype.hasOwnProperty.call(q,S)&&(N[S]=z.call(x,q[S],S,q));return N}function ie(q,z){if(q===z)return!0;const x=Object.keys(q),N=Object.keys(z);for(const S of x){if(!N.includes(S))return!1;const U=q[S],re=z[S];if(je(U)&&je(re)){if(!ie(U,re))return!1}else if(U!==re)return!1}for(const S of N)if(!x.includes(S))return!1;return!0}function je(q){return null!==q&&"object"==typeof q}function Ht(q){const z=[];for(const[x,N]of Object.entries(q))Array.isArray(N)?N.forEach(S=>{z.push(encodeURIComponent(x)+"="+encodeURIComponent(S))}):z.push(encodeURIComponent(x)+"="+encodeURIComponent(N));return z.length?"&"+z.join("&"):""}function Kt(q){const z={};return q.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[S,U]=N.split("=");z[decodeURIComponent(S)]=decodeURIComponent(U)}}),z}function Gt(q){const z=q.indexOf("?");if(!z)return"";const x=q.indexOf("#",z);return q.substring(z,x>0?x:void 0)}class xt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,x){x||(x=0);const N=this.W_;if("string"==typeof z)for(let He=0;He<16;He++)N[He]=z.charCodeAt(x)<<24|z.charCodeAt(x+1)<<16|z.charCodeAt(x+2)<<8|z.charCodeAt(x+3),x+=4;else for(let He=0;He<16;He++)N[He]=z[x]<<24|z[x+1]<<16|z[x+2]<<8|z[x+3],x+=4;for(let He=16;He<80;He++){const at=N[He-3]^N[He-8]^N[He-14]^N[He-16];N[He]=4294967295&(at<<1|at>>>31)}let Ze,rt,S=this.chain_[0],U=this.chain_[1],re=this.chain_[2],Ee=this.chain_[3],Ke=this.chain_[4];for(let He=0;He<80;He++){He<40?He<20?(Ze=Ee^U&(re^Ee),rt=1518500249):(Ze=U^re^Ee,rt=1859775393):He<60?(Ze=U&re|Ee&(U|re),rt=2400959708):(Ze=U^re^Ee,rt=3395469782);const at=(S<<5|S>>>27)+Ze+Ke+rt+N[He]&4294967295;Ke=Ee,Ee=re,re=4294967295&(U<<30|U>>>2),U=S,S=at}this.chain_[0]=this.chain_[0]+S&4294967295,this.chain_[1]=this.chain_[1]+U&4294967295,this.chain_[2]=this.chain_[2]+re&4294967295,this.chain_[3]=this.chain_[3]+Ee&4294967295,this.chain_[4]=this.chain_[4]+Ke&4294967295}update(z,x){if(null==z)return;void 0===x&&(x=z.length);const N=x-this.blockSize;let S=0;const U=this.buf_;let re=this.inbuf_;for(;S<x;){if(0===re)for(;S<=N;)this.compress_(z,S),S+=this.blockSize;if("string"==typeof z){for(;S<x;)if(U[re]=z.charCodeAt(S),++re,++S,re===this.blockSize){this.compress_(U),re=0;break}}else for(;S<x;)if(U[re]=z[S],++re,++S,re===this.blockSize){this.compress_(U),re=0;break}}this.inbuf_=re,this.total_+=x}digest(){const z=[];let x=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let S=this.blockSize-1;S>=56;S--)this.buf_[S]=255&x,x/=256;this.compress_(this.buf_);let N=0;for(let S=0;S<5;S++)for(let U=24;U>=0;U-=8)z[N]=this.chain_[S]>>U&255,++N;return z}}function pn(q,z){const x=new Qn(q,z);return x.subscribe.bind(x)}class Qn{constructor(z,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{z(this)}).catch(N=>{this.error(N)})}next(z){this.forEachObserver(x=>{x.next(z)})}error(z){this.forEachObserver(x=>{x.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,x,N){let S;if(void 0===z&&void 0===x&&void 0===N)throw new Error("Missing Observer.");S=function wn(q,z){if("object"!=typeof q||null===q)return!1;for(const x of z)if(x in q&&"function"==typeof q[x])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:x,complete:N},void 0===S.next&&(S.next=Xt),void 0===S.error&&(S.error=Xt),void 0===S.complete&&(S.complete=Xt);const U=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?S.error(this.finalError):S.complete()}catch{}}),this.observers.push(S),U}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,z)}sendOne(z,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{x(this.observers[z])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xt(){}const An=function(q,z,x,N){let S;if(N<z?S="at least "+z:N>x&&(S=0===x?"none":"no more than "+x),S)throw new Error(q+" failed: Was called with "+N+(1===N?" argument.":" arguments.")+" Expects "+S+".")};function on(q,z){return`${q} failed: ${z} argument `}function Mr(q,z,x,N){if((!N||x)&&"function"!=typeof x)throw new Error(on(q,z)+"must be a valid function.")}function kn(q,z,x,N){if((!N||x)&&("object"!=typeof x||null===x))throw new Error(on(q,z)+"must be a valid context object.")}const zt=function(q){const z=[];let x=0;for(let N=0;N<q.length;N++){let S=q.charCodeAt(N);if(S>=55296&&S<=56319){const U=S-55296;N++,B(N<q.length,"Surrogate pair missing trail surrogate."),S=65536+(U<<10)+(q.charCodeAt(N)-56320)}S<128?z[x++]=S:S<2048?(z[x++]=S>>6|192,z[x++]=63&S|128):S<65536?(z[x++]=S>>12|224,z[x++]=S>>6&63|128,z[x++]=63&S|128):(z[x++]=S>>18|240,z[x++]=S>>12&63|128,z[x++]=S>>6&63|128,z[x++]=63&S|128)}return z},_r=function(q){let z=0;for(let x=0;x<q.length;x++){const N=q.charCodeAt(x);N<128?z++:N<2048?z+=2:N>=55296&&N<=56319?(z+=4,x++):z+=3}return z},qt=1e3,nt=2,Ae=144e5,ht=.5;function St(q,z=qt,x=nt){const N=z*Math.pow(x,q),S=Math.round(ht*N*(Math.random()-.5)*2);return Math.min(Ae,N+S)}function Rn(q){return q&&q._delegate?q._delegate:q}},7929:(Tt,Me,L)=>{var s=L(4650),B=L(462),F=L(3269),X=L(8996);function Y(...n){const t=(0,F.yG)(n);return(0,X.D)(n,t)}var ce=L(4482),ue=L(5403);function le(n,t){return(0,ce.e)((e,r)=>{let i=0;e.subscribe((0,ue.x)(r,o=>n.call(t,o,i++)&&r.next(o)))})}var me=L(8421);function H(n,t){return(0,ce.e)((e,r)=>{let i=null,o=0,u=!1;const h=()=>u&&!i&&r.complete();e.subscribe((0,ue.x)(r,p=>{i?.unsubscribe();let y=0;const E=o++;(0,me.Xf)(n(p,E)).subscribe(i=(0,ue.x)(r,I=>r.next(t?t(p,I,E,y++):I),()=>{i=null,h()}))},()=>{u=!0,h()}))})}var G=L(4004),K=L(9751),Ce=L(7579);var Le=L(5577),lt=L(4671);function ye(n,t=lt.y){return n=n??Se,(0,ce.e)((e,r)=>{let i,o=!0;e.subscribe((0,ue.x)(r,u=>{const h=t(u);(o||!n(i,h))&&(o=!1,i=h,r.next(u))}))})}function Se(n,t){return n===t}var Pe=L(8189);function xe(...n){return function We(){return(0,Pe.J)(1)}()((0,X.D)(n,(0,F.yG)(n)))}function we(...n){const t=(0,F.yG)(n);return(0,ce.e)((e,r)=>{(t?xe(n,e,t):xe(n,e)).subscribe(r)})}var Ue=L(259);class Fe{constructor(t){return t}}class Z{constructor(){return(0,Ue.C6)()}}const Pt=new s.OlP("angularfire2._apps"),vn={provide:Fe,useFactory:function vt(n){return n&&1===n.length?n[0]:new Fe((0,Ue.Mq)())},deps:[[new s.FiY,Pt]]},Nn={provide:Z,deps:[[new s.FiY,Pt]]};function ge(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new Fe(r)}}let ve=(()=>{class n{constructor(e){(0,Ue.KN)("angularfire",B.q4.full,"core"),(0,Ue.KN)("angularfire",B.q4.full,"app"),(0,Ue.KN)("angular",s.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[vn,Nn]}),n})();const ct=(0,B.u3)(Ue.ZF,!0);var Qt=L(655);class dt extends Ce.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const On=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Pn}=Array,{getPrototypeOf:Fn,prototype:Sn,keys:Kn}=Object;function Jn(n){if(1===n.length){const t=n[0];if(Pn(t))return{args:t,keys:null};if(function hr(n){return n&&"object"==typeof n&&Fn(n)===Sn}(t)){const e=Kn(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:oe}=Array;function he(n){return(0,G.U)(t=>function ne(n,t){return oe(t)?n(...t):n(t)}(n,t))}function ie(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}var je=L(9672);function ot(...n){const t=(0,F.yG)(n),e=(0,F.jO)(n),{args:r,keys:i}=Jn(n);if(0===r.length)return(0,X.D)([],t);const o=new K.y(function Ht(n,t,e=lt.y){return r=>{Kt(t,()=>{const{length:i}=n,o=new Array(i);let u=i,h=i;for(let p=0;p<i;p++)Kt(t,()=>{const y=(0,X.D)(n[p],t);let E=!1;y.subscribe((0,ue.x)(r,I=>{o[p]=I,E||(E=!0,h--),h||r.next(e(o.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,t,i?u=>ie(i,u):lt.y));return e?o.pipe(he(e)):o}function Kt(n,t,e){n?(0,je.f)(e,n,t):t()}function Gt(n){return new K.y(t=>{(0,me.Xf)(n()).subscribe(t)})}var xt=L(9635),pn=L(576);function Qn(n,t){const e=(0,pn.m)(n)?n:()=>n,r=i=>i.error(e());return new K.y(t?i=>t.schedule(r,0,i):r)}var Ln=L(515),wn=L(727);function Xt(){return(0,ce.e)((n,t)=>{let e=null;n._refCount++;const r=(0,ue.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class An extends K.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ce.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new wn.w0;const e=this.getSubject();t.add(this.source.subscribe((0,ue.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=wn.w0.EMPTY)}return t}refCount(){return Xt()(this)}}let on=null;function Zn(){return on}class kn{}const zt=new s.OlP("DocumentToken");let _r=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function qr(){return(0,s.LFG)(nt)}()},providedIn:"platform"}),n})();const qt=new s.OlP("Location Initialized");let nt=(()=>{class n extends _r{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zn().getBaseHref(this._doc)}onPopState(e){const r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){Ae()?this._history.pushState(e,r,i):this._location.hash=i}replaceState(e,r,i){Ae()?this._history.replaceState(e,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zt))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ht(){return new nt((0,s.LFG)(zt))}()},providedIn:"platform"}),n})();function Ae(){return!!window.history.pushState}function St(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Zt(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Wt(n){return n&&"?"!==n[0]?"?"+n:n}let Rn=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(z)},providedIn:"root"}),n})();const q=new s.OlP("appBaseHref");let z=(()=>{class n extends Rn{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(zt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return St(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Wt(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const u=this.prepareExternalUrl(i+Wt(o));this._platformLocation.pushState(e,r,u)}replaceState(e,r,i,o){const u=this.prepareExternalUrl(i+Wt(o));this._platformLocation.replaceState(e,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_r),s.LFG(q,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x=(()=>{class n extends Rn{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=St(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let u=this.prepareExternalUrl(i+Wt(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,r,u)}replaceState(e,r,i,o){let u=this.prepareExternalUrl(i+Wt(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_r),s.LFG(q,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),N=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function Ee(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Zt(re(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Wt(r))}normalize(e){return n.stripTrailingSlash(function U(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,re(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Wt(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Wt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=Wt,n.joinWithSlash=St,n.stripTrailingSlash=Zt,n.\u0275fac=function(e){return new(e||n)(s.LFG(Rn))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function S(){return new N((0,s.LFG)(Rn))}()},providedIn:"root"}),n})();function re(n){return n.replace(/\/index.html$/,"")}const Ke={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ze=(()=>((Ze=Ze||{})[Ze.Decimal=0]="Decimal",Ze[Ze.Percent=1]="Percent",Ze[Ze.Currency=2]="Currency",Ze[Ze.Scientific=3]="Scientific",Ze))(),He=(()=>((He=He||{})[He.Format=0]="Format",He[He.Standalone=1]="Standalone",He))(),at=(()=>((at=at||{})[at.Narrow=0]="Narrow",at[at.Abbreviated=1]="Abbreviated",at[at.Wide=2]="Wide",at[at.Short=3]="Short",at))(),ft=(()=>((ft=ft||{})[ft.Short=0]="Short",ft[ft.Medium=1]="Medium",ft[ft.Long=2]="Long",ft[ft.Full=3]="Full",ft))(),pt=(()=>((pt=pt||{})[pt.Decimal=0]="Decimal",pt[pt.Group=1]="Group",pt[pt.List=2]="List",pt[pt.PercentSign=3]="PercentSign",pt[pt.PlusSign=4]="PlusSign",pt[pt.MinusSign=5]="MinusSign",pt[pt.Exponential=6]="Exponential",pt[pt.SuperscriptingExponent=7]="SuperscriptingExponent",pt[pt.PerMille=8]="PerMille",pt[pt.Infinity=9]="Infinity",pt[pt.NaN=10]="NaN",pt[pt.TimeSeparator=11]="TimeSeparator",pt[pt.CurrencyDecimal=12]="CurrencyDecimal",pt[pt.CurrencyGroup=13]="CurrencyGroup",pt))();function gt(n,t){return yr((0,s.cg1)(n)[s.wAp.DateFormat],t)}function an(n,t){return yr((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function mn(n,t){return yr((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function gn(n,t){const e=(0,s.cg1)(n),r=e[s.wAp.NumberSymbols][t];if(typeof r>"u"){if(t===pt.CurrencyDecimal)return e[s.wAp.NumberSymbols][pt.Decimal];if(t===pt.CurrencyGroup)return e[s.wAp.NumberSymbols][pt.Group]}return r}function nn(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yr(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Xn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const ra=2,ys=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Oi={},ja=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var jn=(()=>((jn=jn||{})[jn.Short=0]="Short",jn[jn.ShortGMT=1]="ShortGMT",jn[jn.Long=2]="Long",jn[jn.Extended=3]="Extended",jn))(),Ct=(()=>((Ct=Ct||{})[Ct.FullYear=0]="FullYear",Ct[Ct.Month=1]="Month",Ct[Ct.Date=2]="Date",Ct[Ct.Hours=3]="Hours",Ct[Ct.Minutes=4]="Minutes",Ct[Ct.Seconds=5]="Seconds",Ct[Ct.FractionalSeconds=6]="FractionalSeconds",Ct[Ct.Day=7]="Day",Ct))(),Yt=(()=>((Yt=Yt||{})[Yt.DayPeriods=0]="DayPeriods",Yt[Yt.Days=1]="Days",Yt[Yt.Months=2]="Months",Yt[Yt.Eras=3]="Eras",Yt))();function Ui(n,t,e,r){let i=function bp(n){if(ru(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,u=1]=n.split("-").map(h=>+h);return Vr(i,o-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(ys))return function nu(n){const t=new Date(0);let e=0,r=0;const i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-r,p=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,u,h,p,y),t}(r)}const t=new Date(n);if(!ru(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Br(e,t)||t;let h,u=[];for(;t;){if(h=ja.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const E=u.pop();if(!E)break;t=E}}let p=i.getTimezoneOffset();r&&(p=Wa(r,p),i=function as(n,t,e){const r=e?-1:1,i=n.getTimezoneOffset();return function vp(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(Wa(t,i)-i))}(i,r,!0));let y="";return u.forEach(E=>{const I=function Er(n){if(os[n])return os[n];let t;switch(n){case"G":case"GG":case"GGG":t=Mn(Yt.Eras,at.Abbreviated);break;case"GGGG":t=Mn(Yt.Eras,at.Wide);break;case"GGGGG":t=Mn(Yt.Eras,at.Narrow);break;case"y":t=Yn(Ct.FullYear,1,0,!1,!0);break;case"yy":t=Yn(Ct.FullYear,2,0,!0,!0);break;case"yyy":t=Yn(Ct.FullYear,3,0,!1,!0);break;case"yyyy":t=Yn(Ct.FullYear,4,0,!1,!0);break;case"Y":t=ss(1);break;case"YY":t=ss(2,!0);break;case"YYY":t=ss(3);break;case"YYYY":t=ss(4);break;case"M":case"L":t=Yn(Ct.Month,1,1);break;case"MM":case"LL":t=Yn(Ct.Month,2,1);break;case"MMM":t=Mn(Yt.Months,at.Abbreviated);break;case"MMMM":t=Mn(Yt.Months,at.Wide);break;case"MMMMM":t=Mn(Yt.Months,at.Narrow);break;case"LLL":t=Mn(Yt.Months,at.Abbreviated,He.Standalone);break;case"LLLL":t=Mn(Yt.Months,at.Wide,He.Standalone);break;case"LLLLL":t=Mn(Yt.Months,at.Narrow,He.Standalone);break;case"w":t=za(1);break;case"ww":t=za(2);break;case"W":t=za(1,!0);break;case"d":t=Yn(Ct.Date,1);break;case"dd":t=Yn(Ct.Date,2);break;case"c":case"cc":t=Yn(Ct.Day,1);break;case"ccc":t=Mn(Yt.Days,at.Abbreviated,He.Standalone);break;case"cccc":t=Mn(Yt.Days,at.Wide,He.Standalone);break;case"ccccc":t=Mn(Yt.Days,at.Narrow,He.Standalone);break;case"cccccc":t=Mn(Yt.Days,at.Short,He.Standalone);break;case"E":case"EE":case"EEE":t=Mn(Yt.Days,at.Abbreviated);break;case"EEEE":t=Mn(Yt.Days,at.Wide);break;case"EEEEE":t=Mn(Yt.Days,at.Narrow);break;case"EEEEEE":t=Mn(Yt.Days,at.Short);break;case"a":case"aa":case"aaa":t=Mn(Yt.DayPeriods,at.Abbreviated);break;case"aaaa":t=Mn(Yt.DayPeriods,at.Wide);break;case"aaaaa":t=Mn(Yt.DayPeriods,at.Narrow);break;case"b":case"bb":case"bbb":t=Mn(Yt.DayPeriods,at.Abbreviated,He.Standalone,!0);break;case"bbbb":t=Mn(Yt.DayPeriods,at.Wide,He.Standalone,!0);break;case"bbbbb":t=Mn(Yt.DayPeriods,at.Narrow,He.Standalone,!0);break;case"B":case"BB":case"BBB":t=Mn(Yt.DayPeriods,at.Abbreviated,He.Format,!0);break;case"BBBB":t=Mn(Yt.DayPeriods,at.Wide,He.Format,!0);break;case"BBBBB":t=Mn(Yt.DayPeriods,at.Narrow,He.Format,!0);break;case"h":t=Yn(Ct.Hours,1,-12);break;case"hh":t=Yn(Ct.Hours,2,-12);break;case"H":t=Yn(Ct.Hours,1);break;case"HH":t=Yn(Ct.Hours,2);break;case"m":t=Yn(Ct.Minutes,1);break;case"mm":t=Yn(Ct.Minutes,2);break;case"s":t=Yn(Ct.Seconds,1);break;case"ss":t=Yn(Ct.Seconds,2);break;case"S":t=Yn(Ct.FractionalSeconds,1);break;case"SS":t=Yn(Ct.FractionalSeconds,2);break;case"SSS":t=Yn(Ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Gi(jn.Short);break;case"ZZZZZ":t=Gi(jn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Gi(jn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Gi(jn.Long);break;default:return null}return os[n]=t,t}(E);y+=I?I(i,e,p):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function Vr(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Br(n,t){const e=function Ai(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(Oi[e]=Oi[e]||{},Oi[e][t])return Oi[e][t];let r="";switch(t){case"shortDate":r=gt(n,ft.Short);break;case"mediumDate":r=gt(n,ft.Medium);break;case"longDate":r=gt(n,ft.Long);break;case"fullDate":r=gt(n,ft.Full);break;case"shortTime":r=an(n,ft.Short);break;case"mediumTime":r=an(n,ft.Medium);break;case"longTime":r=an(n,ft.Long);break;case"fullTime":r=an(n,ft.Full);break;case"short":const i=Br(n,"shortTime"),o=Br(n,"shortDate");r=Ss(mn(n,ft.Short),[i,o]);break;case"medium":const u=Br(n,"mediumTime"),h=Br(n,"mediumDate");r=Ss(mn(n,ft.Medium),[u,h]);break;case"long":const p=Br(n,"longTime"),y=Br(n,"longDate");r=Ss(mn(n,ft.Long),[p,y]);break;case"full":const E=Br(n,"fullTime"),I=Br(n,"fullDate");r=Ss(mn(n,ft.Full),[E,I])}return r&&(Oi[e][t]=r),r}function Ss(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function _n(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=e));let u=String(n);for(;u.length<t;)u="0"+u;return r&&(u=u.slice(u.length-t)),o+u}function Yn(n,t,e=0,r=!1,i=!1){return function(o,u){let h=function Io(n,t){switch(n){case Ct.FullYear:return t.getFullYear();case Ct.Month:return t.getMonth();case Ct.Date:return t.getDate();case Ct.Hours:return t.getHours();case Ct.Minutes:return t.getMinutes();case Ct.Seconds:return t.getSeconds();case Ct.FractionalSeconds:return t.getMilliseconds();case Ct.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||h>-e)&&(h+=e),n===Ct.Hours)0===h&&-12===e&&(h=12);else if(n===Ct.FractionalSeconds)return function yp(n,t){return _n(n,3).substring(0,t)}(h,t);const p=gn(u,pt.MinusSign);return _n(h,t,p,r,i)}}function Mn(n,t,e=He.Format,r=!1){return function(i,o){return function As(n,t,e,r,i,o){switch(e){case Yt.Months:return function rs(n,t,e){const r=(0,s.cg1)(n),o=yr([r[s.wAp.MonthsFormat],r[s.wAp.MonthsStandalone]],t);return yr(o,e)}(t,i,r)[n.getMonth()];case Yt.Days:return function Co(n,t,e){const r=(0,s.cg1)(n),o=yr([r[s.wAp.DaysFormat],r[s.wAp.DaysStandalone]],t);return yr(o,e)}(t,i,r)[n.getDay()];case Yt.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(o){const y=function si(n){const t=(0,s.cg1)(n);return nn(t),(t[s.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Xn(r):[Xn(r[0]),Xn(r[1])])}(t),E=function Zs(n,t,e){const r=(0,s.cg1)(n);nn(r);const o=yr([r[s.wAp.ExtraData][0],r[s.wAp.ExtraData][1]],t)||[];return yr(o,e)||[]}(t,i,r),I=y.findIndex(O=>{if(Array.isArray(O)){const[P,W]=O,te=u>=P.hours&&h>=P.minutes,de=u<W.hours||u===W.hours&&h<W.minutes;if(P.hours<W.hours){if(te&&de)return!0}else if(te||de)return!0}else if(O.hours===u&&O.minutes===h)return!0;return!1});if(-1!==I)return E[I]}return function ns(n,t,e){const r=(0,s.cg1)(n),o=yr([r[s.wAp.DayPeriodsFormat],r[s.wAp.DayPeriodsStandalone]],t);return yr(o,e)}(t,i,r)[u<12?0:1];case Yt.Eras:return function se(n,t){return yr((0,s.cg1)(n)[s.wAp.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,o,n,t,e,r)}}function Gi(n){return function(t,e,r){const i=-1*r,o=gn(e,pt.MinusSign),u=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case jn.Short:return(i>=0?"+":"")+_n(u,2,o)+_n(Math.abs(i%60),2,o);case jn.ShortGMT:return"GMT"+(i>=0?"+":"")+_n(u,1,o);case jn.Long:return"GMT"+(i>=0?"+":"")+_n(u,2,o)+":"+_n(Math.abs(i%60),2,o);case jn.Extended:return 0===r?"Z":(i>=0?"+":"")+_n(u,2,o)+":"+_n(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const oi=0,Ha=4;function hi(n){return Vr(n.getFullYear(),n.getMonth(),n.getDate()+(Ha-n.getDay()))}function za(n,t=!1){return function(e,r){let i;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();i=1+Math.floor((u+o)/7)}else{const o=hi(e),u=function Zr(n){const t=Vr(n,oi,1).getDay();return Vr(n,0,1+(t<=Ha?Ha:Ha+7)-t)}(o.getFullYear()),h=o.getTime()-u.getTime();i=1+Math.round(h/6048e5)}return _n(i,n,gn(r,pt.MinusSign))}}function ss(n,t=!1){return function(e,r){return _n(hi(e).getFullYear(),n,gn(r,pt.MinusSign),t)}}const os={};function Wa(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ru(n){return n instanceof Date&&!isNaN(n.valueOf())}const iu=/^(\d+)?\.((\d+)(-(\d+))?)?$/,su=22,Do=".",qa="0",ou=";",Za=",",ls="#",Bl="\xa4";function Ul(n,t,e,r,i){const u=function Ks(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(ou),i=r[0],o=r[1],u=-1!==i.indexOf(Do)?i.split(Do):[i.substring(0,i.lastIndexOf(qa)+1),i.substring(i.lastIndexOf(qa)+1)],h=u[0],p=u[1]||"";e.posPre=h.substring(0,h.indexOf(ls));for(let E=0;E<p.length;E++){const I=p.charAt(E);I===qa?e.minFrac=e.maxFrac=E+1:I===ls?e.maxFrac=E+1:e.posSuf+=I}const y=h.split(Za);if(e.gSize=y[1]?y[1].length:0,e.lgSize=y[2]||y[1]?(y[2]||y[1]).length:0,o){const E=i.length-e.posPre.length-e.posSuf.length,I=o.indexOf(ls);e.negPre=o.substring(0,I).replace(/'/g,""),e.negSuf=o.slice(I+E).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function br(n,t){return(0,s.cg1)(n)[s.wAp.NumberFormats][t]}(t,Ze.Currency),gn(t,pt.MinusSign));return u.minFrac=function rn(n){let t;const e=Ke[n];return e&&(t=e[2]),"number"==typeof t?t:ra}(r),u.maxFrac=u.minFrac,function Ns(n,t,e,r,i,o,u=!1){let h="",p=!1;if(isFinite(n)){let y=function Js(n){let r,i,o,u,h,t=Math.abs(n)+"",e=0;for((i=t.indexOf(Do))>-1&&(t=t.replace(Do,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===qa;o++);if(o===(h=t.length))r=[0],i=1;else{for(h--;t.charAt(h)===qa;)h--;for(i-=o,r=[],u=0;o<=h;o++,u++)r[u]=Number(t.charAt(o))}return i>su&&(r=r.splice(0,su-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}(n);u&&(y=function Ya(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(y));let E=t.minInt,I=t.minFrac,O=t.maxFrac;if(o){const tt=o.match(iu);if(null===tt)throw new Error(`${o} is not a valid digit info`);const yt=tt[1],wt=tt[3],It=tt[5];null!=yt&&(E=Ao(yt)),null!=wt&&(I=Ao(wt)),null!=It?O=Ao(It):null!=wt&&I>O&&(O=I)}!function So(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,i=r.length-n.integerLen;const o=Math.min(Math.max(t,i),e);let u=o+n.integerLen,h=r[u];if(u>0){r.splice(Math.max(n.integerLen,u));for(let I=u;I<r.length;I++)r[I]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,u=o+1),r[0]=0;for(let I=1;I<u;I++)r[I]=0}if(h>=5)if(u-1<0){for(let I=0;I>u;I--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[u-1]++;for(;i<Math.max(0,o);i++)r.push(0);let p=0!==o;const y=t+n.integerLen,E=r.reduceRight(function(I,O,P,W){return W[P]=(O+=I)<10?O:O-10,p&&(0===W[P]&&P>=y?W.pop():p=!1),O>=10?1:0},0);E&&(r.unshift(E),n.integerLen++)}(y,I,O);let P=y.digits,W=y.integerLen;const te=y.exponent;let de=[];for(p=P.every(tt=>!tt);W<E;W++)P.unshift(0);for(;W<0;W++)P.unshift(0);W>0?de=P.splice(W,P.length):(de=P,P=[0]);const Qe=[];for(P.length>=t.lgSize&&Qe.unshift(P.splice(-t.lgSize,P.length).join(""));P.length>t.gSize;)Qe.unshift(P.splice(-t.gSize,P.length).join(""));P.length&&Qe.unshift(P.join("")),h=Qe.join(gn(e,r)),de.length&&(h+=gn(e,i)+de.join("")),te&&(h+=gn(e,pt.Exponential)+"+"+te)}else h=gn(e,pt.Infinity);return h=n<0&&!p?t.negPre+h+t.negSuf:t.posPre+h+t.posSuf,h}(n,u,t,pt.CurrencyGroup,pt.CurrencyDecimal,i).replace(Bl,e).replace(Bl,"").trim()}function Ao(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}class V{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new V(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===o?void 0:o);else if(null!==o){const h=r.get(o);r.move(h,u),J(h,i)}});for(let i=0,o=r.length;i<o;i++){const h=r.get(i).context;h.index=i,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{J(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function J(n,t){n.context.$implicit=t.item}let Oe=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new it,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Rt("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Rt("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class it{constructor(){this.$implicit=null,this.ngIf=null}}function Rt(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let ai=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();function cr(n,t){return new s.vHH(2100,!1)}class cs{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class lu{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const cu=new lu,x_=new cs;let ji=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,s.QGY)(e))return cu;if((0,s.F4k)(e))return x_;throw cr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const du=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),jl=new s.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ri=(()=>{class n{constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(null==e||""===e||e!=e)return null;try{return Ui(e,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw cr()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(du,24),s.Y36(jl,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Mi=(()=>{class n{constructor(e,r="USD"){this._locale=e,this._defaultCurrencyCode=r}transform(e,r=this._defaultCurrencyCode,i="symbol",o,u){if(!function zl(n){return!(null==n||""===n||n!=n)}(e))return null;u=u||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let h=r||this._defaultCurrencyCode;"code"!==i&&(h="symbol"===i||"symbol-narrow"===i?function To(n,t,e="en"){const r=function Et(n){return(0,s.cg1)(n)[s.wAp.Currencies]}(e)[n]||Ke[n]||[],i=r[1];return"narrow"===t&&"string"==typeof i?i:r[0]||n}(h,"symbol"===i?"wide":"narrow",u):i);try{return Ul(function fu(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),u,h,r,o)}catch(p){throw cr()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(s.EJc,16))},n.\u0275pipe=s.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let wr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Ip="server";function gu(n){return n===Ip}let Dp=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new ql((0,s.LFG)(zt),window)}),n})();class ql{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function F_(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Sp(this.window.history)||Sp(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Sp(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}const Zl=n=>n.src,Xa=new s.OlP("ImageLoader",{providedIn:"root",factory:()=>Zl}),Wd=new s.OlP("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let Ms=(()=>{class n{constructor(){this.preloadedImages=(0,s.f3M)(Wd),this.document=(0,s.f3M)(zt)}createPreloadLinkTag(e,r,i,o){if(this.preloadedImages.has(r))return;this.preloadedImages.add(r);const u=e.createElement("link");e.setAttribute(u,"as","image"),e.setAttribute(u,"href",r),e.setAttribute(u,"rel","preload"),e.setAttribute(u,"fetchpriority","high"),o&&e.setAttribute(u,"imageSizes",o),i&&e.setAttribute(u,"imageSrcset",i),e.appendChild(this.document.head,u)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const no=/^((\s*\d+w\s*(,|$)){1,})$/,Jl=[1,2],Oo={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},Ro=new s.OlP("ImageConfig",{providedIn:"root",factory:()=>Oo});let Mo=(()=>{class n{constructor(){this.imageLoader=(0,s.f3M)(Xa),this.config=function xo(n){let t={};return n.breakpoints&&(t.breakpoints=n.breakpoints.sort((e,r)=>e-r)),Object.assign({},Oo,n,t)}((0,s.f3M)(Ro)),this.renderer=(0,s.f3M)(s.Qsj),this.imgElement=(0,s.f3M)(s.SBq).nativeElement,this.injector=(0,s.f3M)(s.zs3),this.isServer=gu((0,s.f3M)(s.Lbi)),this.preloadLinkChecker=(0,s.f3M)(Ms),this.lcpObserver=null,this._renderedSrc=null,this._priority=!1,this._disableOptimizedSrcset=!1,this._fill=!1}set width(e){this._width=rl(e)}get width(){return this._width}set height(e){this._height=rl(e)}get height(){return this._height}set priority(e){this._priority=Eu(e)}get priority(){return this._priority}set disableOptimizedSrcset(e){this._disableOptimizedSrcset=Eu(e)}get disableOptimizedSrcset(){return this._disableOptimizedSrcset}set fill(e){this._fill=Eu(e)}get fill(){return this._fill}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const e=this.getRewrittenSrc();let r;this.setHostAttribute("src",e),this.sizes&&this.setHostAttribute("sizes",this.sizes),this.ngSrcset?r=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(r=this.getAutomaticSrcset()),r&&this.setHostAttribute("srcset",r),this.isServer&&this.priority&&this.preloadLinkChecker.createPreloadLinkTag(this.renderer,e,r,this.sizes)}ngOnChanges(e){}callImageLoader(e){let r=e;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const e=no.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>""!==i).map(i=>{i=i.trim();const o=e?parseFloat(i):parseFloat(i)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:e}=this.config;let r=e;return"100vw"===this.sizes?.trim()&&(r=e.filter(o=>o>=640)),r.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}getFixedSrcset(){return Jl.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){return!this._disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Zl&&!(this.width>1920||this.height>1080)}ngOnDestroy(){}setHostAttribute(e,r){this.renderer.setAttribute(this.imgElement,e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(e,r){2&e&&s.Udp("position",r.fill?"absolute":null)("width",r.fill?"100%":null)("height",r.fill?"100%":null)("inset",r.fill?"0px":null)},inputs:{ngSrc:"ngSrc",ngSrcset:"ngSrcset",sizes:"sizes",width:"width",height:"height",loading:"loading",priority:"priority",loaderParams:"loaderParams",disableOptimizedSrcset:"disableOptimizedSrcset",fill:"fill",src:"src",srcset:"srcset"},standalone:!0,features:[s.TTD]}),n})();function rl(n){return"string"==typeof n?parseInt(n,10):n}function Eu(n){return null!=n&&"false"!=`${n}`}function Cr(n){return n<=0?()=>Ln.E:(0,ce.e)((t,e)=>{let r=0;t.subscribe((0,ue.x)(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Qd(n){return(0,ce.e)((t,e)=>{let r=!1;t.subscribe((0,ue.x)(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function Z_(n=nc){return(0,ce.e)((t,e)=>{let r=!1;t.subscribe((0,ue.x)(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function nc(){return new On}function Po(n,t){const e=arguments.length>=2;return r=>r.pipe(n?le((i,o)=>n(i,o,r)):lt.y,Cr(1),e?Qd(t):Z_(()=>new On))}function ha(n,t){return(0,pn.m)(t)?(0,Le.z)(n,t,1):(0,Le.z)(n,1)}var Tn=L(8505);function xs(n){return(0,ce.e)((t,e)=>{let o,r=null,i=!1;r=t.subscribe((0,ue.x)(e,void 0,void 0,u=>{o=(0,me.Xf)(n(u,xs(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function il(n,t){return(0,ce.e)(function rc(n,t,e,r,i){return(o,u)=>{let h=e,p=t,y=0;o.subscribe((0,ue.x)(u,E=>{const I=y++;p=h?n(p,E,I):(h=!0,E),r&&u.next(p)},i&&(()=>{h&&u.next(p),u.complete()})))}}(n,t,arguments.length>=2,!0))}function xi(n){return n<=0?()=>Ln.E:(0,ce.e)((t,e)=>{let r=[];t.subscribe((0,ue.x)(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Ps(n,t){const e=arguments.length>=2;return r=>r.pipe(n?le((i,o)=>n(i,o,r)):lt.y,xi(1),e?Qd(t):Z_(()=>new On))}function fa(n){return(0,G.U)(()=>n)}function pa(n){return(0,ce.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Xd extends kn{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ic extends Xd{static makeCurrent(){!function Mr(n){on||(on=n)}(new ic)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function bE(){return ga=ga||document.querySelector("base"),ga?ga.getAttribute("href"):null}();return null==e?null:function eh(n){Ur=Ur||document.createElement("a"),Ur.setAttribute("href",n);const t=Ur.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ga=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Os(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Ur,ga=null,J_=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const sl=new s.OlP("EventManagerPlugins");let sc=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const u=i[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sl),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Up{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Zn().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let Gp=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,r){const i=this.usageCount;let o=i.get(e)??0;return o+=r,o>0?i.set(e,o):i.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ro=(()=>{class n extends Gp{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.forEach(o=>o.remove()),r.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,r){const i=this.doc.createElement("style");i.textContent=r,e.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ol={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ma=/%COMP%/g,cl=new s.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Tu(n,t){return t.flat(100).map(e=>e.replace(ma,n))}function Iu(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ko=(()=>{class n{constructor(e,r,i,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Fo(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(e,r);return i instanceof Hp?i.applyToHost(e):i instanceof Du&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const u=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestory;switch(r.encapsulation){case s.ifc.Emulated:o=new Hp(u,h,r,this.appId,p);break;case s.ifc.ShadowDom:return new X_(u,h,e,r);default:o=new Du(u,h,r,p)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sc),s.LFG(ro),s.LFG(s.AFp),s.LFG(cl))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Fo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ol[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(th(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(th(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=ol[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=ol[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,r,i&s.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Iu(r)):this.eventManager.addEventListener(t,e,Iu(r))}}function th(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class X_ extends Fo{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Tu(i.id,i.styles);for(const u of o){const h=document.createElement("style");h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Du extends Fo{constructor(t,e,r,i,o=r.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Tu(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Hp extends Du{constructor(t,e,r,i,o){const u=i+"-"+r.id;super(t,e,r,o,u),this.contentAttr=function wu(n){return"_ngcontent-%COMP%".replace(ma,n)}(u),this.hostAttr=function Cu(n){return"_nghost-%COMP%".replace(ma,n)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}let ey=(()=>{class n extends Up{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Su=["alt","control","meta","shift"],Au={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let nh=(()=>{class n extends Up{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),u=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zn().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),Su.forEach(y=>{const E=r.indexOf(y);E>-1&&(r.splice(E,1),u+=y+".")}),u+=o,0!=r.length||0===o.length)return null;const p={};return p.domEventName=i,p.fullKey=u,p}static matchEventFullKeyCode(e,r){let i=Au[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Su.forEach(u=>{u!==i&&(0,zp[u])(e)&&(o+=u+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function sh(n){return{appProviders:[...qp,...n?.providers??[]],platformProviders:ry}}const ry=[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function oh(){ic.makeCurrent()},multi:!0},{provide:zt,useFactory:function ny(){return(0,s.RDi)(document),document},deps:[]}],qp=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function ah(){return new s.qLn},deps:[]},{provide:sl,useClass:ey,multi:!0,deps:[zt,s.R0b,s.Lbi]},{provide:sl,useClass:nh,multi:!0,deps:[zt]},{provide:ko,useClass:ko,deps:[sc,ro,s.AFp,cl]},{provide:s.FYo,useExisting:ko},{provide:Gp,useExisting:ro},{provide:ro,useClass:ro,deps:[zt]},{provide:sc,useClass:sc,deps:[sl,s.R0b]},{provide:class eo{},useClass:J_,deps:[]},[]];let Nu=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zt))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function uh(){return new Nu((0,s.LFG)(zt))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const en="primary",ul=Symbol("RouteTitle");class Kp{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function dl(n){return new Kp(n)}function ac(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const u=r[o],h=n[o];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function so(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Lo(n[i],t[i]))return!1;return!0}function Lo(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function yh(n){return Array.prototype.concat.apply([],n)}function lc(n){return n.length>0?n[n.length-1]:null}function Sr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function oo(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,X.D)(Promise.resolve(n)):Y(n)}const ao=!1,bh={exact:function Qp(n,t,e){if(!fe(n.segments,t.segments)||!_(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Qp(n.children[r],t.children[r],e))return!1;return!0},subset:b},Eh={exact:function Mu(n,t){return so(n,t)},subset:function fy(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Lo(n[e],t[e]))},ignored:()=>!0};function Jp(n,t,e){return bh[e.paths](n.root,t.root,e.matrixParams)&&Eh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function b(n,t,e){return g(n,t,t.segments,e)}function g(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!fe(i,e)||t.hasChildren()||!_(i,e,r))}if(n.segments.length===e.length){if(!fe(n.segments,e)||!_(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!b(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(fe(n.segments,i)&&_(n.segments,i,r)&&n.children[en])&&g(n.children[en],t,o,r)}}function _(n,t,e){return t.every((r,i)=>Eh[e](n[i].parameters,r.parameters))}class w{constructor(t=new D([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dl(this.queryParams)),this._queryParamMap}toString(){return un.serialize(this)}}class D{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Sr(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gr(this)}}class M{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=dl(this.parameters)),this._parameterMap}toString(){return xu(this)}}function fe(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new At},providedIn:"root"}),n})();class At{parse(t){const e=new my(t);return new w(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Wi(t.root,!0)}`,r=function hc(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${cc(e)}=${cc(i)}`).join("&"):`${cc(e)}=${cc(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function Xp(n){return encodeURI(n)}(t.fragment)}`:""}`}}const un=new At;function gr(n){return n.segments.map(t=>xu(t)).join("/")}function Wi(n,t){if(!n.hasChildren())return gr(n);if(t){const e=n.children[en]?Wi(n.children[en],!1):"",r=[];return Sr(n.children,(i,o)=>{o!==en&&r.push(`${o}:${Wi(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function st(n,t){let e=[];return Sr(n.children,(r,i)=>{i===en&&(e=e.concat(t(r,i)))}),Sr(n.children,(r,i)=>{i!==en&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===en?[Wi(n.children[en],!1)]:[`${i}:${Wi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[en]?`${gr(n)}/${e[0]}`:`${gr(n)}/(${e.join("//")})`}}function hl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cc(n){return hl(n).replace(/%3B/gi,";")}function ya(n){return hl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uc(n){return decodeURIComponent(n)}function dc(n){return uc(n.replace(/\+/g,"%20"))}function xu(n){return`${ya(n.path)}${function wh(n){return Object.keys(n).map(t=>`;${ya(t)}=${ya(n[t])}`).join("")}(n.parameters)}`}const Ch=/^[^\/()?;=#]+/;function va(n){const t=n.match(Ch);return t?t[0]:""}const fl=/^[^=?&#]+/,py=/^[^&#]+/;class my{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new D([],{}):new D([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[en]=new D(t,e)),r}parseSegment(){const t=va(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,ao);return this.capture(t),new M(uc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=va(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=va(this.remaining);i&&(r=i,this.capture(r))}t[uc(e)]=uc(r)}parseQueryParam(t){const e=function eg(n){const t=n.match(fl);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const u=function gy(n){const t=n.match(py);return t?t[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=dc(e),o=dc(r);if(t.hasOwnProperty(i)){let u=t[i];Array.isArray(u)||(u=[u],t[i]=u),u.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=va(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new s.vHH(4010,ao);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=en);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[en]:new D([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,ao)}}function fc(n){return n.segments.length>0?new D([],{[en]:n}):n}function tg(n){const t={};for(const r of Object.keys(n.children)){const o=tg(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function SE(n){if(1===n.numberOfChildren&&n.children[en]){const t=n.children[en];return new D(n.segments.concat(t.segments),t.children)}return n}(new D(n.segments,t))}function pc(n){return n instanceof w}const _y=!1;function ng(n,t,e,r,i){if(0===e.length)return Pu(t.root,t.root,t.root,r,i);const o=function NE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dD(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Sr(o.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...i,{outlets:h}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===u?(o.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?e=!0:".."===h?t++:""!=h&&i.push(h))}),i):[...i,o]},[]);return new dD(e,t,r)}(e);return o.toRoot()?Pu(t.root,t.root,new D([],{}),r,i):function u(p){const y=function OE(n,t,e,r){if(n.isAbsolute)return new pl(t.root,!0,0);if(-1===r)return new pl(e,e===t.root,0);return function Th(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new s.vHH(4005,_y&&"Invalid number of '../'");i=r.segments.length}return new pl(r,!1,i-o)}(e,r+(gc(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,p),E=y.processChildren?mc(y.segmentGroup,y.index,o.commands):rg(y.segmentGroup,y.index,o.commands);return Pu(t.root,y.segmentGroup,E,r,i)}(n.snapshot?._lastPathIndex)}function gc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vo(n){return"object"==typeof n&&null!=n&&n.outlets}function Pu(n,t,e,r,i){let u,o={};r&&Sr(r,(p,y)=>{o[y]=Array.isArray(p)?p.map(E=>`${E}`):`${p}`}),u=n===t?e:AE(n,t,e);const h=fc(tg(u));return new w(h,o,i)}function AE(n,t,e){const r={};return Sr(n.children,(i,o)=>{r[o]=i===t?e:AE(i,t,e)}),new D(n.segments,r)}class dD{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&gc(r[0]))throw new s.vHH(4003,_y&&"Root segment cannot have matrix parameters");const i=r.find(Vo);if(i&&i!==lc(r))throw new s.vHH(4004,_y&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pl{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function rg(n,t,e){if(n||(n=new D([],{})),0===n.segments.length&&n.hasChildren())return mc(n,t,e);const r=function RE(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const u=n.segments[i],h=e[r];if(Vo(h))break;const p=`${h}`,y=r<e.length-1?e[r+1]:null;if(i>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!xE(p,y,u))return o;r+=2}else{if(!xE(p,{},u))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new D(n.segments.slice(0,r.pathIndex),{});return o.children[en]=new D(n.segments.slice(r.pathIndex),n.children),mc(o,0,i)}return r.match&&0===i.length?new D(n.segments,{}):r.match&&!n.hasChildren()?ig(n,t,e):r.match?mc(n,0,i):ig(n,t,e)}function mc(n,t,e){if(0===e.length)return new D(n.segments,{});{const r=function by(n){return Vo(n[0])?n[0].outlets:{[en]:n}}(e),i={};if(!r[en]&&n.children[en]&&1===n.numberOfChildren&&0===n.children[en].segments.length){const o=mc(n.children[en],t,e);return new D(n.segments,o.children)}return Sr(r,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[u]=rg(n.children[u],t,o))}),Sr(n.children,(o,u)=>{void 0===r[u]&&(i[u]=o)}),new D(n.segments,i)}}function ig(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(Vo(o)){const p=fD(o.outlets);return new D(r,p)}if(0===i&&gc(e[0])){r.push(new M(n.segments[t].path,ME(e[0]))),i++;continue}const u=Vo(o)?o.outlets[en]:`${o}`,h=i<e.length-1?e[i+1]:null;u&&h&&gc(h)?(r.push(new M(u,ME(h))),i+=2):(r.push(new M(u,{})),i++)}return new D(r,{})}function fD(n){const t={};return Sr(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=ig(new D([],{}),0,e))}),t}function ME(n){const t={};return Sr(n,(e,r)=>t[r]=`${e}`),t}function xE(n,t,e){return n==e.path&&so(t,e.parameters)}const Ih="imperative";class Bo{constructor(t,e){this.id=t,this.url=e}}class Uo extends Bo{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lo extends Bo{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sg extends Bo{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ey extends Bo{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=16}}class PE extends Bo{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wx extends Bo{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qx extends Bo{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zx extends Bo{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kE extends Bo{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pD extends Bo{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gD{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mD{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _D{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wy{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ba{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ku{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cy{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Yx=(()=>{class n{createUrlTree(e,r,i,o,u,h){return ng(e||r.root,i,o,u,h)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Jx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){return Yx.\u0275fac(t)},providedIn:"root"}),n})();class og{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Dh(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Dh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=VE(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return VE(t,this._root).map(e=>e.value)}}function Dh(n,t){if(n===t.value)return t;for(const e of t.children){const r=Dh(n,e);if(r)return r}return null}function VE(n,t){if(n===t.value)return[t];for(const e of t.children){const r=VE(n,e);if(r.length)return r.unshift(t),r}return[]}class gl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function _c(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class BE extends og{constructor(t,e){super(t),this.snapshot=e,Iy(this,t)}toString(){return this.snapshot.toString()}}function UE(n,t){const e=function yD(n,t){const u=new lg([],{},{},"",{},en,t,null,n.root,-1,{});return new cg("",new gl(u,[]))}(n,t),r=new dt([new M("",{})]),i=new dt({}),o=new dt({}),u=new dt({}),h=new dt(""),p=new co(r,i,u,h,o,en,t,e.root);return p.snapshot=e.root,new BE(new gl(p,[]),e)}class co{constructor(t,e,r,i,o,u,h,p){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,G.U)(y=>y[ul]))??Y(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,G.U)(t=>dl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,G.U)(t=>dl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ty(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function ag(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class lg{get title(){return this.data?.[ul]}constructor(t,e,r,i,o,u,h,p,y,E,I){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=h,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=E,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cg extends og{constructor(t,e){super(e),this.url=t,Iy(this,e)}toString(){return xr(this._root)}}function Iy(n,t){t.value._routerState=n,t.children.forEach(e=>Iy(n,e))}function xr(n){const t=n.children.length>0?` { ${n.children.map(xr).join(", ")} } `:"";return`${n.value}${t}`}function Dy(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,so(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),so(t.params,e.params)||n.params.next(e.params),function _h(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!so(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),so(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Sy(n,t){const e=so(n.params,t.params)&&function ee(n,t){return fe(n,t)&&n.every((e,r)=>so(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Sy(n.parent,t.parent))}function Fu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function vD(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Fu(n,r,i);return Fu(n,r)})}(n,t,e);return new gl(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Fu(n,h)),u}}const r=function bD(n){return new co(new dt(n.url),new dt(n.params),new dt(n.queryParams),new dt(n.fragment),new dt(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>Fu(n,o));return new gl(r,i)}}const Ay="ngNavigationCancelingError";function $E(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=pc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Ny(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function Ny(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ay]=!0,r.cancellationCode=t,e&&(r.url=e),r}function ED(n){return wD(n)&&pc(n.url)}function wD(n){return n&&n[Ay]}class Sh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new yc,this.attachRef=null}}let yc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Sh,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ah=!1;let ug=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=en,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(yc),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,Ah);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,Ah);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,Ah);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new s.vHH(4013,Ah);this._activatedRoute=e;const i=this.location,u=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new jE(e,h,i.injector);if(r&&function CD(n){return!!n.resolveComponentFactory}(r)){const y=r.resolveComponentFactory(u);this.activated=i.createComponent(y,i.length,p)}else this.activated=i.createComponent(u,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class jE{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===co?this.route:t===yc?this.childContexts:this.parent.get(t,e)}}let Nh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,r){1&e&&s._UZ(0,"router-outlet")},dependencies:[ug],encapsulation:2}),n})();function Oy(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Ea(n){const t=n.children&&n.children.map(Ea),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==en&&(e.component=Nh),e}function ks(n){return n.outlet||en}function dg(n,t){const e=n.filter(r=>ks(r)===t);return e.push(...n.filter(r=>ks(r)!==t)),e}function ml(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class xy{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Dy(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=_c(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,i[u],r),delete i[u]}),Sr(i,(o,u)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=_c(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=_c(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=_c(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ku(o.value.snapshot))}),t.children.length&&this.forwardEvent(new wy(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(Dy(i),i===o)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Dy(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=ml(i.snapshot),p=h?.get(s._Vd)??null;u.attachRef=null,u.route=i,u.resolver=p,u.injector=h,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,r)}}class Oh{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Go{constructor(t,e){this.component=t,this.route=e}}function ZE(n,t,e){const r=n._root;return Rh(r,t?t._root:null,e,[r.value])}function Lu(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:r}function Rh(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=_c(t);return n.children.forEach(u=>{(function YE(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const p=function Vu(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!fe(n.url,t.url);case"pathParamsOrQueryParamsChange":return!fe(n.url,t.url)||!so(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sy(n,t)||!so(n.queryParams,t.queryParams);default:return!Sy(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new Oh(r)):(o.data=u.data,o._resolvedData=u._resolvedData),Rh(n,t,o.component?h?h.children:null:e,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new Go(h.outlet.component,u))}else u&&Mh(t,h,i),i.canActivateChecks.push(new Oh(r)),Rh(n,null,o.component?h?h.children:null:e,r,i)})(u,o[u.value.outlet],e,r.concat([u.value]),i),delete o[u.value.outlet]}),Sr(o,(u,h)=>Mh(u,e.getContext(h),i)),i}function Mh(n,t,e){const r=_c(n),i=n.value;Sr(r,(o,u)=>{Mh(o,i.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Go(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function xh(n){return"function"==typeof n}function vc(n){return n instanceof On||"EmptyError"===n?.name}const hg=Symbol("INITIAL_VALUE");function uo(){return H(n=>ot(n.map(t=>t.pipe(Cr(1),we(hg)))).pipe((0,G.U)(t=>{for(const e of t)if(!0!==e){if(e===hg)return hg;if(!1===e||e instanceof w)return e}return!0}),le(t=>t!==hg),Cr(1)))}function fg(n){return(0,xt.z)((0,Tn.b)(t=>{if(pc(t))throw $E(0,t)}),(0,G.U)(t=>!0===t))}const kh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bu(n,t,e,r,i){const o=Ly(n,t,e);return o.matched?function PD(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?Y(i.map(u=>{const h=Lu(u,n);return oo(function JE(n){return n&&xh(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(uo(),fg()):Y(!0)}(r=Oy(t,r),t,e).pipe((0,G.U)(u=>!0===u?o:{...kh})):Y(o)}function Ly(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...kh}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||ac)(e,n,t);if(!i)return{...kh};const o={};Sr(i.posParams,(h,p)=>{o[p]=h.path});const u=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function pg(n,t,e,r){if(e.length>0&&function LD(n,t,e){return e.some(r=>gg(n,t,r)&&ks(r)!==en)}(n,e,r)){const o=new D(t,function FD(n,t,e,r){const i={};i[en]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&ks(o)!==en){const u=new D([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,i[ks(o)]=u}return i}(n,t,r,new D(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function VD(n,t,e){return e.some(r=>gg(n,t,r))}(n,e,r)){const o=new D(n.segments,function kD(n,t,e,r,i){const o={};for(const u of r)if(gg(n,e,u)&&!i[ks(u)]){const h=new D([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[ks(u)]=h}return{...i,...o}}(n,t,e,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const i=new D(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:e}}function gg(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function bc(n,t,e,r){return!!(ks(n)===r||r!==en&&gg(t,e,n))&&("**"===n.path||Ly(t,n,e).matched)}function $o(n,t,e){return 0===t.length&&!n.children[e]}const mg=!1;class _g{constructor(t){this.segmentGroup=t||null}}class BD{constructor(t){this.urlTree=t}}function yg(n){return Qn(new _g(n))}function Vy(n){return Qn(new BD(n))}class UD{constructor(t,e,r,i,o){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=pg(this.urlTree.root,[],[],this.config).segmentGroup,e=new D(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,en).pipe((0,G.U)(o=>this.createUrlTree(tg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xs(o=>{if(o instanceof BD)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof _g?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,en).pipe((0,G.U)(i=>this.createUrlTree(tg(i),t.queryParams,t.fragment))).pipe(xs(i=>{throw i instanceof _g?this.noMatchError(i):i}))}noMatchError(t){return new s.vHH(4002,mg)}createUrlTree(t,e,r){const i=fc(t);return new w(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,G.U)(o=>new D([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,X.D)(i).pipe(ha(o=>{const u=r.children[o],h=dg(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,G.U)(p=>({segment:p,outlet:o})))}),il((o,u)=>(o[u.outlet]=u.segment,o),{}),Ps())}expandSegment(t,e,r,i,o,u){return(0,X.D)(r).pipe(ha(h=>this.expandSegmentAgainstRoute(t,e,r,h,i,o,u).pipe(xs(y=>{if(y instanceof _g)return Y(null);throw y}))),Po(h=>!!h),xs((h,p)=>{if(vc(h))return $o(e,i,o)?Y(new D([],{})):yg(e);throw h}))}expandSegmentAgainstRoute(t,e,r,i,o,u,h){return bc(i,e,o,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,u):yg(e):yg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Vy(o):this.lineralizeSegments(r,o).pipe((0,Le.z)(u=>{const h=new D(u,{});return this.expandSegment(t,h,e,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,u){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:E}=Ly(e,i,o);if(!h)return yg(e);const I=this.applyRedirectCommands(p,i.redirectTo,E);return i.redirectTo.startsWith("/")?Vy(I):this.lineralizeSegments(i,I).pipe((0,Le.z)(O=>this.expandSegment(t,e,r,O.concat(y),u,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){return"**"===r.path?(t=Oy(r,t),r.loadChildren?(r._loadedRoutes?Y({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,G.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new D(i,{})))):Y(new D(i,{}))):Bu(e,r,i,t).pipe(H(({matched:u,consumedSegments:h,remainingSegments:p})=>u?this.getChildConfig(t=r._injector??t,r,i).pipe((0,Le.z)(E=>{const I=E.injector??t,O=E.routes,{segmentGroup:P,slicedSegments:W}=pg(e,h,p,O),te=new D(P.segments,P.children);if(0===W.length&&te.hasChildren())return this.expandChildren(I,O,te).pipe((0,G.U)(yt=>new D(h,yt)));if(0===O.length&&0===W.length)return Y(new D(h,{}));const de=ks(r)===o;return this.expandSegment(I,te,O,W,de?en:o,!0).pipe((0,G.U)(tt=>new D(h.concat(tt.segments),tt.children)))})):yg(e)))}getChildConfig(t,e,r){return e.children?Y({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Y({routes:e._loadedRoutes,injector:e._loadedInjector}):function Fy(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?Y(!0):Y(i.map(u=>{const h=Lu(u,n);return oo(function ky(n){return n&&xh(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(uo(),fg())}(t,e,r).pipe((0,Le.z)(i=>i?this.configLoader.loadChildren(t,e).pipe((0,Tn.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function tw(n){return Qn(Ny(mg,3))}())):Y({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[en])return t.redirectTo,Qn(new s.vHH(4e3,mg));i=i.children[en]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new w(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Sr(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[o]=e[h]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let u={};return Sr(e.children,(h,p)=>{u[p]=this.createSegmentGroup(t,h,r,i)}),new D(o,u)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new s.vHH(4001,mg);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class GD{}class sw{constructor(t,e,r,i,o,u,h){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const t=pg(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,en).pipe((0,G.U)(e=>{if(null===e)return null;const r=new lg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new gl(r,e),o=new cg(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,r=Ty(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return(0,X.D)(Object.keys(r.children)).pipe(ha(i=>{const o=r.children[i],u=dg(e,i);return this.processSegmentGroup(t,u,o,i)}),il((i,o)=>i&&o?(i.push(...o),i):null),function Vp(n,t=!1){return(0,ce.e)((e,r)=>{let i=0;e.subscribe((0,ue.x)(r,o=>{const u=n(o,i++);(u||t)&&r.next(o),!u&&r.complete()}))})}(i=>null!==i),Qd(null),Ps(),(0,G.U)(i=>{if(null===i)return null;const o=ow(i);return function jD(n){n.sort((t,e)=>t.value.outlet===en?-1:e.value.outlet===en?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,r,i,o){return(0,X.D)(e).pipe(ha(u=>this.processSegmentAgainstRoute(u._injector??t,u,r,i,o)),Po(u=>!!u),xs(u=>{if(vc(u))return $o(r,i,o)?Y([]):Y(null);throw u}))}processSegmentAgainstRoute(t,e,r,i,o){if(e.redirectTo||!bc(e,r,i,o))return Y(null);let u;if("**"===e.path){const h=i.length>0?lc(i).parameters:{},p=cw(r)+i.length;u=Y({snapshot:new lg(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cn(e),ks(e),e.component??e._loadedComponent??null,e,lw(r),p,By(e)),consumedSegments:[],remainingSegments:[]})}else u=Bu(r,e,i,t).pipe((0,G.U)(({matched:h,consumedSegments:p,remainingSegments:y,parameters:E})=>{if(!h)return null;const I=cw(r)+p.length;return{snapshot:new lg(p,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cn(e),ks(e),e.component??e._loadedComponent??null,e,lw(r),I,By(e)),consumedSegments:p,remainingSegments:y}}));return u.pipe(H(h=>{if(null===h)return Y(null);const{snapshot:p,consumedSegments:y,remainingSegments:E}=h;t=e._injector??t;const I=e._loadedInjector??t,O=function HD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:P,slicedSegments:W}=pg(r,y,E,O.filter(de=>void 0===de.redirectTo));if(0===W.length&&P.hasChildren())return this.processChildren(I,O,P).pipe((0,G.U)(de=>null===de?null:[new gl(p,de)]));if(0===O.length&&0===W.length)return Y([new gl(p,[])]);const te=ks(e)===o;return this.processSegment(I,O,P,W,te?en:o).pipe((0,G.U)(de=>null===de?null:[new gl(p,de)]))}))}}function zD(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function ow(n){const t=[],e=new Set;for(const r of n){if(!zD(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=ow(r.children);t.push(new gl(r.value,i))}return t.filter(r=>!e.has(r))}function lw(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function cw(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function cn(n){return n.data||{}}function By(n){return n.resolve||{}}function Uy(n){return"string"==typeof n.title||null===n.title}function Gy(n){return H(t=>{const e=n(t);return e?(0,X.D)(e).pipe((0,G.U)(()=>t)):Y(t)})}const Fh=new s.OlP("ROUTES");let vg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.f3M)(s.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Y(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=oo(e.loadComponent()).pipe((0,G.U)(_l),(0,Tn.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),pa(()=>{this.componentLoaders.delete(e)})),i=new An(r,()=>new Ce.x).pipe(Xt());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,G.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,y,E=!1;Array.isArray(h)?y=h:(p=h.create(e).injector,y=yh(p.get(Fh,[],s.XFs.Self|s.XFs.Optional)));return{routes:y.map(Ea),injector:p}}),pa(()=>{this.childrenLoaders.delete(r)})),u=new An(o,()=>new Ce.x).pipe(Xt());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(e){return oo(e()).pipe((0,G.U)(_l),(0,Le.z)(r=>r instanceof s.YKP||Array.isArray(r)?Y(r):(0,X.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _l(n){return function pw(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Uu=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ce.x,this.configLoader=(0,s.f3M)(vg),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(ut),this.rootContexts=(0,s.f3M)(yc),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new mD(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new gD(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new dt({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ih,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(le(r=>0!==r.id),(0,G.U)(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),H(r=>{let i=!1,o=!1;return Y(r).pipe((0,Tn.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),H(u=>{const h=e.browserUrlTree.toString(),p=!e.navigated||u.extractedUrl.toString()!==h||h!==e.currentUrlTree.toString();if(!p&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const E="";return this.events.next(new Ey(u.id,e.serializeUrl(r.rawUrl),E,0)),e.rawUrlTree=u.rawUrl,u.resolve(null),Ln.E}if(e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Eg(u.source)&&(e.browserUrlTree=u.extractedUrl),Y(u).pipe(H(E=>{const I=this.transitions?.getValue();return this.events.next(new Uo(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),I!==this.transitions?.getValue()?Ln.E:Promise.resolve(E)}),function rw(n,t,e,r){return H(i=>function nw(n,t,e,r,i){return new UD(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe((0,G.U)(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Tn.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},r.urlAfterRedirects=E.urlAfterRedirects}),function uw(n,t,e,r,i){return(0,Le.z)(o=>function $D(n,t,e,r,i,o,u="emptyOnly"){return new sw(n,t,e,r,i,u,o).recognize().pipe(H(h=>null===h?function ho(n){return new K.y(t=>t.error(n))}(new GD):Y(h)))}(n,t,e,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe((0,G.U)(u=>({...o,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Tn.b)(E=>{if(r.targetSnapshot=E.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!E.extras.skipLocationChange){const O=e.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);e.setBrowserUrl(O,E)}e.browserUrlTree=E.urlAfterRedirects}const I=new Wx(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(I)}));if(p&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:E,extractedUrl:I,source:O,restoredState:P,extras:W}=u,te=new Uo(E,this.urlSerializer.serialize(I),O,P);this.events.next(te);const de=UE(I,this.rootComponentType).snapshot;return Y(r={...u,targetSnapshot:de,urlAfterRedirects:I,extras:{...W,skipLocationChange:!1,replaceUrl:!1}})}{const E="";return this.events.next(new Ey(u.id,e.serializeUrl(r.extractedUrl),E,1)),e.rawUrlTree=u.rawUrl,u.resolve(null),Ln.E}}),(0,Tn.b)(u=>{const h=new qx(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),(0,G.U)(u=>r={...u,guards:ZE(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function Ph(n,t){return(0,Le.z)(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?Y({...e,guardsResult:!0}):function OD(n,t,e,r){return(0,X.D)(n).pipe((0,Le.z)(i=>function ew(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Y(o.map(h=>{const p=ml(t)??i,y=Lu(h,p);return oo(function AD(n){return n&&xh(n.canDeactivate)}(y)?y.canDeactivate(n,t,e,r):p.runInContext(()=>y(n,t,e,r))).pipe(Po())})).pipe(uo()):Y(!0)}(i.component,i.route,e,t,r)),Po(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Le.z)(h=>h&&function DD(n){return"boolean"==typeof n}(h)?function QE(n,t,e,r){return(0,X.D)(t).pipe(ha(i=>xe(function MD(n,t){return null!==n&&t&&t(new _D(n)),Y(!0)}(i.route.parent,r),function RD(n,t){return null!==n&&t&&t(new ba(n)),Y(!0)}(i.route,r),function XE(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function Py(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Gt(()=>Y(u.guards.map(p=>{const y=ml(u.node)??e,E=Lu(p,y);return oo(function KE(n){return n&&xh(n.canActivateChild)}(E)?E.canActivateChild(r,n):y.runInContext(()=>E(r,n))).pipe(Po())})).pipe(uo())));return Y(o).pipe(uo())}(n,i.path,e),function xD(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(o=>Gt(()=>{const u=ml(t)??e,h=Lu(o,u);return oo(function SD(n){return n&&xh(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(Po())}));return Y(i).pipe(uo())}(n,i.route,e))),Po(i=>!0!==i,!0))}(r,o,n,t):Y(h)),(0,G.U)(h=>({...e,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),(0,Tn.b)(u=>{if(r.guardsResult=u.guardsResult,pc(u.guardsResult))throw $E(0,u.guardsResult);const h=new Zx(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),le(u=>!!u.guardsResult||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Gy(u=>{if(u.guards.canActivateChecks.length)return Y(u).pipe((0,Tn.b)(h=>{const p=new kE(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),H(h=>{let p=!1;return Y(h).pipe(function dw(n,t){return(0,Le.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Y(e);let o=0;return(0,X.D)(i).pipe(ha(u=>function WD(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!Uy(i)&&(o[ul]=i.title),function qD(n,t,e,r){const i=function hw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Y({});const o={};return(0,X.D)(i).pipe((0,Le.z)(u=>function ZD(n,t,e,r){const i=ml(t)??r,o=Lu(n,i);return oo(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[u],t,e,r).pipe(Po(),(0,Tn.b)(h=>{o[u]=h}))),xi(1),fa(o),xs(u=>vc(u)?Ln.E:Qn(u)))}(o,n,t,r).pipe((0,G.U)(u=>(n._resolvedData=u,n.data=Ty(n,e).resolve,i&&Uy(i)&&(n.data[ul]=i.title),null)))}(u.route,r,n,t)),(0,Tn.b)(()=>o++),xi(1),(0,Le.z)(u=>o===i.length?Y(e):Ln.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Tn.b)({next:()=>p=!0,complete:()=>{p||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Tn.b)(h=>{const p=new pD(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Gy(u=>{const h=p=>{const y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,Tn.b)(E=>{p.component=E}),(0,G.U)(()=>{})));for(const E of p.children)y.push(...h(E));return y};return ot(h(u.targetSnapshot.root)).pipe(Qd(),Cr(1))}),Gy(()=>this.afterPreactivation()),(0,G.U)(u=>{const h=function GE(n,t,e){const r=Fu(n,t._root,e?e._root:void 0);return new BE(r,t)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:h}}),(0,Tn.b)(u=>{e.currentUrlTree=u.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),e.routerState=u.targetRouterState,"deferred"===e.urlUpdateStrategy&&(u.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,u),e.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>(0,G.U)(r=>(new xy(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u)),Cr(1),(0,Tn.b)({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new lo(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),pa(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),xs(u=>{if(o=!0,wD(u)){ED(u)||(e.navigated=!0,e.restoreHistory(r,!0));const h=new sg(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),ED(u)){const p=e.urlHandlingStrategy.merge(u.url,e.rawUrlTree),y={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Eg(r.source)};e.scheduleNavigation(p,Ih,null,y,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const h=new PE(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(e.errorHandler(u))}catch(p){r.reject(p)}}return Ln.E}))}))}cancelNavigationTransition(e,r,i){const o=new sg(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Eg(n){return n!==Ih}let gw=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===en);return r}getResolvedTitleForRoute(e){return e.data[ul]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(eP)},providedIn:"root"}),n})(),eP=(()=>{class n extends gw{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Nu))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(YD)},providedIn:"root"}),n})();class nP{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let YD=(()=>{class n extends nP{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $y=new s.OlP("",{providedIn:"root",factory:()=>({})});let KD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Gu)},providedIn:"root"}),n})(),Gu=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _w(n){throw n}function wg(n,t,e){return t.parse("/")}const JD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let li=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)($y,{optional:!0})||{},this.errorHandler=this.options.errorHandler||_w,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wg,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(KD),this.routeReuseStrategy=(0,s.f3M)(tP),this.urlCreationStrategy=(0,s.f3M)(Jx),this.titleStrategy=(0,s.f3M)(gw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=yh((0,s.f3M)(Fh,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)(Uu),this.urlSerializer=(0,s.f3M)(ut),this.location=(0,s.f3M)(N),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new w,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=UE(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ih,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const o={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const p={...i};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(o.state=p)}const h=this.parseUrl(e);this.scheduleNavigation(h,r,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Ea),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:p}=r,y=p?this.currentUrlTree.fragment:u;let E=null;switch(h){case"merge":E={...this.currentUrlTree.queryParams,...o};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=o||null}return null!==E&&(E=this.removeEmptyProps(E)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,e,E,y??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=pc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ih,null,r)}navigate(e,r={skipLocationChange:!1}){return function QD(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...JD}:!1===r?{...yw}:r,pc(e))return Jp(this.currentUrlTree,e,i);const o=this.parseUrl(e);return Jp(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(e,r,i,o,u){if(this.disposed)return Promise.resolve(!1);let h,p,y,E;return u?(h=u.resolve,p=u.reject,y=u.promise):y=new Promise((I,O)=>{h=I,p=O}),E="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:E,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:h,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(I=>Promise.reject(I))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",u)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",o)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wa=(()=>{class n{constructor(e,r,i,o,u,h){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=u,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ce.x;const p=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=e.events.subscribe(y=>{y instanceof lo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(li),s.Y36(co),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Rn))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&s.NdJ("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class Hy{}let vw=(()=>{class n{constructor(e,r,i,o,u){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(le(e=>e instanceof lo),ha(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,h=o._loadedInjector??u;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(u,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,X.D)(i).pipe((0,Pe.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Y(null);const o=i.pipe((0,Le.z)(u=>null===u?Y(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,X.D)([o,u]).pipe((0,Pe.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(li),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(Hy),s.LFG(vg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lh=new s.OlP("");let nS=(()=>{class n{constructor(e,r,i,o,u={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Uo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof lo&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Cy&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Cy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var qi=(()=>((qi=qi||{})[qi.COMPLETE=0]="COMPLETE",qi[qi.FAILED=1]="FAILED",qi[qi.REDIRECTING=2]="REDIRECTING",qi))();const Vh=!1;function zy(n){return n.routerState.root}function yl(n,t){return{\u0275kind:n,\u0275providers:t}}const Cg=new s.OlP("",{providedIn:"root",factory:()=>!1});function Ec(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const r=n.get(li),i=n.get(Tg);1===n.get(wc)&&r.initialNavigation(),n.get(Dg,null,s.XFs.Optional)?.setUpPreloading(),n.get(Lh,null,s.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Tg=new s.OlP(Vh?"bootstrap done indicator":"",{factory:()=>new Ce.x}),wc=new s.OlP(Vh?"initial navigation":"",{providedIn:"root",factory:()=>1});function bw(){let n=[];return n=Vh?[{provide:s.Xts,multi:!0,useFactory:()=>{const t=(0,s.f3M)(li);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function FE(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],yl(1,n)}const Dg=new s.OlP(Vh?"router preloader":"");function Zy(n){return yl(0,[{provide:Dg,useExisting:vw},{provide:Hy,useExisting:n}])}const Bh=!1,Yy=new s.OlP(Bh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),oS=[N,{provide:ut,useClass:At},li,yc,{provide:co,useFactory:zy,deps:[li]},vg,Bh?{provide:Cg,useValue:!0}:[]];function Cw(){return new s.PXZ("Router",li)}let jo=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[oS,Bh&&r?.enableTracing?bw().\u0275providers:[],{provide:Fh,multi:!0,useValue:e},{provide:Yy,useFactory:cS,deps:[[li,new s.FiY,new s.tp0]]},{provide:$y,useValue:r||{}},r?.useHash?{provide:Rn,useClass:x}:{provide:Rn,useClass:z},{provide:Lh,useFactory:()=>{const n=(0,s.f3M)(Dp),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)($y),r=(0,s.f3M)(Uu),i=(0,s.f3M)(ut);return e.scrollOffset&&n.setOffset(e.scrollOffset),new nS(i,r,n,t,e)}},r?.preloadingStrategy?Zy(r.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:Cw},r?.initialNavigation?uS(r):[],[{provide:dS,useFactory:Ec},{provide:s.tb,multi:!0,useExisting:dS}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Fh,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yy,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Nh]}),n})();function cS(n){if(Bh&&n)throw new s.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function uS(n){return["disabled"===n.initialNavigation?yl(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(li);return()=>{t.setUpLocationChangeListener()}}},{provide:wc,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?yl(2,[{provide:wc,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(qt,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=t.get(li),o=t.get(Tg);(function rS(n,t){n.events.pipe(le(e=>e instanceof lo||e instanceof sg||e instanceof PE||e instanceof Ey),(0,G.U)(e=>e instanceof lo||e instanceof Ey?qi.COMPLETE:e instanceof sg&&(0===e.code||1===e.code)?qi.REDIRECTING:qi.FAILED),le(e=>e!==qi.REDIRECTING),Cr(1)).subscribe(()=>{t()})})(i,()=>{r(!0)}),t.get(Uu).afterPreactivation=()=>(r(!0),o.closed?Y(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const dS=new s.OlP(Bh?"Router Initializer":"");var Jy=L(3008),mr=L(5861),Zi=L(9681),Ca=L(4859),$=L(2090),vl=L(1877);const Uh=new Map,Tw={activated:!1,tokenObservers:[]},fS={initialized:!1,enabled:!1};function Pr(n){return Uh.get(n)||Object.assign({},Tw)}function Sg(){return fS}const Fs="https://content-firebaseappcheck.googleapis.com/v1",mS="exchangeDebugToken",Xy={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class yS{constructor(t,e,r,i,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,mr.Z)(function*(){e.stop();try{e.pending=new $.BH,yield function vS(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new $.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const yi=new $.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Iw(n,t){return $h.apply(this,arguments)}function $h(){return($h=(0,mr.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},i=e.getImmediate({optional:!0});if(i){const I=yield i.getHeartbeatsHeader();I&&(r["X-Firebase-Client"]=I)}const o={method:"POST",body:JSON.stringify(t),headers:r};let u,h;try{u=yield fetch(n,o)}catch(I){throw yi.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==u.status)throw yi.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(I){throw yi.create("fetch-parse-error",{originalErrorMessage:I?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw yi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(p[1]),E=Date.now();return{token:h.token,expireTimeMillis:E+y,issuedAtTimeMillis:E}})).apply(this,arguments)}const Aw="firebase-app-check-database",Nw=1,Tc="firebase-app-check-store";let Ic=null;function Mw(n,t){return tv.apply(this,arguments)}function tv(){return(tv=(0,mr.Z)(function*(n,t){const r=(yield function jh(){return Ic||(Ic=new Promise((n,t)=>{try{const e=indexedDB.open(Aw,Nw);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var i;t(yi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Tc,{keyPath:"compositeKey"})}}catch(e){t(yi.create("storage-open",{originalErrorMessage:e?.message}))}}),Ic)}()).transaction(Tc,"readwrite"),o=r.objectStore(Tc).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=p=>{u()},r.onerror=p=>{var y;h(yi.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const zh=new vl.Yd("@firebase/app-check");function iv(n,t){return(0,$.hl)()?function bS(n,t){return Mw(function ES(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{zh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function ov(){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,mr.Z)(function*(){const n=Sg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const av={error:"UNKNOWN_ERROR"};function IS(n){return $.US.encodeString(JSON.stringify(n),!1)}function Ng(n){return lv.apply(this,arguments)}function lv(){return(lv=(0,mr.Z)(function*(n,t=!1){const e=n.app;!function Gh(n){if(!Pr(n).activated)throw yi.create("use-before-activation",{appName:n.name})}(e);const r=Pr(e);let o,i=r.token;if(i&&!Dc(i)&&(r.token=void 0,i=void 0),!i){const p=yield r.cachedTokenPromise;p&&(Dc(p)?i=p:yield iv(e,void 0))}if(!t&&i&&Dc(i))return{token:i.token};let h,u=!1;if(function xw(){return Sg().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Iw(function Sw(n,t){const{projectId:e,appId:r,apiKey:i}=n.options;return{url:`${Fs}/projects/${e}/apps/${r}:${mS}?key=${i}`,body:{debug_token:t}}}(e,yield ov()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const p=yield r.exchangeTokenPromise;return yield iv(e,p),r.token=p,{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield Pr(e).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?zh.warn(p.message):zh.error(p),o=p}return i?o?h=Dc(i)?{token:i.token,internalError:o}:Fw(o):(h={token:i.token},r.token=i,yield iv(e,i)):h=Fw(o),u&&function dv(n,t){const e=Pr(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}(e,h),h})).apply(this,arguments)}function uv(n,t){const e=Pr(n),r=e.tokenObservers.filter(i=>i.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=r}function Pw(n){const{app:t}=n,e=Pr(t);let r=e.tokenRefresher;r||(r=function kw(n){const{app:t}=n;return new yS((0,mr.Z)(function*(){let r;if(r=Pr(t).token?yield Ng(n,!0):yield Ng(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const e=Pr(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Xy.RETRIAL_MIN_WAIT,Xy.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=r),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function Dc(n){return n.expireTimeMillis-Date.now()>0}function Fw(n){return{token:IS(av),error:n}}class aP{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Pr(this.app);for(const e of t)uv(this.app,e.next);return Promise.resolve()}}const pv="app-check-internal";!function Bw(){(0,Zi._registerComponent)(new Ca.wA("app-check",n=>function Lw(n,t){return new aP(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(pv).initialize()})),(0,Zi._registerComponent)(new Ca.wA(pv,n=>function lP(n){return{getToken:t=>Ng(n,t),addTokenListener:t=>function cv(n,t,e,r){const{app:i}=n,o=Pr(i);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:r,type:t}],o.token&&Dc(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),Pw(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Pw(n))}(n,"INTERNAL",t),removeTokenListener:t=>uv(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Zi.registerVersion)("@firebase/app-check","0.6.5")}();class Mc{constructor(){return(0,B.vb)("app-check")}}typeof window<"u"&&window;var wv=L(8277);function Cv(n){return new K.y(function(t){return{unsubscribe:(0,wv.x)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class Yh{constructor(t){return t}}class Tv{constructor(){return(0,B.vb)("auth")}}const kg=new s.OlP("angularfire2.auth-instances");function jw(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new Yh(r)}}const LS={provide:Tv,deps:[[new s.FiY,kg]]},Hw={provide:Yh,useFactory:function $w(n,t){const e=(0,B.JM)("auth",n,t);return e&&new Yh(e)},deps:[[new s.FiY,kg],Fe]};let zw=(()=>{class n{constructor(){(0,Ue.KN)("angularfire",B.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Hw,LS]}),n})();const Fg=(0,B.u3)(Cv,!0),WS=(0,B.u3)(wv.o,!0);class Da{constructor(t){return t}}const Qw="analytics",eC=B.nk.async,tC=(0,B.u3)(Jy.IH,!0),Lg=(0,B.u3)(Jy.Kz,!0),Sv=(0,B.u3)(Jy.Iv,!0);let Vg=(()=>{class n{constructor(e,r,i){let o;this.disposables=[],(0,Ue.KN)("angularfire",B.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(u=>{o=u})),eC().then(()=>{const u=i.get(Da);u?this.disposables=[Fg(e).subscribe(h=>{Sv(u,h?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yh),s.LFG(s.R0b),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Nv="firebase_screen_id",Ov="outlet",Jh="screen_class",cC="screen_name";let uA=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Rv={},dA=n=>{const t=[n[Jh],n[Ov]].join("#");if(Rv.hasOwnProperty(t))return Rv[t];{const e=uA++;return Rv[t]=e,e}},hA=(n,t,e)=>n.events.pipe(le(i=>i instanceof ku)).pipe(H(i=>{var o;const h=(null===(o=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,P=>P.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===o?void 0:o.toString())||"",p=n.routerState.root.children.map(P=>P).find(P=>P.outlet===i.snapshot.outlet);if(!p)return Y(null);let y=p;for(;y.firstChild;)y=y.firstChild;const E=y.pathFromRoot.map(P=>{var W;return null===(W=P.routeConfig)||void 0===W?void 0:W.path}).filter(P=>P).join("/")||"/",I={[cC]:E,page_path:`/${h}`,firebase_event_origin:"auto",firebase_screen:E,[Ov]:i.snapshot.outlet};t&&(I.page_title=t.getTitle());let O=p.component;if(O){if(O===Nh){let P=i.snapshot;for(;P.firstChild;)P=P.firstChild;O=P.component}}else O=i.snapshot.component;if("string"==typeof O)return Y(Object.assign(Object.assign({},I),{[Jh]:O}));if(O){const P=e.resolveComponentFactory(O);return Y(Object.assign(Object.assign({},I),{[Jh]:P.selector}))}return Y(null)}),le(i=>!!i),(0,G.U)(i=>Object.assign({firebase_screen_class:i[Jh],[Nv]:dA(i)},i)),function Ie(n,t,e,r){return(0,ce.e)((i,o)=>{let u;t&&"function"!=typeof t?({duration:e,element:u,connector:r}=t):u=t;const h=new Map,p=W=>{h.forEach(W),W(o)},y=W=>p(te=>te.error(W));let E=0,I=!1;const O=new ue.Q(o,W=>{try{const te=n(W);let de=h.get(te);if(!de){h.set(te,de=r?r():new Ce.x);const Qe=function P(W,te){const de=new K.y(Qe=>{E++;const tt=te.subscribe(Qe);return()=>{tt.unsubscribe(),0==--E&&I&&O.unsubscribe()}});return de.key=W,de}(te,de);if(o.next(Qe),e){const tt=(0,ue.x)(de,()=>{de.complete(),tt?.unsubscribe()},void 0,void 0,()=>h.delete(te));O.add((0,me.Xf)(e(Qe)).subscribe(tt))}}de.next(u?u(W):W)}catch(te){y(te)}},()=>p(W=>W.complete()),y,()=>h.clear(),()=>(I=!0,0===E));i.subscribe(O)})}(i=>i[Ov]),(0,Le.z)(i=>i.pipe(ye((o,u)=>JSON.stringify(o)===JSON.stringify(u)),we(void 0),function ke(){return(0,ce.e)((n,t)=>{let e,r=!1;n.subscribe((0,ue.x)(t,i=>{const o=e;e=i,r&&t.next([o,i]),r=!0}))})}(),(0,G.U)(([o,u])=>o?Object.assign({firebase_previous_class:o[Jh],firebase_previous_screen:o[cC],firebase_previous_id:o[Nv]},u):u))));let fA=(()=>{class n{constructor(e,r,i,o,u,h){(0,Ue.KN)("angularfire",B.q4.full,"screen-tracking"),eC().then(()=>{const p=h.get(Da);!e||!p||o.runOutsideAngular(()=>{this.disposable=hA(e,r,i).pipe(H(y=>(0,Qt.mG)(this,void 0,void 0,function*(){return u&&(yield u.initialized),Lg(p,"screen_view",y)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(li,8),s.LFG(Nu,8),s.LFG(s._Vd),s.LFG(s.R0b),s.LFG(Vg,8),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Mv=new s.OlP("angularfire2.analytics-instances");function gA(n){return(t,e)=>{if(!B.nk.sync())return null;const r=t.runOutsideAngular(()=>n(e));return new Da(r)}}const mA={provide:class Xw{constructor(){return(0,B.vb)(Qw)}},deps:[[new s.FiY,Mv]]},_A={provide:Da,useFactory:function pA(n,t){if(!B.nk.sync())return null;const e=(0,B.JM)(Qw,n,t);return e&&new Da(e)},deps:[[new s.FiY,Mv],Fe]};let uC=(()=>{class n{constructor(e,r){(0,Ue.KN)("angularfire",B.q4.full,"analytics")}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fA,8),s.LFG(Vg,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_A,mA,{provide:s.ip1,useValue:B.nk.async,multi:!0}]}),n})();var Vs=L(2011);const xv="@firebase/database";let Bg="";function kv(n){Bg=n}class hC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,$.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,$.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class fC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,$.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Ug=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new hC(t)}}catch{}return new fC},wl=Ug("localStorage"),Sa=Ug("sessionStorage"),Yu=new vl.Yd("@firebase/database"),pC=function(){let n=1;return function(){return n++}}(),Pc=function(n){const t=(0,$.dS)(n),e=new $.gQ;e.update(t);const r=e.digest();return $.US.encodeByteArray(r)},Gg=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Gg.apply(null,r):t+="object"==typeof r?(0,$.Wl)(r):r,t+=" "}return t};let Aa=null,yA=!0;const Fv=function(n,t){(0,$.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Yu.logLevel=vl.in.VERBOSE,Aa=Yu.log.bind(Yu),t&&Sa.set("logging_enabled",!0)):"function"==typeof n?Aa=n:(Aa=null,Sa.remove("logging_enabled"))},Jr=function(...n){if(!0===yA&&(yA=!1,null===Aa&&!0===Sa.get("logging_enabled")&&Fv(!0)),Aa){const t=Gg.apply(null,n);Aa(t)}},$g=function(n){return function(...t){Jr(n,...t)}},Bt=function(...n){const t="FIREBASE INTERNAL ERROR: "+Gg(...n);Yu.error(t)},Zo=function(...n){const t=`FIREBASE FATAL ERROR: ${Gg(...n)}`;throw Yu.error(t),new Error(t)},Pi=function(...n){const t="FIREBASE WARNING: "+Gg(...n);Yu.warn(t)},Na=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},fo="[MIN_NAME]",Bs="[MAX_NAME]",nr=function(n,t){if(n===t)return 0;if(n===fo||t===Bs)return-1;if(t===fo||n===Bs)return 1;{const e=yC(n),r=yC(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},OP=function(n,t){return n===t?0:n<t?-1:1},Ku=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,$.Wl)(t))},jg=function(n){if("object"!=typeof n||null===n)return(0,$.Wl)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,$.Wl)(t[r]),e+=":",e+=jg(n[t[r]]);return e+="}",e},gC=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let i=0;i<e;i+=t)r.push(n.substring(i,i+t>e?e:i+t));return r};function Qr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Lv=function(n){(0,$.hu)(!Na(n),"Invalid JSON number");const r=1023;let i,o,u,h,p;0===n?(o=0,u=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=h+r,u=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(o=0,u=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(u%2?1:0),u=Math.floor(u/2);for(p=11;p;p-=1)y.push(o%2?1:0),o=Math.floor(o/2);y.push(i?1:0),y.reverse();const E=y.join("");let I="";for(p=0;p<64;p+=8){let O=parseInt(E.substr(p,8),2).toString(16);1===O.length&&(O="0"+O),I+=O}return I.toLowerCase()},wA=new RegExp("^-?(0*)\\d{1,10}$"),yC=function(n){if(wA.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Ju=function(n){try{n()}catch(t){setTimeout(()=>{throw Pi("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},TA=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cl=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class vC{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Pi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class bC{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Jr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pi(t)}}let Qu=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const CC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,TC="websocket",Uv="long_polling";class Gv{constructor(t,e,r,i,o=!1,u="",h=!1,p=!1){this.secure=e,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&wl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function DA(n,t,e){let r;if((0,$.hu)("string"==typeof t,"typeof type must == string"),(0,$.hu)("object"==typeof e,"typeof params must == object"),t===TC)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Uv)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function IA(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const i=[];return Qr(e,(o,u)=>{i.push(o+"="+u)}),r+i.join("&")}class RP{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,$.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,$.p$)(this.counters_)}}const IC={},DC={};function Wg(n){const t=n.toString();return IC[t]||(IC[t]=new RP),IC[t]}class SA{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ju(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Tl{constructor(t,e,r,i,o,u,h){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$g(t),this.stats_=Wg(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),DA(e,Uv,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new SA(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,$.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zg((...o)=>{const[u,h,p,y,E]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=h,this.password=p;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[u,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&CC.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tl.forceAllow_=!0}static forceDisallow(){Tl.forceDisallow_=!0}static isAvailable(){return!((0,$.Yr)()||!Tl.forceAllow_&&(Tl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,$.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,$.h$)(e),i=gC(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,$.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,$.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Zg{constructor(t,e,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,$.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=pC(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Zg.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Jr("frame writing exception"),h.stack&&Jr(h.stack),Jr(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Jr("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const u=this.pendingSegs.shift();r=r+"&seg"+i+"="+u.seg+"&ts"+i+"="+u.ts+"&d"+i+"="+u.d,i++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,e){(0,$.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Jr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Yg=null;typeof MozWebSocket<"u"?Yg=MozWebSocket:typeof WebSocket<"u"&&(Yg=WebSocket);let kc=(()=>{class n{constructor(e,r,i,o,u,h,p){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$g(this.connId),this.stats_=Wg(r),this.connURL=n.connectionURL_(r,h,p,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,i,o,u){const h={v:"5"};return!(0,$.Yr)()&&typeof location<"u"&&location.hostname&&CC.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),o&&(h.ac=o),u&&(h.p=u),DA(e,TC,h)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wl.set("previous_websocket_failure",!0);try{let i;if((0,$.Yr)()){i={headers:{"User-Agent":`Firebase/5/${Bg}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,h=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;h&&(i.proxy={origin:h})}this.mySock=new Yg(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&null!==Yg&&!n.forceDisallow_}static previouslyFailed(){return wl.isInMemoryStorage||!0===wl.get("previous_websocket_failure")}markConnectionHealthy(){wl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,$.cI)(r);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,$.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const r=(0,$.Wl)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=gC(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),jv=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Tl,kc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=kc&&kc.isAvailable();let i=r&&!kc.previouslyFailed();if(e.webSocketOnly&&(r||Pi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[kc];else{const o=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class qv{constructor(t,e,r,i,o,u,h,p,y,E){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$g("c:"+this.id+":"),this.transportManager_=new jv(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Cl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Ku("t",t),r=Ku("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Ku("t",t),r=Ku("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Ku("t",t);if("d"in t){const r=t.d;if("h"===e){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?Bt("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bt("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&Pi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Cl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Zv{put(t,e,r,i){}merge(t,e,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class Yv{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,$.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const i=this.getInitialEvent(t);i&&e.apply(r,i)}off(t,e,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===e&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){(0,$.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Kg extends Yv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,$.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Kg}getInitialEvent(t){return(0,$.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const Jg=32,Kv=768;class qn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Un(){return new qn("")}function yn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Yo(n){return n.pieces_.length-n.pieceNum_}function rr(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new qn(n.pieces_,t)}function ef(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function tf(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Qg(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new qn(t,0)}function vr(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof qn)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&e.push(r[i])}return new qn(e,0)}function bn(n){return n.pieceNum_>=n.pieces_.length}function Gr(n,t){const e=yn(n),r=yn(t);if(null===e)return t;if(e===r)return Gr(rr(n),rr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function GC(n,t){const e=tf(n,0),r=tf(t,0);for(let i=0;i<e.length&&i<r.length;i++){const o=nr(e[i],r[i]);if(0!==o)return o}return e.length===r.length?0:e.length<r.length?-1:1}function Jv(n,t){if(Yo(n)!==Yo(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function po(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Yo(n)>Yo(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class $C{constructor(t,e){this.errorPrefix_=e,this.parts_=tf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,$.ug)(this.parts_[r]);Xg(this)}}function Xg(n){if(n.byteLength_>Kv)throw new Error(n.errorPrefix_+"has a key path longer than "+Kv+" bytes ("+n.byteLength_+").");if(n.parts_.length>Jg)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Jg+") or object contains a cycle "+Fc(n))}function Fc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class em extends Yv{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new em}getInitialEvent(t){return(0,$.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Lc=1e3;let e0,Vc=(()=>{class n extends Zv{constructor(e,r,i,o,u,h,p,y){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=$g("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Lc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,$.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");em.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Kg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,i){const o=++this.requestNumber_,u={r:o,a:e,b:r};this.log_((0,$.Wl)(u)),(0,$.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const r=new $.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const p=h.d;"ok"===h.s?r.resolve(p):r.reject(p)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,i,o){this.initConnection_();const u=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),(0,$.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,$.hu)(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:r,query:e,tag:i};this.listens.get(h).set(u,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(e){const r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const u={p:i};e.tag&&(u.q=r._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest("q",u,p=>{const y=p.d,E=p.s;n.warnOnListenWarnings_(y,r),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",p),"ok"!==E&&this.removeListen_(i,o),e.onComplete&&e.onComplete(E,y))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,$.r3)(e,"w")){const i=(0,$.DV)(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();Pi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,$.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,$.w9)(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const u=o.s,h=o.d||"error";this.authToken_===e&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,i=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(e,r){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,$.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,r)}sendUnlisten_(e,r,i,o){this.log_("Unlisten on "+e+" for "+r);const u={p:e};o&&(u.q=i,u.t=o),this.sendRequest("n",u)}onDisconnectPut(e,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:i})}onDisconnectMerge(e,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:i})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,i,o){const u={p:r,d:i};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,r,i,o){this.putInternal("p",e,r,i,o)}merge(e,r,i,o){this.putInternal("m",e,r,i,o)}putInternal(e,r,i,o,u){this.initConnection_();const h={p:r,d:i};void 0!==u&&(h.h=u),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,i,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,$.Wl)(e));const r=e.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):Bt("Unrecognized action received from server: "+(0,$.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,$.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Lc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Lc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,mr.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),i=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),u=e.id+":"+n.nextConnectionId_++,h=e.lastSessionId;let p=!1,y=null;const E=function(){y?y.close():(p=!0,o())};e.realtime_={close:E,sendRequest:function(P){(0,$.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(P)}};const O=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[P,W]=yield Promise.all([e.authTokenProvider_.getToken(O),e.appCheckTokenProvider_.getToken(O)]);p?Jr("getToken() completed but was canceled"):(Jr("getToken() completed. Creating connection."),e.authToken_=P&&P.accessToken,e.appCheckToken_=W&&W.token,y=new qv(u,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,i,o,te=>{Pi(te+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(P){e.log_("Failed to get token: "+P),p||(e.repoInfo_.nodeAdmin&&Pi(P),E())}}})()}interrupt(e){Jr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Jr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,$.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Lc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let i;i=r?r.map(u=>jg(u)).join("$"):"default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,r){const i=new qn(e).toString();let o;if(this.listens.has(i)){const u=this.listens.get(i);o=u.get(r),u.delete(r),0===u.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,r){Jr("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Jr("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,$.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+Bg.replace(/\./g,"-")]=1,(0,$.uI)()?e["framework.cordova"]=1:(0,$.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Kg.getInstance().currentlyOnline();return(0,$.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class In{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new In(t,e)}}class nf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new In(fo,t),i=new In(fo,e);return 0!==this.compare(r,i)}minPost(){return In.MIN}}class t0 extends nf{static get __EMPTY_NODE(){return e0}static set __EMPTY_NODE(t){e0=t}compare(t,e){return nr(t.name,e.name)}isDefinedOn(t){throw(0,$.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return In.MIN}maxPost(){return new In(Bs,e0)}makePost(t,e){return(0,$.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new In(t,e0)}toString(){return".key"}}const Ko=new t0;class tm{constructor(t,e,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,i&&(u*=-1),u<0)t=this.isReverse_?t.left:t.right;else{if(0===u){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let rm,Jo=(()=>{class n{constructor(e,r,i,o,u){this.key=e,this.value=r,this.color=i??n.RED,this.left=o??ds.EMPTY_NODE,this.right=u??ds.EMPTY_NODE}copy(e,r,i,o,u){return new n(e??this.key,r??this.value,i??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,i),null):0===u?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ds.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let i,o;if(i=this,r(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(e,i.key)){if(i.right.isEmpty())return ds.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ds{constructor(t,e=ds.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ds(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Jo.BLACK,null,null))}remove(t){return new ds(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jo.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,i=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new tm(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new tm(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new tm(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new tm(this.root_,null,this.comparator_,!0,t)}}function qC(n,t){return nr(n.name,t.name)}function nm(n,t){return nr(n,t)}ds.EMPTY_NODE=new class jA{copy(t,e,r,i,o){return this}insert(t,e,r){return new Jo(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const YC=function(n){return"number"==typeof n?"number:"+Lv(n):"string:"+n},KC=function(n){if(n.isLeafNode()){const t=n.val();(0,$.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,$.r3)(t,".sv"),"Priority must be a string or number.")}else(0,$.hu)(n===rm||n.isEmpty(),"priority of unexpected type.");(0,$.hu)(n===rm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let JC,QC,XC,nd=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,$.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),KC(this.priorityNode_)}static set __childrenNodeConstructor(e){JC=e}static get __childrenNodeConstructor(){return JC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return bn(e)?this:".priority"===yn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const i=yn(e);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,$.hu)(".priority"!==i||1===Yo(e),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(rr(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+YC(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?Lv(this.value_):this.value_,this.lazyHash_=Pc(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,$.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,i=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(r),u=n.VALUE_TYPE_ORDER.indexOf(i);return(0,$.hu)(o>=0,"Unknown leaf type: "+r),(0,$.hu)(u>=0,"Unknown leaf type: "+i),o===u?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ir=new class tT extends nf{compare(t,e){const r=t.node.getPriority(),i=e.node.getPriority(),o=r.compareTo(i);return 0===o?nr(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return In.MIN}maxPost(){return new In(Bs,new nd("[PRIORITY-POST]",XC))}makePost(t,e){const r=QC(t);return new In(e,new nd("[PRIORITY-POST]",r))}toString(){return".priority"}},nT=Math.log(2);class rT{constructor(t){this.count=parseInt(Math.log(t+1)/nT,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const sf=function(n,t,e,r){n.sort(t);const i=function(p,y){const E=y-p;let I,O;if(0===E)return null;if(1===E)return I=n[p],O=e?e(I):I,new Jo(O,I.node,Jo.BLACK,null,null);{const P=parseInt(E/2,10)+p,W=i(p,P),te=i(P+1,y);return I=n[P],O=e?e(I):I,new Jo(O,I.node,Jo.BLACK,W,te)}},h=function(p){let y=null,E=null,I=n.length;const O=function(W,te){const de=I-W,Qe=I;I-=W;const tt=i(de+1,Qe),yt=n[de],wt=e?e(yt):yt;P(new Jo(wt,yt.node,te,null,tt))},P=function(W){y?(y.left=W,y=W):(E=W,y=W)};for(let W=0;W<p.count;++W){const te=p.nextBitIsOne(),de=Math.pow(2,p.count-(W+1));te?O(de,Jo.BLACK):(O(de,Jo.BLACK),O(de,Jo.RED))}return E}(new rT(n.length));return new ds(r||t,h)};let n0;const af={};class Qo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,$.hu)(af&&ir,"ChildrenNode.ts has not been loaded"),n0=n0||new Qo({".priority":af},{".priority":ir}),n0}get(t){const e=(0,$.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ds?e:null}hasIndex(t){return(0,$.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,$.hu)(t!==Ko,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=e.getIterator(In.Wrap);let h,u=o.getNext();for(;u;)i=i||t.isDefinedOn(u.node),r.push(u),u=o.getNext();h=i?sf(r,t.getCompare()):af;const p=t.toString(),y=Object.assign({},this.indexSet_);y[p]=t;const E=Object.assign({},this.indexes_);return E[p]=h,new Qo(E,y)}addToIndexes(t,e){const r=(0,$.UI)(this.indexes_,(i,o)=>{const u=(0,$.DV)(this.indexSet_,o);if((0,$.hu)(u,"Missing index implementation for "+o),i===af){if(u.isDefinedOn(t.node)){const h=[],p=e.getIterator(In.Wrap);let y=p.getNext();for(;y;)y.name!==t.name&&h.push(y),y=p.getNext();return h.push(t),sf(h,u.getCompare())}return af}{const h=e.get(t.name);let p=i;return h&&(p=p.remove(new In(t.name,h))),p.insert(t,t.node)}});return new Qo(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,$.UI)(this.indexes_,i=>{if(i===af)return i;{const o=e.get(t.name);return o?i.remove(new In(t.name,o)):i}});return new Qo(r,this.indexSet_)}}let lf,dn=(()=>{class n{constructor(e,r,i){this.children_=e,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&KC(this.priorityNode_),this.children_.isEmpty()&&(0,$.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return lf||(lf=new n(new ds(nm),null,Qo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||lf}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?lf:r}}getChild(e){const r=yn(e);return null===r?this:this.getImmediateChild(r).getChild(rr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,$.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const i=new In(e,r);let o,u;r.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,r),u=this.indexMap_.addToIndexes(i,this.children_));const h=o.isEmpty()?lf:this.priorityNode_;return new n(o,h,u)}}updateChild(e,r){const i=yn(e);if(null===i)return r;{(0,$.hu)(".priority"!==yn(e)||1===Yo(e),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(rr(e),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let i=0,o=0,u=!0;if(this.forEachChild(ir,(h,p)=>{r[h]=p.val(e),i++,u&&n.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!e&&u&&o<2*i){const h=[];for(const p in r)h[p]=r[p];return h}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+YC(this.getPriority().val())+":"),this.forEachChild(ir,(r,i)=>{const o=i.hash();""!==o&&(e+=":"+r+":"+o)}),this.lazyHash_=""===e?"":Pc(e)}return this.lazyHash_}getPredecessorChildName(e,r,i){const o=this.resolveIndex_(i);if(o){const u=o.getPredecessorKey(new In(e,r));return u?u.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new In(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new In(r,this.children_.get(r)):null}forEachChild(e,r){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,In.Wrap);let u=o.peek();for(;null!=u&&r.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,In.Wrap);let u=o.peek();for(;null!=u&&r.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===cf?-1:0}withIndex(e){if(e===Ko||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Ko||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ir),o=r.getIterator(ir);let u=i.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=i.getNext(),h=o.getNext()}return null===u&&null===h}return!1}return!1}}resolveIndex_(e){return e===Ko?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const cf=new class HA extends dn{constructor(){super(new ds(nm),dn.EMPTY_NODE,Qo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return dn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(In,{MIN:{value:new In(fo,dn.EMPTY_NODE)},MAX:{value:new In(Bs,cf)}}),t0.__EMPTY_NODE=dn.EMPTY_NODE,nd.__childrenNodeConstructor=dn,function ZC(n){rm=n}(cf),function eT(n){XC=n}(cf);const uf=!0;function Tr(n,t=null){if(null===n)return dn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,$.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new nd(n,Tr(t));if(n instanceof Array||!uf){let e=dn.EMPTY_NODE;return Qr(n,(r,i)=>{if((0,$.r3)(n,r)&&"."!==r.substring(0,1)){const o=Tr(i);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(r,o))}}),e.updatePriority(Tr(t))}{const e=[];let r=!1;if(Qr(n,(u,h)=>{if("."!==u.substring(0,1)){const p=Tr(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),e.push(new In(u,p)))}}),0===e.length)return dn.EMPTY_NODE;const o=sf(e,qC,u=>u.name,nm);if(r){const u=sf(e,ir.getCompare());return new dn(o,Tr(t),new Qo({".priority":u},{".priority":ir}))}return new dn(o,Tr(t),Qo.Default)}}!function rf(n){QC=n}(Tr);class df extends nf{constructor(t){super(),this.indexPath_=t,(0,$.hu)(!bn(t)&&".priority"!==yn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),i=this.extractChild(e.node),o=r.compareTo(i);return 0===o?nr(t.name,e.name):o}makePost(t,e){const r=Tr(t),i=dn.EMPTY_NODE.updateChild(this.indexPath_,r);return new In(e,i)}maxPost(){const t=dn.EMPTY_NODE.updateChild(this.indexPath_,cf);return new In(Bs,t)}toString(){return tf(this.indexPath_,0).join("/")}}const r0=new class Xo extends nf{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?nr(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return In.MIN}maxPost(){return In.MAX}makePost(t,e){const r=Tr(t);return new In(e,r)}toString(){return".value"}};function im(n){return{type:"value",snapshotNode:n}}function ea(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function hf(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function ff(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class rd{constructor(t){this.index_=t}updateChild(t,e,r,i,o,u){(0,$.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(i).equals(r.getChild(i))&&h.isEmpty()===r.isEmpty()||(null!=u&&(r.isEmpty()?t.hasChild(e)?u.trackChildChange(hf(e,h)):(0,$.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(ea(e,r)):u.trackChildChange(ff(e,r,h))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(ir,(i,o)=>{e.hasChild(i)||r.trackChildChange(hf(i,o))}),e.isLeafNode()||e.forEachChild(ir,(i,o)=>{if(t.hasChild(i)){const u=t.getImmediateChild(i);u.equals(o)||r.trackChildChange(ff(i,o,u))}else r.trackChildChange(ea(i,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?dn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Il{constructor(t){this.indexedFilter_=new rd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Il.getStartPost_(t),this.endPost_=Il.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&r}updateChild(t,e,r,i,o,u){return this.matches(new In(e,r))||(r=dn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,i,o,u)}updateFullNode(t,e,r){e.isLeafNode()&&(e=dn.EMPTY_NODE);let i=e.withIndex(this.index_);i=i.updatePriority(dn.EMPTY_NODE);const o=this;return e.forEachChild(ir,(u,h)=>{o.matches(new In(u,h))||(i=i.updateImmediateChild(u,dn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class WA{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=e=>{const r=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Il(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,r,i,o,u){return this.rangedFilter_.matches(new In(e,r))||(r=dn.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,i,o,u):this.fullLimitUpdateChild_(t,e,r,o,u)}updateFullNode(t,e,r){let i;if(e.isLeafNode()||e.isEmpty())i=dn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;i=dn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;o.hasNext()&&u<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;i=i.updateImmediateChild(h.name,h.node),u++}}}else{let o;i=e.withIndex(this.index_),i=i.updatePriority(dn.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let u=0;for(;o.hasNext();){const h=o.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:i=i.updateImmediateChild(h.name,dn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,i,o){let u;if(this.reverse_){const I=this.index_.getCompare();u=(O,P)=>I(P,O)}else u=this.index_.getCompare();const h=t;(0,$.hu)(h.numChildren()===this.limit_,"");const p=new In(e,r),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(h.hasChild(e)){const I=h.getImmediateChild(e);let O=i.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=O&&(O.name===e||h.hasChild(O.name));)O=i.getChildAfterChild(this.index_,O,this.reverse_);const P=null==O?1:u(O,p);if(E&&!r.isEmpty()&&P>=0)return o?.trackChildChange(ff(e,r,I)),h.updateImmediateChild(e,r);{o?.trackChildChange(hf(e,I));const te=h.updateImmediateChild(e,dn.EMPTY_NODE);return null!=O&&this.rangedFilter_.matches(O)?(o?.trackChildChange(ea(O.name,O.node)),te.updateImmediateChild(O.name,O.node)):te}}return r.isEmpty()?t:E&&u(y,p)>=0?(null!=o&&(o.trackChildChange(hf(y.name,y.node)),o.trackChildChange(ea(e,r))),h.updateImmediateChild(e,r).updateImmediateChild(y.name,dn.EMPTY_NODE)):t}}class sm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ir}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,$.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,$.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,$.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,$.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,$.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ir}copy(){const t=new sm;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function om(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function pf(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function id(n,t){const e=n.copy();return e.index_=t,e}function am(n){const t={};if(n.isDefault())return t;let e;if(n.index_===ir?e="$priority":n.index_===r0?e="$value":n.index_===Ko?e="$key":((0,$.hu)(n.index_ instanceof df,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,$.Wl)(e),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";t[r]=(0,$.Wl)(n.indexStartValue_),n.startNameSet_&&(t[r]+=","+(0,$.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";t[r]=(0,$.Wl)(n.indexEndValue_),n.endNameSet_&&(t[r]+=","+(0,$.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function aT(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ir&&(t.i=n.index_.toString()),t}class lm extends Zv{constructor(t,e,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=$g("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,$.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const u=lm.getListenId_(t,r),h={};this.listens_[u]=h;const p=am(t._queryParams);this.restRequest_(o+".json",p,(y,E)=>{let I=E;if(404===y&&(I=null,y=null),null===y&&this.onDataUpdate_(o,I,!1,r),(0,$.DV)(this.listens_,u)===h){let O;O=y?401===y?"permission_denied":"rest_error:"+y:"ok",i(O,null)}})}unlisten(t,e){const r=lm.getListenId_(t,e);delete this.listens_[r]}get(t){const e=am(t._queryParams),r=t._path.toString(),i=new $.BH;return this.restRequest_(r+".json",e,(o,u)=>{let h=u;404===o&&(h=null,o=null),null===o?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(e.auth=i.accessToken),o&&o.token&&(e.ac=o.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,$.xO)(e);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,$.cI)(h.responseText)}catch{Pi("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,p)}else 401!==h.status&&404!==h.status&&Pi("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}class qA{constructor(){this.rootNode_=dn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function cm(){return{value:null,children:new Map}}function Bc(n,t,e){if(bn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=yn(t);n.children.has(r)||n.children.set(r,cm()),Bc(n.children.get(r),t=rr(t),e)}}function gf(n,t){if(bn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ir,(r,i)=>{Bc(n,new qn(r),i)}),gf(n,t)}}if(n.children.size>0){const e=yn(t);return t=rr(t),n.children.has(e)&&gf(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function um(n,t,e){null!==n.value?e(t,n.value):function lT(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,i)=>{um(i,new qn(t.toString()+"/"+r),e)})}class cT{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Qr(this.last_,(r,i)=>{e[r]=e[r]-i}),this.last_=t,e}}class dT{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new cT(t);const r=1e4+2e4*Math.random();Cl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;Qr(t,(i,o)=>{o>0&&(0,$.r3)(this.statsToReport_,i)&&(e[i]=o,r=!0)}),r&&this.server_.reportStats(e),Cl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Us=(()=>{return(n=Us||(Us={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Us;var n})();function bi(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Oa{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Us.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(bn(this.path)){if(null!=this.affectedTree.value)return(0,$.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new qn(t));return new Oa(Un(),e,this.revert)}}return(0,$.hu)(yn(this.path)===t,"operationForChild called for unrelated child."),new Oa(rr(this.path),this.affectedTree,this.revert)}}class mf{constructor(t,e){this.source=t,this.path=e,this.type=Us.LISTEN_COMPLETE}operationForChild(t){return bn(this.path)?new mf(this.source,Un()):new mf(this.source,rr(this.path))}}class Uc{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Us.OVERWRITE}operationForChild(t){return bn(this.path)?new Uc(this.source,Un(),this.snap.getImmediateChild(t)):new Uc(this.source,rr(this.path),this.snap)}}class _f{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Us.MERGE}operationForChild(t){if(bn(this.path)){const e=this.children.subtree(new qn(t));return e.isEmpty()?null:e.value?new Uc(this.source,Un(),e.value):new _f(this.source,Un(),e)}return(0,$.hu)(yn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new _f(this.source,rr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Gc{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(bn(t))return this.isFullyInitialized()&&!this.filtered_;const e=yn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class hT{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Ra(n,t,e,r,i,o){const u=r.filter(h=>h.type===e);u.sort((h,p)=>function c0(n,t,e){if(null==t.childName||null==e.childName)throw(0,$.g5)("Should only compare child_ events.");const r=new In(t.childName,t.snapshotNode),i=new In(e.childName,e.snapshotNode);return n.index_.compare(r,i)}(n,h,p)),u.forEach(h=>{const p=function YA(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,h,o);i.forEach(y=>{y.respondsTo(h.type)&&t.push(y.createEvent(p,n.query_))})})}function fm(n,t){return{eventCache:n,serverCache:t}}function sd(n,t,e,r){return fm(new Gc(t,e,r),n.serverCache)}function fT(n,t,e,r){return fm(n.eventCache,new Gc(t,e,r))}function pm(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function $c(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let yf;class sr{constructor(t,e=(()=>(yf||(yf=new ds(OP)),yf))()){this.value=t,this.children=e}static fromObject(t){let e=new sr(null);return Qr(t,(r,i)=>{e=e.set(new qn(r),i)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Un(),value:this.value};if(bn(t))return null;{const r=yn(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(rr(t),e);return null!=o?{path:vr(new qn(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(bn(t))return this;{const e=yn(t),r=this.children.get(e);return null!==r?r.subtree(rr(t)):new sr(null)}}set(t,e){if(bn(t))return new sr(e,this.children);{const r=yn(t),o=(this.children.get(r)||new sr(null)).set(rr(t),e),u=this.children.insert(r,o);return new sr(this.value,u)}}remove(t){if(bn(t))return this.children.isEmpty()?new sr(null):new sr(null,this.children);{const e=yn(t),r=this.children.get(e);if(r){const i=r.remove(rr(t));let o;return o=i.isEmpty()?this.children.remove(e):this.children.insert(e,i),null===this.value&&o.isEmpty()?new sr(null):new sr(this.value,o)}return this}}get(t){if(bn(t))return this.value;{const e=yn(t),r=this.children.get(e);return r?r.get(rr(t)):null}}setTree(t,e){if(bn(t))return e;{const r=yn(t),o=(this.children.get(r)||new sr(null)).setTree(rr(t),e);let u;return u=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new sr(this.value,u)}}fold(t){return this.fold_(Un(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(vr(t,i),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Un(),e)}findOnPath_(t,e,r){const i=!!this.value&&r(e,this.value);if(i)return i;if(bn(t))return null;{const o=yn(t),u=this.children.get(o);return u?u.findOnPath_(rr(t),vr(e,o),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Un(),e)}foreachOnPath_(t,e,r){if(bn(t))return this;{this.value&&r(e,this.value);const i=yn(t),o=this.children.get(i);return o?o.foreachOnPath_(rr(t),vr(e,i),r):new sr(null)}}foreach(t){this.foreach_(Un(),t)}foreach_(t,e){this.children.inorderTraversal((r,i)=>{i.foreach_(vr(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class hs{constructor(t){this.writeTree_=t}static empty(){return new hs(new sr(null))}}function jc(n,t,e){if(bn(t))return new hs(new sr(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const u=Gr(i,t);return o=o.updateChild(u,e),new hs(n.writeTree_.set(i,o))}{const i=new sr(e),o=n.writeTree_.setTree(t,i);return new hs(o)}}}function gT(n,t,e){let r=n;return Qr(e,(i,o)=>{r=jc(r,vr(t,i),o)}),r}function u0(n,t){if(bn(t))return hs.empty();{const e=n.writeTree_.setTree(t,new sr(null));return new hs(e)}}function d0(n,t){return null!=Dl(n,t)}function Dl(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Gr(e.path,t)):null}function Hc(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ir,(r,i)=>{t.push(new In(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new In(r,i.value))}),t}function Sl(n,t){if(bn(t))return n;{const e=Dl(n,t);return new hs(null!=e?new sr(e):n.writeTree_.subtree(t))}}function gm(n){return n.writeTree_.isEmpty()}function Al(n,t){return KA(Un(),n.writeTree_,t)}function KA(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?((0,$.hu)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):e=KA(vr(n,i),o,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(vr(n,".priority"),r)),e}}function mm(n,t){return sN(t,n)}function mT(n,t){if(n.snap)return po(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&po(vr(n.path,e),t))return!0;return!1}function eN(n){return n.visible}function h0(n,t,e){let r=hs.empty();for(let i=0;i<n.length;++i){const o=n[i];if(t(o)){const u=o.path;let h;if(o.snap)po(e,u)?(h=Gr(e,u),r=jc(r,h,o.snap)):po(u,e)&&(h=Gr(u,e),r=jc(r,Un(),o.snap.getChild(h)));else{if(!o.children)throw(0,$.g5)("WriteRecord should have .snap or .children");if(po(e,u))h=Gr(e,u),r=gT(r,h,o.children);else if(po(u,e))if(h=Gr(u,e),bn(h))r=gT(r,Un(),o.children);else{const p=(0,$.DV)(o.children,yn(h));if(p){const y=p.getChild(rr(h));r=jc(r,Un(),y)}}}}}return r}function f0(n,t,e,r,i){if(r||i){const o=Sl(n.visibleWrites,t);return!i&&gm(o)?e:i||null!=e||d0(o,Un())?Al(h0(n.allWrites,function(y){return(y.visible||i)&&(!r||!~r.indexOf(y.writeId))&&(po(y.path,t)||po(t,y.path))},t),e||dn.EMPTY_NODE):null}{const o=Dl(n.visibleWrites,t);if(null!=o)return o;{const u=Sl(n.visibleWrites,t);return gm(u)?e:null!=e||d0(u,Un())?Al(u,e||dn.EMPTY_NODE):null}}}function vf(n,t,e,r){return f0(n.writeTree,n.treePath,t,e,r)}function _m(n,t){return function tN(n,t,e){let r=dn.EMPTY_NODE;const i=Dl(n.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ir,(o,u)=>{r=r.updateImmediateChild(o,u)}),r;if(e){const o=Sl(n.visibleWrites,t);return e.forEachChild(ir,(u,h)=>{const p=Al(Sl(o,new qn(u)),h);r=r.updateImmediateChild(u,p)}),Hc(o).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}return Hc(Sl(n.visibleWrites,t)).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}(n.writeTree,n.treePath,t)}function ET(n,t,e,r){return function nN(n,t,e,r,i){(0,$.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=vr(t,e);if(d0(n.visibleWrites,o))return null;{const u=Sl(n.visibleWrites,o);return gm(u)?i.getChild(e):Al(u,i.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function ym(n,t){return function rN(n,t){return Dl(n.visibleWrites,t)}(n.writeTree,vr(n.treePath,t))}function vm(n,t,e){return function yT(n,t,e,r){const i=vr(t,e),o=Dl(n.visibleWrites,i);return null!=o?o:r.isCompleteForChild(e)?Al(Sl(n.visibleWrites,i),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function iN(n,t){return sN(vr(n.treePath,t),n.writeTree)}function sN(n,t){return{treePath:n,writeTree:t}}class kP{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,$.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,$.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(r,ff(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(r,hf(r,i.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(r,ea(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,$.g5)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,ff(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const oN=new class FP{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class wT{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Gc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vm(this.writes_,t,r)}}getChildAfterChild(t,e,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$c(this.viewCache_),o=function PP(n,t,e,r,i,o){return function vT(n,t,e,r,i,o,u){let h;const p=Sl(n.visibleWrites,t),y=Dl(p,Un());if(null!=y)h=y;else{if(null==e)return[];h=Al(p,e)}if(h=h.withIndex(u),h.isEmpty()||h.isLeafNode())return[];{const E=[],I=u.getCompare(),O=o?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let P=O.getNext();for(;P&&E.length<i;)0!==I(P,r)&&E.push(P),P=O.getNext();return E}}(n.writeTree,n.treePath,t,e,r,i,o)}(this.writes_,i,e,1,r,t);return 0===o.length?null:o[0]}}function p0(n,t,e,r,i,o){const u=t.eventCache;if(null!=ym(r,e))return t;{let h,p;if(bn(e))if((0,$.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const y=$c(t),I=_m(r,y instanceof dn?y:dn.EMPTY_NODE);h=n.filter.updateFullNode(t.eventCache.getNode(),I,o)}else{const y=vf(r,$c(t));h=n.filter.updateFullNode(t.eventCache.getNode(),y,o)}else{const y=yn(e);if(".priority"===y){(0,$.hu)(1===Yo(e),"Can't have a priority with additional path components");const E=u.getNode();p=t.serverCache.getNode();const I=ET(r,e,E,p);h=null!=I?n.filter.updatePriority(E,I):u.getNode()}else{const E=rr(e);let I;if(u.isCompleteForChild(y)){p=t.serverCache.getNode();const O=ET(r,e,u.getNode(),p);I=null!=O?u.getNode().getImmediateChild(y).updateChild(E,O):u.getNode().getImmediateChild(y)}else I=vm(r,y,t.serverCache);h=null!=I?n.filter.updateChild(u.getNode(),y,I,E,i,o):u.getNode()}}return sd(t,h,u.isFullyInitialized()||bn(e),n.filter.filtersNodes())}}function zc(n,t,e,r,i,o,u,h){const p=t.serverCache;let y;const E=u?n.filter:n.filter.getIndexedFilter();if(bn(e))y=E.updateFullNode(p.getNode(),r,null);else if(E.filtersNodes()&&!p.isFiltered()){const P=p.getNode().updateChild(e,r);y=E.updateFullNode(p.getNode(),P,null)}else{const P=yn(e);if(!p.isCompleteForPath(e)&&Yo(e)>1)return t;const W=rr(e),de=p.getNode().getImmediateChild(P).updateChild(W,r);y=".priority"===P?E.updatePriority(p.getNode(),de):E.updateChild(p.getNode(),P,de,W,oN,null)}const I=fT(t,y,p.isFullyInitialized()||bn(e),E.filtersNodes());return p0(n,I,e,i,new wT(i,I,o),h)}function Em(n,t,e,r,i,o,u){const h=t.eventCache;let p,y;const E=new wT(i,t,o);if(bn(e))y=n.filter.updateFullNode(t.eventCache.getNode(),r,u),p=sd(t,y,!0,n.filter.filtersNodes());else{const I=yn(e);if(".priority"===I)y=n.filter.updatePriority(t.eventCache.getNode(),r),p=sd(t,y,h.isFullyInitialized(),h.isFiltered());else{const O=rr(e),P=h.getNode().getImmediateChild(I);let W;if(bn(O))W=r;else{const te=E.getCompleteChild(I);W=null!=te?".priority"===ef(O)&&te.getChild(Qg(O)).isEmpty()?te:te.updateChild(O,r):dn.EMPTY_NODE}p=P.equals(W)?t:sd(t,n.filter.updateChild(h.getNode(),I,W,O,E,u),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function g0(n,t){return n.eventCache.isCompleteForChild(t)}function wm(n,t,e){return e.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Cm(n,t,e,r,i,o,u,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y,p=t;y=bn(e)?r:new sr(null).setTree(e,r);const E=t.serverCache.getNode();return y.children.inorderTraversal((I,O)=>{if(E.hasChild(I)){const W=wm(0,t.serverCache.getNode().getImmediateChild(I),O);p=zc(n,p,new qn(I),W,i,o,u,h)}}),y.children.inorderTraversal((I,O)=>{const P=!t.serverCache.isCompleteForChild(I)&&null===O.value;if(!E.hasChild(I)&&!P){const te=wm(0,t.serverCache.getNode().getImmediateChild(I),O);p=zc(n,p,new qn(I),te,i,o,u,h)}}),p}class lN{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new rd(r.getIndex()),o=function iT(n){return n.loadsAllData()?new rd(n.getIndex()):n.hasLimit()?new WA(n):new Il(n)}(r);this.processor_=function LP(n){return{filter:n}}(o);const u=e.serverCache,h=e.eventCache,p=i.updateFullNode(dn.EMPTY_NODE,u.getNode(),null),y=o.updateFullNode(dn.EMPTY_NODE,h.getNode(),null),E=new Gc(p,u.isFullyInitialized(),i.filtersNodes()),I=new Gc(y,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=fm(I,E),this.eventGenerator_=new hT(this.query_)}get query(){return this.query_}}function uN(n,t){const e=$c(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!bn(t)&&!e.getImmediateChild(yn(t)).isEmpty())?e.getChild(t):null}function dN(n){return 0===n.eventRegistrations_.length}function hN(n,t,e){const r=[];if(e){(0,$.hu)(null==t,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(o=>{const u=o.createCancelEvent(e,i);u&&r.push(u)})}if(t){let i=[];for(let o=0;o<n.eventRegistrations_.length;++o){const u=n.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(o+1));break}}else i.push(u)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function CT(n,t,e,r){t.type===Us.MERGE&&null!==t.source.queryId&&((0,$.hu)($c(n.viewCache_),"We should always have a full cache before handling merges"),(0,$.hu)(pm(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,o=function bm(n,t,e,r,i){const o=new kP;let u,h;if(e.type===Us.OVERWRITE){const y=e;y.source.fromUser?u=Em(n,t,y.path,y.snap,r,i,o):((0,$.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||t.serverCache.isFiltered()&&!bn(y.path),u=zc(n,t,y.path,y.snap,r,i,h,o))}else if(e.type===Us.MERGE){const y=e;y.source.fromUser?u=function UP(n,t,e,r,i,o,u){let h=t;return r.foreach((p,y)=>{const E=vr(e,p);g0(t,yn(E))&&(h=Em(n,h,E,y,i,o,u))}),r.foreach((p,y)=>{const E=vr(e,p);g0(t,yn(E))||(h=Em(n,h,E,y,i,o,u))}),h}(n,t,y.path,y.children,r,i,o):((0,$.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||t.serverCache.isFiltered(),u=Cm(n,t,y.path,y.children,r,i,h,o))}else if(e.type===Us.ACK_USER_WRITE){const y=e;u=y.revert?function $P(n,t,e,r,i,o){let u;if(null!=ym(r,e))return t;{const h=new wT(r,t,i),p=t.eventCache.getNode();let y;if(bn(e)||".priority"===yn(e)){let E;if(t.serverCache.isFullyInitialized())E=vf(r,$c(t));else{const I=t.serverCache.getNode();(0,$.hu)(I instanceof dn,"serverChildren would be complete if leaf node"),E=_m(r,I)}y=n.filter.updateFullNode(p,E,o)}else{const E=yn(e);let I=vm(r,E,t.serverCache);null==I&&t.serverCache.isCompleteForChild(E)&&(I=p.getImmediateChild(E)),y=null!=I?n.filter.updateChild(p,E,I,rr(e),h,o):t.eventCache.getNode().hasChild(E)?n.filter.updateChild(p,E,dn.EMPTY_NODE,rr(e),h,o):p,y.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=vf(r,$c(t)),u.isLeafNode()&&(y=n.filter.updateFullNode(y,u,o)))}return u=t.serverCache.isFullyInitialized()||null!=ym(r,Un()),sd(t,y,u,n.filter.filtersNodes())}}(n,t,y.path,r,i,o):function aN(n,t,e,r,i,o,u){if(null!=ym(i,e))return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(null!=r.value){if(bn(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return zc(n,t,e,p.getNode().getChild(e),i,o,h,u);if(bn(e)){let y=new sr(null);return p.getNode().forEachChild(Ko,(E,I)=>{y=y.set(new qn(E),I)}),Cm(n,t,e,y,i,o,h,u)}return t}{let y=new sr(null);return r.foreach((E,I)=>{const O=vr(e,E);p.isCompleteForPath(O)&&(y=y.set(E,p.getNode().getChild(O)))}),Cm(n,t,e,y,i,o,h,u)}}(n,t,y.path,y.affectedTree,r,i,o)}else{if(e.type!==Us.LISTEN_COMPLETE)throw(0,$.g5)("Unknown operation type: "+e.type);u=function GP(n,t,e,r,i){const o=t.serverCache;return p0(n,fT(t,o.getNode(),o.isFullyInitialized()||bn(e),o.isFiltered()),e,r,oN,i)}(n,t,e.path,r,o)}const p=o.getChanges();return function BP(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=pm(n);(e.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&e.push(im(pm(t)))}}(t,u,p),{viewCache:u,changes:p}}(n.processor_,i,t,e,r);return function VP(n,t){(0,$.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,$.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,$.hu)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,TT(n,o.changes,o.viewCache.eventCache.getNode(),null)}function TT(n,t,e,r){return function l0(n,t,e,r){const i=[],o=[];return t.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&o.push(function zA(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(u.childName,u.snapshotNode))}),Ra(n,i,"child_removed",t,r,e),Ra(n,i,"child_added",t,r,e),Ra(n,i,"child_moved",o,r,e),Ra(n,i,"child_changed",t,r,e),Ra(n,i,"value",t,r,e),i}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let m0,od;class IT{constructor(){this.views=new Map}}function bs(n,t,e,r){const i=t.source.queryId;if(null!==i){const o=n.views.get(i);return(0,$.hu)(null!=o,"SyncTree gave us an op for an invalid query."),CT(o,t,e,r)}{let o=[];for(const u of n.views.values())o=o.concat(CT(u,t,e,r));return o}}function AT(n,t,e,r,i){const u=n.views.get(t._queryIdentifier);if(!u){let h=vf(e,i?r:null),p=!1;h?p=!0:r instanceof dn?(h=_m(e,r),p=!1):(h=dn.EMPTY_NODE,p=!1);const y=fm(new Gc(h,p,!1),new Gc(r,i,!1));return new lN(t,y)}return u}function gN(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Xr(n,t){let e=null;for(const r of n.views.values())e=e||uN(r,t);return e}function NT(n,t){return t._queryParams.loadsAllData()?Dm(n):n.views.get(t._queryIdentifier)}function Im(n,t){return null!=NT(n,t)}function Nl(n){return null!=Dm(n)}function Dm(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let mN=1;class y0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new sr(null),this.pendingWriteTree_=function bT(){return{visibleWrites:hs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Sm(n,t,e,r,i){return function xP(n,t,e,r,i){(0,$.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:i}),i&&(n.visibleWrites=jc(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,i),i?ad(n,new Uc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ma(n,t,e=!1){const r=function QA(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function XA(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);(0,$.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let i=r.visible,o=!1,u=n.allWrites.length-1;for(;i&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=e&&mT(h,r.path)?i=!1:po(r.path,h.path)&&(o=!0)),u--}return!!i&&(o?(function _T(n){n.visibleWrites=h0(n.allWrites,eN,Un()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=u0(n.visibleWrites,r.path):Qr(r.children,p=>{n.visibleWrites=u0(n.visibleWrites,vr(r.path,p))}),!0))}(n.pendingWriteTree_,t)){let o=new sr(null);return null!=r.snap?o=o.set(Un(),!0):Qr(r.children,u=>{o=o.set(new qn(u),!0)}),ad(n,new Oa(r.path,o,e))}return[]}function bf(n,t,e){return ad(n,new Uc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Ef(n,t,e,r,i=!1){const o=t._path,u=n.syncPointTree_.get(o);let h=[];if(u&&("default"===t._queryIdentifier||Im(u,t))){const p=function pN(n,t,e,r){const i=t._queryIdentifier,o=[];let u=[];const h=Nl(n);if("default"===i)for(const[p,y]of n.views.entries())u=u.concat(hN(y,e,r)),dN(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||o.push(y.query));else{const p=n.views.get(i);p&&(u=u.concat(hN(p,e,r)),dN(p)&&(n.views.delete(i),p.query._queryParams.loadsAllData()||o.push(p.query)))}return h&&!Nl(n)&&o.push(new(function ST(){return(0,$.hu)(m0,"Reference.ts has not been loaded"),m0}())(t._repo,t._path)),{removed:o,events:u}}(u,t,e,r);(function HP(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const y=p.removed;if(h=p.events,!i){const E=-1!==y.findIndex(O=>O._queryParams.loadsAllData()),I=n.syncPointTree_.findOnPath(o,(O,P)=>Nl(P));if(E&&!I){const O=n.syncPointTree_.subtree(o);if(!O.isEmpty()){const P=function I0(n){return n.fold((t,e,r)=>{if(e&&Nl(e))return[Dm(e)];{let i=[];return e&&(i=gN(e)),Qr(r,(o,u)=>{i=i.concat(u)}),i}})}(O);for(let W=0;W<P.length;++W){const te=P[W],de=te.query,Qe=w0(n,te);n.listenProvider_.startListening(ld(de),wf(n,de),Qe.hashFn,Qe.onComplete)}}}!I&&y.length>0&&!r&&(E?n.listenProvider_.stopListening(ld(t),null):y.forEach(O=>{const P=n.queryToTagMap.get(C0(O));n.listenProvider_.stopListening(ld(O),P)}))}!function FT(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const i=C0(r),o=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(o)}}}(n,y)}return h}function Am(n,t,e,r){const i=T0(n,r);if(null!=i){const o=Nm(i),u=o.path,h=o.queryId,p=Gr(u,t);return kT(n,u,new Uc(bi(h),p,e))}return[]}function b0(n,t,e,r=!1){const i=t._path;let o=null,u=!1;n.syncPointTree_.foreachOnPath(i,(O,P)=>{const W=Gr(O,i);o=o||Xr(P,W),u=u||Nl(P)});let p,h=n.syncPointTree_.get(i);h?(u=u||Nl(h),o=o||Xr(h,Un())):(h=new IT,n.syncPointTree_=n.syncPointTree_.set(i,h)),null!=o?p=!0:(p=!1,o=dn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((P,W)=>{const te=Xr(W,Un());te&&(o=o.updateImmediateChild(P,te))}));const y=Im(h,t);if(!y&&!t._queryParams.loadsAllData()){const O=C0(t);(0,$.hu)(!n.queryToTagMap.has(O),"View does not exist, but we have a tag");const P=function LT(){return mN++}();n.queryToTagMap.set(O,P),n.tagToQueryMap.set(P,O)}let I=function _0(n,t,e,r,i,o){const u=AT(n,t,r,i,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,u),function jP(n,t){n.eventRegistrations_.push(t)}(u,e),function fN(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ir,(o,u)=>{r.push(ea(o,u))}),e.isFullyInitialized()&&r.push(im(e.getNode())),TT(n,r,e.getNode(),t)}(u,e)}(h,t,e,mm(n.pendingWriteTree_,i),o,p);if(!y&&!u&&!r){const O=NT(h,t);I=I.concat(function VT(n,t,e){const r=t._path,i=wf(n,t),o=w0(n,e),u=n.listenProvider_.startListening(ld(t),i,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(r);if(i)(0,$.hu)(!Nl(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((y,E,I)=>{if(!bn(y)&&E&&Nl(E))return[Dm(E).query];{let O=[];return E&&(O=O.concat(gN(E).map(P=>P.query))),Qr(I,(P,W)=>{O=O.concat(W)}),O}});for(let y=0;y<p.length;++y){const E=p[y];n.listenProvider_.stopListening(ld(E),wf(n,E))}}return u}(n,t,O))}return I}function E0(n,t,e){const i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(u,h)=>{const y=Xr(h,Gr(u,t));if(y)return y});return f0(i,t,o,e,!0)}function ad(n,t){return xT(t,n.syncPointTree_,null,mm(n.pendingWriteTree_,Un()))}function xT(n,t,e,r){if(bn(n.path))return PT(n,t,e,r);{const i=t.get(Un());null==e&&null!=i&&(e=Xr(i,Un()));let o=[];const u=yn(n.path),h=n.operationForChild(u),p=t.children.get(u);if(p&&h){const y=e?e.getImmediateChild(u):null,E=iN(r,u);o=o.concat(xT(h,p,y,E))}return i&&(o=o.concat(bs(i,n,r,e))),o}}function PT(n,t,e,r){const i=t.get(Un());null==e&&null!=i&&(e=Xr(i,Un()));let o=[];return t.children.inorderTraversal((u,h)=>{const p=e?e.getImmediateChild(u):null,y=iN(r,u),E=n.operationForChild(u);E&&(o=o.concat(PT(E,h,p,y)))}),i&&(o=o.concat(bs(i,n,r,e))),o}function w0(n,t){const e=t.query,r=wf(n,e);return{hashFn:()=>(function cN(n){return n.viewCache_.serverCache.getNode()}(t)||dn.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function Ol(n,t,e){const r=T0(n,e);if(r){const i=Nm(r),o=i.path,u=i.queryId,h=Gr(o,t);return kT(n,o,new mf(bi(u),h))}return[]}(n,e._path,r):function xa(n,t){return ad(n,new mf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function EA(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(i,e);return Ef(n,e,null,o)}}}}function wf(n,t){const e=C0(t);return n.queryToTagMap.get(e)}function C0(n){return n._path.toString()+"$"+n._queryIdentifier}function T0(n,t){return n.tagToQueryMap.get(t)}function Nm(n){const t=n.indexOf("$");return(0,$.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new qn(n.substr(0,t))}}function kT(n,t,e){const r=n.syncPointTree_.get(t);return(0,$.hu)(r,"Missing sync point for query tag that we're tracking"),bs(r,e,mm(n.pendingWriteTree_,t),null)}function ld(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function RT(){return(0,$.hu)(od,"Reference.ts has not been loaded"),od}())(n._repo,n._path):n}class Om{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Om(e)}node(){return this.node_}}class cd{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=vr(this.path_,t);return new cd(this.syncTree_,e)}node(){return E0(this.syncTree_,this.path_)}}const Rm=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},D0=function(n,t,e){return n&&"object"==typeof n?((0,$.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?vN(n[".sv"],t,e):"object"==typeof n[".sv"]?bN(n[".sv"],t):void(0,$.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},vN=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,$.hu)(!1,"Unexpected server value: "+n)},bN=function(n,t,e){n.hasOwnProperty("increment")||(0,$.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,$.hu)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,$.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const u=i.getValue();return"number"!=typeof u?r:u+r},EN=function(n,t,e,r){return UT(t,new cd(e,n),r)},BT=function(n,t,e){return UT(n,new Om(t),e)};function UT(n,t,e){const r=n.getPriority().val(),i=D0(r,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const u=n,h=D0(u.getValue(),t,e);return h!==u.getValue()||i!==u.getPriority().val()?new nd(h,Tr(i)):n}{const u=n;return o=u,i!==u.getPriority().val()&&(o=o.updatePriority(new nd(i))),u.forEachChild(ir,(h,p)=>{const y=UT(p,t.getImmediateChild(h),e);y!==p&&(o=o.updateImmediateChild(h,y))}),o}}class Mm{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function xm(n,t){let e=t instanceof qn?t:new qn(t),r=n,i=yn(e);for(;null!==i;){const o=(0,$.DV)(r.node.children,i)||{children:{},childCount:0};r=new Mm(i,r,o),e=rr(e),i=yn(e)}return r}function Wc(n){return n.node.value}function S0(n,t){n.node.value=t,ud(n)}function wN(n){return n.node.childCount>0}function A0(n,t){Qr(n.node.children,(e,r)=>{t(new Mm(e,n,r))})}function CN(n,t,e,r){e&&!r&&t(n),A0(n,i=>{CN(i,t,!0,r)}),e&&r&&t(n)}function Cf(n){return new qn(null===n.parent?n.name:Cf(n.parent)+"/"+n.name)}function ud(n){null!==n.parent&&function TN(n,t,e){const r=function zP(n){return void 0===Wc(n)&&!wN(n)}(e),i=(0,$.r3)(n.node.children,t);r&&i?(delete n.node.children[t],n.node.childCount--,ud(n)):!r&&!i&&(n.node.children[t]=e.node,n.node.childCount++,ud(n))}(n.parent,n.name,n)}const IN=/[\[\].#$\/\u0000-\u001F\u007F]/,GT=/[\[\].#$\u0000-\u001F\u007F]/,Pa=10485760,Tf=function(n){return"string"==typeof n&&0!==n.length&&!IN.test(n)},Pm=function(n){return"string"==typeof n&&0!==n.length&&!GT.test(n)},If=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Na(n)||n&&"object"==typeof n&&(0,$.r3)(n,".sv")},Gs=function(n,t,e,r){r&&void 0===t||qc((0,$.gK)(n,"value"),t,e)},qc=function(n,t,e){const r=e instanceof qn?new $C(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Fc(r));if("function"==typeof t)throw new Error(n+"contains a function "+Fc(r)+" with contents = "+t.toString());if(Na(t))throw new Error(n+"contains "+t.toString()+" "+Fc(r));if("string"==typeof t&&t.length>Pa/3&&(0,$.ug)(t)>Pa)throw new Error(n+"contains a string greater than "+Pa+" utf8 bytes "+Fc(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if(Qr(t,(u,h)=>{if(".value"===u)i=!0;else if(".priority"!==u&&".sv"!==u&&(o=!0,!Tf(u)))throw new Error(n+" contains an invalid key ("+u+") "+Fc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Qv(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,$.ug)(t),Xg(n)})(r,u),qc(n,h,r),function GA(n){const t=n.parts_.pop();n.byteLength_-=(0,$.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&o)throw new Error(n+' contains ".value" child '+Fc(r)+" in addition to actual children.")}},DN=function(n,t,e,r){if(r&&void 0===t)return;const i=(0,$.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];Qr(t,(u,h)=>{const p=new qn(u);if(qc(i,h,vr(e,p)),".priority"===ef(p)&&!If(h))throw new Error(i+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(p)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const o=tf(r);for(let u=0;u<o.length;u++)if((".priority"!==o[u]||u!==o.length-1)&&!Tf(o[u]))throw new Error(n+"contains an invalid key ("+o[u]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(GC);let i=null;for(e=0;e<t.length;e++){if(r=t[e],null!==i&&po(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},$T=function(n,t,e){if(!e||void 0!==t){if(Na(t))throw new Error((0,$.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!If(t))throw new Error((0,$.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Fm=function(n,t,e,r){if(!(r&&void 0===e||Tf(e)))throw new Error((0,$.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Lm=function(n,t,e,r){if(!(r&&void 0===e||Pm(e)))throw new Error((0,$.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},jT=function(n,t,e,r){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Lm(n,t,e,r)},$s=function(n,t){if(".info"===yn(t))throw new Error(n+" failed = Can't modify data under /.info/")},HT=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Tf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Pm(n)}(e))throw new Error((0,$.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class SN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vm(n,t){let e=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==e&&!Jv(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(i)}e&&n.eventLists_.push(e)}function O0(n,t,e){Vm(n,e),R0(n,r=>Jv(r,t))}function fs(n,t,e){Vm(n,e),R0(n,r=>po(r,t)||po(t,r))}function R0(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(t(i.path)?(AN(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function AN(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Aa&&Jr("event: "+e.toString()),Ju(r)}}}const zT="repo_interrupt",WT=25;class M0{constructor(t,e,r,i){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new SN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cm(),this.transactionQueueTree_=new Mm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function x0(n){const e=n.infoData_.getNode(new qn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Zc(n){return Rm({timestamp:x0(n)})}function qT(n,t,e,r,i){n.dataUpdateCount++;const o=new qn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let u=[];if(i)if(r){const p=(0,$.UI)(e,y=>Tr(y));u=function MT(n,t,e,r){const i=T0(n,r);if(i){const o=Nm(i),u=o.path,h=o.queryId,p=Gr(u,t),y=sr.fromObject(e);return kT(n,u,new _f(bi(h),p,y))}return[]}(n.serverSyncTree_,o,p,i)}else{const p=Tr(e);u=Am(n.serverSyncTree_,o,p,i)}else if(r){const p=(0,$.UI)(e,y=>Tr(y));u=function v0(n,t,e){const r=sr.fromObject(e);return ad(n,new _f({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,o,p)}else{const p=Tr(e);u=bf(n.serverSyncTree_,o,p)}let h=o;u.length>0&&(h=m(n,o)),fs(n.eventQueue_,h,u)}function ZT(n,t){YT(n,"connected",t),!1===t&&function JP(n){Df(n,"onDisconnectEvents");const t=Zc(n),e=cm();um(n.onDisconnect_,Un(),(i,o)=>{const u=EN(i,o,n.serverSyncTree_,t);Bc(e,i,u)});let r=[];um(e,Un(),(i,o)=>{r=r.concat(bf(n.serverSyncTree_,i,o));const u=j(n,i);m(n,u)}),n.onDisconnect_=cm(),fs(n.eventQueue_,Un(),r)}(n)}function YT(n,t,e){const r=new qn("/.info/"+t),i=Tr(e);n.infoData_.updateSnapshot(r,i);const o=bf(n.infoSyncTree_,r,i);fs(n.eventQueue_,r,o)}function P0(n){return n.nextWriteId_++}function k0(n,t,e,r,i){Df(n,"set",{path:t.toString(),value:e,priority:r});const o=Zc(n),u=Tr(e,r),h=E0(n.serverSyncTree_,t),p=BT(u,h,o),y=P0(n),E=Sm(n.serverSyncTree_,t,p,y,!0);Vm(n.eventQueue_,E),n.server_.put(t.toString(),u.val(!0),(O,P)=>{const W="ok"===O;W||Pi("set at "+t+" failed: "+O);const te=Ma(n.serverSyncTree_,y,!W);fs(n.eventQueue_,t,te),a(0,i,O,P)});const I=j(n,t);m(n,I),fs(n.eventQueue_,I,[])}function QP(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&gf(n.onDisconnect_,t),a(0,e,r,i)})}function NN(n,t,e,r){const i=Tr(e);n.server_.onDisconnectPut(t.toString(),i.val(!0),(o,u)=>{"ok"===o&&Bc(n.onDisconnect_,t,i),a(0,r,o,u)})}function KT(n,t,e){let r;r=".info"===yn(t._path)?Ef(n.infoSyncTree_,t,e):Ef(n.serverSyncTree_,t,e),O0(n.eventQueue_,t._path,r)}function RN(n){n.persistentConnection_&&n.persistentConnection_.interrupt(zT)}function Df(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Jr(e,...t)}function a(n,t,e,r){t&&Ju(()=>{if("ok"===e)t(null);else{const i=(e||"error").toUpperCase();let o=i;r&&(o+=": "+r);const u=new Error(o);u.code=i,t(u)}})}function c(n,t,e){return E0(n.serverSyncTree_,t,e)||dn.EMPTY_NODE}function d(n,t=n.transactionQueueTree_){if(t||R(n,t),Wc(t)){const e=T(n,t);(0,$.hu)(e.length>0,"Sending zero length transaction queue"),e.every(i=>0===i.status)&&function f(n,t,e){const r=e.map(y=>y.currentWriteId),i=c(n,t,r);let o=i;const u=i.hash();for(let y=0;y<e.length;y++){const E=e[y];(0,$.hu)(0===E.status,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const I=Gr(t,E.path);o=o.updateChild(I,E.currentOutputSnapshotRaw)}const h=o.val(!0),p=t;n.server_.put(p.toString(),h,y=>{Df(n,"transaction put response",{path:p.toString(),status:y});let E=[];if("ok"===y){const I=[];for(let O=0;O<e.length;O++)e[O].status=2,E=E.concat(Ma(n.serverSyncTree_,e[O].currentWriteId)),e[O].onComplete&&I.push(()=>e[O].onComplete(null,!0,e[O].currentOutputSnapshotResolved)),e[O].unwatcher();R(n,xm(n.transactionQueueTree_,t)),d(n,n.transactionQueueTree_),fs(n.eventQueue_,t,E);for(let O=0;O<I.length;O++)Ju(I[O])}else{if("datastale"===y)for(let I=0;I<e.length;I++)e[I].status=3===e[I].status?4:0;else{Pi("transaction at "+p.toString()+" failed: "+y);for(let I=0;I<e.length;I++)e[I].status=4,e[I].abortReason=y}m(n,t)}},u)}(n,Cf(t),e)}else wN(t)&&A0(t,e=>{d(n,e)})}function m(n,t){const e=C(n,t),r=Cf(e);return function v(n,t,e){if(0===t.length)return;const r=[];let i=[];const u=t.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],y=Gr(e,p.path);let I,E=!1;if((0,$.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)E=!0,I=p.abortReason,i=i.concat(Ma(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=WT)E=!0,I="maxretry",i=i.concat(Ma(n.serverSyncTree_,p.currentWriteId,!0));else{const O=c(n,p.path,u);p.currentInputSnapshot=O;const P=t[h].update(O.val());if(void 0!==P){qc("transaction failed: Data returned ",P,p.path);let W=Tr(P);"object"==typeof P&&null!=P&&(0,$.r3)(P,".priority")||(W=W.updatePriority(O.getPriority()));const de=p.currentWriteId,Qe=Zc(n),tt=BT(W,O,Qe);p.currentOutputSnapshotRaw=W,p.currentOutputSnapshotResolved=tt,p.currentWriteId=P0(n),u.splice(u.indexOf(de),1),i=i.concat(Sm(n.serverSyncTree_,p.path,tt,p.currentWriteId,p.applyLocally)),i=i.concat(Ma(n.serverSyncTree_,de,!0))}else E=!0,I="nodata",i=i.concat(Ma(n.serverSyncTree_,p.currentWriteId,!0))}fs(n.eventQueue_,e,i),i=[],E&&(t[h].status=2,setTimeout(t[h].unwatcher,Math.floor(0)),t[h].onComplete&&r.push("nodata"===I?()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot):()=>t[h].onComplete(new Error(I),!1,null)))}R(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)Ju(r[h]);d(n,n.transactionQueueTree_)}(n,T(n,e),r),r}function C(n,t){let e,r=n.transactionQueueTree_;for(e=yn(t);null!==e&&void 0===Wc(r);)r=xm(r,e),e=yn(t=rr(t));return r}function T(n,t){const e=[];return A(n,t,e),e.sort((r,i)=>r.order-i.order),e}function A(n,t,e){const r=Wc(t);if(r)for(let i=0;i<r.length;i++)e.push(r[i]);A0(t,i=>{A(n,i,e)})}function R(n,t){const e=Wc(t);if(e){let r=0;for(let i=0;i<e.length;i++)2!==e[i].status&&(e[r]=e[i],r++);e.length=r,S0(t,e.length>0?e:void 0)}A0(t,r=>{R(n,r)})}function j(n,t){const e=Cf(C(n,t)),r=xm(n.transactionQueueTree_,t);return function WP(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{Q(n,i)}),Q(n,r),CN(r,i=>{Q(n,i)}),e}function Q(n,t){const e=Wc(t);if(e){const r=[];let i=[],o=-1;for(let u=0;u<e.length;u++)3===e[u].status||(1===e[u].status?((0,$.hu)(o===u-1,"All SENT items should be at beginning of queue."),o=u,e[u].status=3,e[u].abortReason="set"):((0,$.hu)(0===e[u].status,"Unexpected transaction status in abort"),e[u].unwatcher(),i=i.concat(Ma(n.serverSyncTree_,e[u].currentWriteId,!0)),e[u].onComplete&&r.push(e[u].onComplete.bind(null,new Error("set"),!1,null))));-1===o?S0(t,void 0):e.length=o+1,fs(n.eventQueue_,Cf(t),i);for(let u=0;u<r.length;u++)Ju(r[u])}}const et=function(n,t){const e=mt(n),r=e.namespace;return"firebase.com"===e.domain&&Zo(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Zo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Pi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Gv(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new qn(e.pathString)}},mt=function(n){let t="",e="",r="",i="",o="",u=!0,h="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(h=n.substring(0,y-1),n=n.substring(y+2));let E=n.indexOf("/");-1===E&&(E=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),t=n.substring(0,Math.min(E,I)),E<I&&(i=function ae(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let i=e[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(n.substring(E,I)));const O=function Re(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Pi(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,I)));y=t.indexOf(":"),y>=0?(u="https"===h||"wss"===h,p=parseInt(t.substring(y+1),10)):y=t.length;const P=t.slice(0,y);if("localhost"===P.toLowerCase())e="localhost";else if(P.split(".").length<=2)e=P;else{const W=t.indexOf(".");r=t.substring(0,W).toLowerCase(),e=t.substring(W+1),o=r}"ns"in O&&(o=O.ns)}return{host:t,port:p,domain:e,subdomain:r,secure:u,scheme:h,pathString:i,namespace:o}},Dt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",jt=function(){let n=0;const t=[];return function(e){const r=e===n;let i;n=e;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Dt.charAt(e%64),e=Math.floor(e/64);(0,$.hu)(0===e,"Cannot push at time == 0");let u=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=Dt.charAt(t[i]);return(0,$.hu)(20===u.length,"nextPushId: Length should be 20."),u}}();class ze{constructor(t,e,r,i){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,$.Wl)(this.snapshot.exportVal())}}class sn{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ur{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,$.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Ar{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new $.BH;return QP(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){$s("OnDisconnect.remove",this._path);const t=new $.BH;return NN(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){$s("OnDisconnect.set",this._path),Gs("OnDisconnect.set",t,this._path,!1);const e=new $.BH;return NN(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){$s("OnDisconnect.setWithPriority",this._path),Gs("OnDisconnect.setWithPriority",t,this._path,!1),$T("OnDisconnect.setWithPriority",e,!1);const r=new $.BH;return function ON(n,t,e,r,i){const o=Tr(e,r);n.server_.onDisconnectPut(t.toString(),o.val(!0),(u,h)=>{"ok"===u&&Bc(n.onDisconnect_,t,o),a(0,i,u,h)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){$s("OnDisconnect.update",this._path),DN("OnDisconnect.update",t,this._path,!1);const e=new $.BH;return function XP(n,t,e,r){if((0,$.xb)(e))return Jr("onDisconnect().update() called with empty data.  Don't do anything."),void a(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(i,o)=>{"ok"===i&&Qr(e,(u,h)=>{const p=Tr(h);Bc(n.onDisconnect_,vr(t,u),p)}),a(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Es{constructor(t,e,r,i){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=i}get key(){return bn(this._path)?null:ef(this._path)}get ref(){return new ta(this._repo,this._path)}get _queryIdentifier(){const t=aT(this._queryParams),e=jg(t);return"{}"===e?"default":e}get _queryObject(){return aT(this._queryParams)}isEqual(t){if(!((t=(0,$.m9)(t))instanceof Es))return!1;const e=this._repo===t._repo,r=Jv(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function UA(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function JT(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function dd(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ko){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==fo)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==Bs)throw new Error(r);if("string"!=typeof e)throw new Error(i)}}else if(n.getIndex()===ir){if(null!=t&&!If(t)||null!=e&&!If(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,$.hu)(n.getIndex()instanceof df||n.getIndex()===r0,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function QT(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ta extends Es{constructor(t,e){super(t,e,new sm,!1)}get parent(){const t=Qg(this._path);return null===t?null:new ta(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Sf{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new qn(t),r=Af(this.ref,t);return new Sf(this._node.getChild(e),r,ir)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new Sf(i,Af(this.ref,r),ir)))}hasChild(t){const e=new qn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function tk(n,t){return(n=(0,$.m9)(n))._checkNotDeleted("ref"),void 0!==t?Af(n._root,t):n._root}function nk(n,t){(n=(0,$.m9)(n))._checkNotDeleted("refFromURL");const e=et(t,n._repo.repoInfo_.nodeAdmin);HT("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Zo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),tk(n,e.path.toString())}function Af(n,t){return null===yn((n=(0,$.m9)(n))._path)?jT("child","path",t,!1):Lm("child","path",t,!1),new ta(n._repo,vr(n._path,t))}function xN(n,t){n=(0,$.m9)(n),$s("set",n._path),Gs("set",t,n._path,!1);const e=new $.BH;return k0(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function YG(n,t){DN("update",t,n._path,!1);const e=new $.BH;return function KP(n,t,e,r){Df(n,"update",{path:t.toString(),value:e});let i=!0;const o=Zc(n),u={};if(Qr(e,(h,p)=>{i=!1,u[h]=EN(vr(t,h),Tr(p),n.serverSyncTree_,o)}),i)Jr("update() called with empty data.  Don't do anything."),a(0,r,"ok",void 0);else{const h=P0(n),p=function _N(n,t,e,r){!function JA(n,t,e,r){(0,$.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=gT(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const i=sr.fromObject(e);return ad(n,new _f({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,t,u,h);Vm(n.eventQueue_,p),n.server_.merge(t.toString(),e,(y,E)=>{const I="ok"===y;I||Pi("update at "+t+" failed: "+y);const O=Ma(n.serverSyncTree_,h,!I),P=O.length>0?m(n,t):t;fs(n.eventQueue_,P,O),a(0,r,y,E)}),Qr(e,y=>{const E=j(n,vr(t,y));m(n,E)}),fs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function KG(n){n=(0,$.m9)(n);const t=new ur(()=>{}),e=new F0(t);return function YP(n,t,e){const r=function yN(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(y,E)=>{const I=Gr(y,e);r=r||Xr(E,I)});let i=n.syncPointTree_.get(e);i?r=r||Xr(i,Un()):(i=new IT,n.syncPointTree_=n.syncPointTree_.set(e,i));const o=null!=r,u=o?new Gc(r,!0,!1):null;return function Tm(n){return pm(n.viewCache_)}(AT(i,t,mm(n.pendingWriteTree_,t._path),o?u.getNode():dn.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=r?Promise.resolve(r):n.server_.get(t).then(i=>{const o=Tr(i).withIndex(t._queryParams.getIndex());let u;if(b0(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())u=bf(n.serverSyncTree_,t._path,o);else{const h=wf(n.serverSyncTree_,t);u=Am(n.serverSyncTree_,t._path,o,h)}return fs(n.eventQueue_,t._path,u),Ef(n.serverSyncTree_,t,e,null,!0),o},i=>(Df(n,"get for query "+(0,$.Wl)(t)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,e).then(r=>new Sf(r,new ta(n._repo,n._path),n._queryParams.getIndex()))}class F0{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new ze("value",this,new Sf(t.snapshotNode,new ta(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new sn(this,t,e):null}matches(t){return t instanceof F0&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class XT{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new sn(this,t,e):null}createEvent(t,e){(0,$.hu)(null!=t.childName,"Child events should have a childName.");const r=Af(new ta(e._repo,e._path),t.childName),i=e._queryParams.getIndex();return new ze(t.type,this,new Sf(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof XT&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function L0(n,t,e,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const p=e,y=(E,I)=>{KT(n._repo,n,h),p(E,I)};y.userCallback=e.userCallback,y.context=e.context,e=y}const u=new ur(e,o||void 0),h="value"===t?new F0(u):new XT(t,u);return function ek(n,t,e){let r;r=".info"===yn(t._path)?b0(n.infoSyncTree_,t,e):b0(n.serverSyncTree_,t,e),O0(n.eventQueue_,t._path,r)}(n._repo,n,h),()=>KT(n._repo,n,h)}function PN(n,t,e,r){return L0(n,"value",t,e,r)}function rk(n,t,e,r){return L0(n,"child_added",t,e,r)}function ik(n,t,e,r){return L0(n,"child_changed",t,e,r)}function sk(n,t,e,r){return L0(n,"child_moved",t,e,r)}function ok(n,t,e,r){return L0(n,"child_removed",t,e,r)}function ak(n,t,e){let r=null;const i=e?new ur(e):null;"value"===t?r=new F0(i):t&&(r=new XT(t,i)),KT(n._repo,n,r)}class ka{}class lk extends ka{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Gs("endAt",this._value,t._path,!0);const e=pf(t._queryParams,this._value,this._key);if(QT(e),dd(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)}}class QG extends ka{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Gs("endBefore",this._value,t._path,!1);const e=function oT(n,t,e){let r;return r=pf(n,t,n.index_===Ko||e?e:fo),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(QT(e),dd(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)}}class ck extends ka{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Gs("startAt",this._value,t._path,!0);const e=om(t._queryParams,this._value,this._key);if(QT(e),dd(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)}}class t$ extends ka{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Gs("startAfter",this._value,t._path,!1);const e=function o0(n,t,e){let r;return r=om(n,t,n.index_===Ko||e?e:Bs),r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(QT(e),dd(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)}}class r$ extends ka{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Es(t._repo,t._path,function sT(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class s$ extends ka{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Es(t._repo,t._path,function s0(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class a$ extends ka{constructor(t){super(),this._path=t}_apply(t){JT(t,"orderByChild");const e=new qn(this._path);if(bn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new df(e),i=id(t._queryParams,r);return dd(i),new Es(t._repo,t._path,i,!0)}}class c$ extends ka{_apply(t){JT(t,"orderByKey");const e=id(t._queryParams,Ko);return dd(e),new Es(t._repo,t._path,e,!0)}}class d$ extends ka{_apply(t){JT(t,"orderByPriority");const e=id(t._queryParams,ir);return dd(e),new Es(t._repo,t._path,e,!0)}}class f$ extends ka{_apply(t){JT(t,"orderByValue");const e=id(t._queryParams,r0);return dd(e),new Es(t._repo,t._path,e,!0)}}class g$ extends ka{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Gs("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new lk(this._value,this._key)._apply(new ck(this._value,this._key)._apply(t))}}function Fa(n,...t){let e=(0,$.m9)(n);for(const r of t)e=r._apply(e);return e}(function DT(n){(0,$.hu)(!m0,"__referenceConstructor has already been defined"),m0=n})(ta),function OT(n){(0,$.hu)(!od,"__referenceConstructor has already been defined"),od=n}(ta);const _$="FIREBASE_DATABASE_EMULATOR_HOST",kN={};let uk=!1;function dk(n,t,e,r,i){let o=r||n.options.databaseURL;void 0===o&&(n.options.projectId||Zo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,u=et(o,i),h=u.repoInfo;typeof process<"u"&&process.env&&(y=process.env[_$]),y?(p=!0,o=`http://${y}?ns=${h.namespace}`,u=et(o,i),h=u.repoInfo):p=!u.repoInfo.secure;const E=i&&p?new Qu(Qu.OWNER):new bC(n.name,n.options,t);HT("Invalid Firebase Database URL",u),bn(u.path)||Zo("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function b$(n,t,e,r){let i=kN[t.name];i||(i={},kN[t.name]=i);let o=i[n.toURLString()];return o&&Zo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new M0(n,uk,e,r),i[n.toURLString()]=o,o}(h,n,E,new vC(n.name,e));return new w$(I,n)}class w${constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function qP(n,t,e){if(n.stats_=Wg(n.repoInfo_),n.forceRestClient_||TA())n.server_=new lm(n.repoInfo_,(r,i,o,u)=>{qT(n,r,i,o,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>ZT(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,$.Wl)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Vc(n.repoInfo_,t,(r,i,o,u)=>{qT(n,r,i,o,u)},r=>{ZT(n,r)},r=>{!function ZP(n,t){Qr(t,(e,r)=>{YT(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function qg(n,t){const e=n.toString();return DC[e]||(DC[e]=t()),DC[e]}(n.repoInfo_,()=>new dT(n.stats_,n.server_)),n.infoData_=new qA,n.infoSyncTree_=new y0({startListening:(r,i,o,u)=>{let h=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(h=bf(n.infoSyncTree_,r._path,p),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),YT(n,"connected",!1),n.serverSyncTree_=new y0({startListening:(r,i,o,u)=>(n.server_.listen(r,o,i,(h,p)=>{const y=u(h,p);fs(n.eventQueue_,r._path,y)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ta(this._repo,Un())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function v$(n,t){const e=kN[t];(!e||e[n.key]!==n)&&Zo(`Database ${t}(${n.repoInfo_}) has already been deleted.`),RN(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Zo("Cannot call "+t+" on a deleted database.")}}function hk(){jv.IS_TRANSPORT_INITIALIZED&&Pi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function C$(){hk(),Tl.forceDisallow()}function T$(){hk(),kc.forceDisallow(),Tl.forceAllow()}function I$(n=(0,Zi.getApp)(),t){const e=(0,Zi._getProvider)(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const r=(0,$.P0)("database");r&&fk(e,...r)}return e}function fk(n,t,e,r={}){(n=(0,$.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Zo("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Zo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Qu(Qu.OWNER);else if(r.mockUserToken){const u="string"==typeof r.mockUserToken?r.mockUserToken:(0,$.Sg)(r.mockUserToken,n.app.options.projectId);o=new Qu(u)}!function y$(n,t,e,r){n.repoInfo_=new Gv(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,t,e,o)}function A$(n,t){Fv(n,t)}const O$={".sv":"timestamp"};class x${constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Vc.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Vc.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function N$(n){kv(Zi.SDK_VERSION),(0,Zi._registerComponent)(new Ca.wA("database",(t,{instanceIdentifier:e})=>dk(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Zi.registerVersion)(xv,"0.14.4",n),(0,Zi.registerVersion)(xv,"0.14.4","esm2017")}();class FN{constructor(t){return t}}const pk="database",LN=new s.OlP("angularfire2.database-instances");function L$(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new FN(r)}}const V$={provide:class k${constructor(){return(0,B.vb)(pk)}},deps:[[new s.FiY,LN]]},B$={provide:FN,useFactory:function F$(n,t){const e=(0,B.JM)(pk,n,t);return e&&new FN(e)},deps:[[new s.FiY,LN],Fe]};let U$=(()=>{class n{constructor(){(0,Ue.KN)("angularfire",B.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[B$,V$]}),n})();const $$=(0,B.u3)(I$,!0);var kt,j$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yc={},VN=VN||{},hn=j$||self;function eI(){}function tI(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function V0(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var BN="closure_uid_"+(1e9*Math.random()>>>0),z$=0;function W$(n,t,e){return n.call.apply(n.bind,arguments)}function q$(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(t,i)}}return function(){return n.apply(t,arguments)}}function ps(n,t,e){return(ps=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?W$:q$).apply(null,arguments)}function nI(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Yi(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(r,i,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[i].apply(r,u)}}function hd(){this.s=this.s,this.o=this.o}hd.prototype.s=!1,hd.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function H$(n){Object.prototype.hasOwnProperty.call(n,BN)&&n[BN]||(n[BN]=++z$)}(this)},hd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gk=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function UN(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function mk(n,t){for(let e=1;e<arguments.length;e++){const r=arguments[e];if(tI(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let u=0;u<o;u++)n[i+u]=r[u]}else n.push(r)}}function gs(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}gs.prototype.h=function(){this.defaultPrevented=!0};var Y$=function(){if(!hn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{hn.addEventListener("test",eI,t),hn.removeEventListener("test",eI,t)}catch{}return n}();function rI(n){return/^[\s\xa0]*$/.test(n)}var _k=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function GN(n,t){return n<t?-1:n>t?1:0}function iI(){var n=hn.navigator;return n&&(n=n.userAgent)?n:""}function Rl(n){return-1!=iI().indexOf(n)}function $N(n){return $N[" "](n),n}$N[" "]=eI;var sI,n,J$=Rl("Opera"),Bm=Rl("Trident")||Rl("MSIE"),yk=Rl("Edge"),jN=yk||Bm,vk=Rl("Gecko")&&!(-1!=iI().toLowerCase().indexOf("webkit")&&!Rl("Edge"))&&!(Rl("Trident")||Rl("MSIE"))&&!Rl("Edge"),Q$=-1!=iI().toLowerCase().indexOf("webkit")&&!Rl("Edge");function bk(){var n=hn.document;return n?n.documentMode:void 0}e:{var HN="",zN=(n=iI(),vk?/rv:([^\);]+)(\)|;)/.exec(n):yk?/Edge\/([\d\.]+)/.exec(n):Bm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Q$?/WebKit\/(\S+)/.exec(n):J$?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zN&&(HN=zN?zN[1]:""),Bm){var WN=bk();if(null!=WN&&WN>parseFloat(HN)){sI=String(WN);break e}}sI=HN}var X$={};var tj=hn.document&&Bm&&(bk()||parseInt(sI,10))||void 0;function B0(n,t){if(gs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(vk){e:{try{$N(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nj[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&B0.X.h.call(this)}}Yi(B0,gs);var nj={2:"touch",3:"pen",4:"mouse"};B0.prototype.h=function(){B0.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var U0="closure_listenable_"+(1e6*Math.random()|0),rj=0;function ij(n,t,e,r,i){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ha=i,this.key=++rj,this.ba=this.ea=!1}function oI(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function ZN(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function wk(n){const t={};for(const e in n)t[e]=n[e];return t}const Ck="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tk(n,t){let e,r;for(let i=1;i<arguments.length;i++){for(e in r=arguments[i],r)n[e]=r[e];for(let o=0;o<Ck.length;o++)e=Ck[o],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function aI(n){this.src=n,this.g={},this.h=0}function YN(n,t){var e=t.type;if(e in n.g){var o,r=n.g[e],i=gk(r,t);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(oI(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function KN(n,t,e,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ba&&o.listener==t&&o.capture==!!e&&o.ha==r)return i}return-1}aI.prototype.add=function(n,t,e,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=KN(n,t,r,i);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new ij(t,this.src,o,!!r,i)).ea=e,n.push(t)),t};var JN="closure_lm_"+(1e6*Math.random()|0),QN={};function Ik(n,t,e,r,i){if(r&&r.once)return Sk(n,t,e,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ik(n,t[o],e,r,i);return null}return e=nO(e),n&&n[U0]?n.N(t,e,V0(r)?!!r.capture:!!r,i):Dk(n,t,e,!1,r,i)}function Dk(n,t,e,r,i,o){if(!t)throw Error("Invalid event type");var u=V0(i)?!!i.capture:!!i,h=eO(n);if(h||(n[JN]=h=new aI(n)),(e=h.add(t,e,r,u,o)).proxy)return e;if(r=function sj(){const t=oj;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)Y$||(i=u),void 0===i&&(i=!1),n.addEventListener(t.toString(),r,i);else if(n.attachEvent)n.attachEvent(Nk(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function Sk(n,t,e,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Sk(n,t[o],e,r,i);return null}return e=nO(e),n&&n[U0]?n.O(t,e,V0(r)?!!r.capture:!!r,i):Dk(n,t,e,!0,r,i)}function Ak(n,t,e,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ak(n,t[o],e,r,i);else r=V0(r)?!!r.capture:!!r,e=nO(e),n&&n[U0]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=KN(o=n.g[t],e,r,i))&&(oI(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=eO(n))&&(t=n.g[t.toString()],n=-1,t&&(n=KN(t,e,r,i)),(e=-1<n?t[n]:null)&&XN(e))}function XN(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[U0])YN(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(Nk(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=eO(t))?(YN(e,n),0==e.h&&(e.src=null,t[JN]=null)):oI(n)}}}function Nk(n){return n in QN?QN[n]:QN[n]="on"+n}function oj(n,t){if(n.ba)n=!0;else{t=new B0(t,this);var e=n.listener,r=n.ha||n.src;n.ea&&XN(n),n=e.call(r,t)}return n}function eO(n){return(n=n[JN])instanceof aI?n:null}var tO="__closure_events_fn_"+(1e9*Math.random()>>>0);function nO(n){return"function"==typeof n?n:(n[tO]||(n[tO]=function(t){return n.handleEvent(t)}),n[tO])}function ki(){hd.call(this),this.i=new aI(this),this.P=this,this.I=null}function Ki(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new gs(t,n);else if(t instanceof gs)t.target=t.target||n;else{var i=t;Tk(t=new gs(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];i=lI(u,r,!0,t)&&i}if(i=lI(u=t.g=n,r,!0,t)&&i,i=lI(u,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=lI(u=t.g=e[o],r,!1,t)&&i}function lI(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ba&&u.capture==e){var h=u.listener,p=u.ha||u.src;u.ea&&YN(n.i,u),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}Yi(ki,hd),ki.prototype[U0]=!0,ki.prototype.removeEventListener=function(n,t,e,r){Ak(this,n,t,e,r)},ki.prototype.M=function(){if(ki.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)oI(e[r]);delete n.g[t],n.h--}}this.I=null},ki.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},ki.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var rO=hn.JSON.stringify;function aj(){var n=Mk;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var iO,Ok=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new cj,n=>n.reset());class cj{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function uj(n){hn.setTimeout(()=>{throw n},0)}function Rk(n,t){iO||function dj(){var n=hn.Promise.resolve(void 0);iO=function(){n.then(hj)}}(),sO||(iO(),sO=!0),Mk.add(n,t)}var sO=!1,Mk=new class lj{constructor(){this.h=this.g=null}add(t,e){const r=Ok.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function hj(){for(var n;n=aj();){try{n.h.call(n.g)}catch(e){uj(e)}var t=Ok;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}sO=!1}function cI(n,t){ki.call(this),this.h=n||1,this.g=t||hn,this.j=ps(this.lb,this),this.l=Date.now()}function oO(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function aO(n,t,e){if("function"==typeof n)e&&(n=ps(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ps(n.handleEvent,n)}return 2147483647<Number(t)?-1:hn.setTimeout(n,t||0)}function xk(n){n.g=aO(()=>{n.g=null,n.i&&(n.i=!1,xk(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Yi(cI,ki),(kt=cI.prototype).ca=!1,kt.R=null,kt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ki(this,"tick"),this.ca&&(oO(this),this.start()))}},kt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},kt.M=function(){cI.X.M.call(this),oO(this),delete this.g};class fj extends hd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:xk(this)}M(){super.M(),this.g&&(hn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function G0(n){hd.call(this),this.h=n,this.g={}}Yi(G0,hd);var Pk=[];function kk(n,t,e,r){Array.isArray(e)||(e&&(Pk[0]=e.toString()),e=Pk);for(var i=0;i<e.length;i++){var o=Ik(t,e[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function Fk(n){ZN(n.g,function(t,e){this.g.hasOwnProperty(e)&&XN(t)},n),n.g={}}function uI(){this.g=!0}function Um(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function _j(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<i.length;u++)i[u]=""}}}return rO(e)}catch{return t}}(n,e)+(r?" "+r:"")})}G0.prototype.M=function(){G0.X.M.call(this),Fk(this)},G0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uI.prototype.Aa=function(){this.g=!1},uI.prototype.info=function(){};var Nf={},Lk=null;function dI(){return Lk=Lk||new ki}function Vk(n){gs.call(this,Nf.Pa,n)}function $0(n){const t=dI();Ki(t,new Vk(t))}function Bk(n,t){gs.call(this,Nf.STAT_EVENT,n),this.stat=t}function ws(n){const t=dI();Ki(t,new Bk(t,n))}function Uk(n,t){gs.call(this,Nf.Qa,n),this.size=t}function j0(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return hn.setTimeout(function(){n()},t)}Nf.Pa="serverreachability",Yi(Vk,gs),Nf.STAT_EVENT="statevent",Yi(Bk,gs),Nf.Qa="timingevent",Yi(Uk,gs);var hI={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Gk={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function lO(){}function jk(){}lO.prototype.h=null;var dO,H0={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function cO(){gs.call(this,"d")}function uO(){gs.call(this,"c")}function fI(){}function z0(n,t,e,r){this.l=n,this.j=t,this.m=e,this.U=r||1,this.S=new G0(this),this.O=yj,this.T=new cI(n=jN?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Hk}function Hk(){this.i=null,this.g="",this.h=!1}Yi(cO,gs),Yi(uO,gs),Yi(fI,lO),fI.prototype.g=function(){return new XMLHttpRequest},fI.prototype.i=function(){return{}},dO=new fI;var yj=45e3,hO={},pI={};function fO(n,t,e){n.K=1,n.v=yI(Kc(t)),n.s=e,n.P=!0,zk(n,null)}function zk(n,t){n.F=Date.now(),W0(n),n.A=Kc(n.v);var e=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),tF(e.i,"t",r),n.C=0,e=n.l.H,n.h=new Hk,n.g=IF(n.l,e?t:null,!n.s),0<n.N&&(n.L=new fj(ps(n.La,n,n.g),n.N)),kk(n.S,n.g,"readystatechange",n.ib),t=n.H?wk(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),$0(),function pj(n,t,e,r,i,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var E=y[0];y=y[1];var I=E.split("_");u=2<=I.length&&"type"==I[1]?u+(E+"=")+y+"&":u+(E+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Wk(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function qk(n,t,e){let i,r=!0;for(;!n.I&&n.C<e.length;){if(i=vj(n,e),i==pI){4==t&&(n.o=4,ws(14),r=!1),Um(n.j,n.m,null,"[Incomplete Response]");break}if(i==hO){n.o=4,ws(15),Um(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}Um(n.j,n.m,i,null),pO(n,i)}Wk(n)&&i!=pI&&i!=hO&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ws(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),wO(t),t.K=!0,ws(11))):(Um(n.j,n.m,e,"[Invalid Chunked Response]"),Of(n),q0(n))}function vj(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?pI:(e=Number(t.substring(e,r)),isNaN(e)?hO:(r+=1)+e>t.length?pI:(t=t.substr(r,e),n.C=r+e,t))}function W0(n){n.V=Date.now()+n.O,Zk(n,n.O)}function Zk(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=j0(ps(n.gb,n),t)}function gI(n){n.B&&(hn.clearTimeout(n.B),n.B=null)}function q0(n){0==n.l.G||n.I||EF(n.l,n)}function Of(n){gI(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,oO(n.T),Fk(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function pO(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||gO(e.h,n)))if(!n.J&&gO(e.h,n)&&3==e.G){try{var r=e.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;TI(e),wI(e)}EO(e),ws(18)}}else e.Ba=i[1],0<e.Ba-e.T&&37500>i[2]&&e.L&&0==e.A&&!e.v&&(e.v=j0(ps(e.cb,e),6e3));if(1>=iF(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Mf(e,11)}else if((n.J||e.g==n)&&TI(e),!rI(t))for(i=e.Fa.g.parse(t),t=0;t<i.length;t++){let y=i[t];if(e.T=y[0],y=y[1],2==e.G)if("c"==y[0]){e.I=y[1],e.ka=y[2];const E=y[3];null!=E&&(e.ma=E,e.j.info("VER="+e.ma));const I=y[4];null!=I&&(e.Ca=I,e.j.info("SVER="+e.Ca));const O=y[5];null!=O&&"number"==typeof O&&0<O&&(e.J=r=1.5*O,e.j.info("backChannelRequestTimeoutMs_="+r)),r=e;const P=n.g;if(P){const W=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var o=r.h;o.g||-1==W.indexOf("spdy")&&-1==W.indexOf("quic")&&-1==W.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(mO(o,o.h),o.h=null))}if(r.D){const te=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(r.za=te,Nr(r.F,r.D,te))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((r=e).sa=TF(r,r.H?r.ka:null,r.V),u.J){sF(r.h,u);var h=u,p=r.J;p&&h.setTimeout(p),h.B&&(gI(h),W0(h)),r.g=u}else vF(r);0<e.i.length&&CI(e)}else"stop"!=y[0]&&"close"!=y[0]||Mf(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Mf(e,7):bO(e):"noop"!=y[0]&&e.l&&e.l.wa(y),e.A=0)}$0()}catch{}}function Yk(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(tI(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function Ej(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(tI(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const r in n)t[e++]=r;return t}}}(n),r=function bj(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(tI(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],e&&e[o],n)}(kt=z0.prototype).setTimeout=function(n){this.O=n},kt.ib=function(n){n=n.target;const t=this.L;t&&3==Jc(n)?t.l():this.La(n)},kt.La=function(n){try{if(n==this.g)e:{const E=Jc(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>E)&&(3!=E||jN||this.g&&(this.h.h||this.g.fa()||fF(this.g)))){this.I||4!=E||7==t||$0(),gI(this);var e=this.g.aa();this.Y=e;t:if(Wk(this)){var r=fF(this.g);n="";var i=r.length,o=4==Jc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Of(this),q0(this);var u="";break t}this.h.i=new hn.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function gj(n,t,e,r,i,o,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.U,E,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rI(h)){var y=h;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,ws(12),Of(this),q0(this);break e}Um(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pO(this,e)}this.P?(qk(this,E,u),jN&&this.i&&3==E&&(kk(this.S,this.T,"tick",this.hb),this.T.start())):(Um(this.j,this.m,u,null),pO(this,u)),4==E&&Of(this),this.i&&!this.I&&(4==E?EF(this.l,this):(this.i=!1,W0(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,ws(12)):(this.o=0,ws(13)),Of(this),q0(this)}}}catch{}},kt.hb=function(){if(this.g){var n=Jc(this.g),t=this.g.fa();this.C<t.length&&(gI(this),qk(this,n,t),this.i&&4!=n&&W0(this))}},kt.cancel=function(){this.I=!0,Of(this)},kt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function mj(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&($0(),ws(17)),Of(this),this.o=2,q0(this)):Zk(this,this.V-n)};var Kk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rf(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Rf){this.h=void 0!==t?t:n.h,mI(this,n.j),this.s=n.s,this.g=n.g,_I(this,n.m),this.l=n.l,t=n.i;var e=new K0;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),Jk(this,e),this.o=n.o}else n&&(e=String(n).match(Kk))?(this.h=!!t,mI(this,e[1]||"",!0),this.s=Z0(e[2]||""),this.g=Z0(e[3]||"",!0),_I(this,e[4]),this.l=Z0(e[5]||"",!0),Jk(this,e[6]||"",!0),this.o=Z0(e[7]||"")):(this.h=!!t,this.i=new K0(null,this.h))}function Kc(n){return new Rf(n)}function mI(n,t,e){n.j=e?Z0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function _I(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Jk(n,t,e){t instanceof K0?(n.i=t,function Aj(n,t){t&&!n.j&&(fd(n),n.i=null,n.g.forEach(function(e,r){var i=r.toLowerCase();r!=i&&(Xk(this,r),tF(this,i,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Y0(t,Dj)),n.i=new K0(t,n.h))}function Nr(n,t,e){n.i.set(t,e)}function yI(n){return Nr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Z0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Y0(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Cj),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Cj(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Rf.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Y0(t,Qk,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Y0(t,Qk,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Y0(e,"/"==e.charAt(0)?Ij:Tj,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Y0(e,Sj)),n.join("")};var Qk=/[#\/\?@]/g,Tj=/[#\?:]/g,Ij=/[#\?]/g,Dj=/[#\?@]/g,Sj=/#/g;function K0(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function fd(n){n.g||(n.g=new Map,n.h=0,n.i&&function wj(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),i=null;if(0<=r){var o=n[e].substring(0,r);i=n[e].substring(r+1)}else o=n[e];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Xk(n,t){fd(n),t=Gm(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function eF(n,t){return fd(n),t=Gm(n,t),n.g.has(t)}function tF(n,t,e){Xk(n,t),0<e.length&&(n.i=null,n.g.set(Gm(n,t),UN(e)),n.h+=e.length)}function Gm(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function nF(n){this.l=n||Oj,n=hn.PerformanceNavigationTiming?0<(n=hn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(hn.g&&hn.g.Ga&&hn.g.Ga()&&hn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(kt=K0.prototype).add=function(n,t){fd(this),this.i=null,n=Gm(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},kt.forEach=function(n,t){fd(this),this.g.forEach(function(e,r){e.forEach(function(i){n.call(t,i,r,this)},this)},this)},kt.oa=function(){fd(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let r=0;r<t.length;r++){const i=n[r];for(let o=0;o<i.length;o++)e.push(t[r])}return e},kt.W=function(n){fd(this);let t=[];if("string"==typeof n)eF(this,n)&&(t=t.concat(this.g.get(Gm(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},kt.set=function(n,t){return fd(this),this.i=null,eF(this,n=Gm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},kt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},kt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var r=t[e];const o=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=o;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var Oj=10;function rF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function iF(n){return n.h?1:n.g?n.g.size:0}function gO(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function mO(n,t){n.g?n.g.add(t):n.h=t}function sF(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function oF(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return UN(n.i)}function _O(){}function Rj(){this.g=new _O}function Mj(n,t,e){const r=e||"";try{Yk(n,function(i,o){let u=i;V0(i)&&(u=rO(i)),t.push(r+o+"="+encodeURIComponent(u))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vI(n,t,e,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function J0(n){this.l=n.ac||null,this.j=n.jb||!1}function bI(n,t){ki.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=yO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nF.prototype.cancel=function(){if(this.i=oF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},_O.prototype.stringify=function(n){return hn.JSON.stringify(n,void 0)},_O.prototype.parse=function(n){return hn.JSON.parse(n,void 0)},Yi(J0,lO),J0.prototype.g=function(){return new bI(this.l,this.j)},J0.prototype.i=function(n){return function(){return n}}({}),Yi(bI,ki);var yO=0;function aF(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Q0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,X0(n)}function X0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(kt=bI.prototype).open=function(n,t){if(this.readyState!=yO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,X0(this)},kt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||hn).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},kt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Q0(this)),this.readyState=yO},kt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,X0(this)),this.g&&(this.readyState=3,X0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof hn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aF(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},kt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Q0(this):X0(this),3==this.readyState&&aF(this)}},kt.Va=function(n){this.g&&(this.response=this.responseText=n,Q0(this))},kt.Ua=function(n){this.g&&(this.response=n,Q0(this))},kt.ga=function(){this.g&&Q0(this)},kt.setRequestHeader=function(n,t){this.v.append(n,t)},kt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},kt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(bI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Pj=hn.JSON.parse;function $r(n){ki.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lF,this.K=this.L=!1}Yi($r,ki);var lF="",kj=/^https?$/i,Fj=["POST","PUT"];function cF(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,uF(n),EI(n)}function uF(n){n.D||(n.D=!0,Ki(n,"complete"),Ki(n,"error"))}function dF(n){if(n.h&&typeof VN<"u"&&(!n.C[1]||4!=Jc(n)||2!=n.aa()))if(n.v&&4==Jc(n))aO(n.Ha,0,n);else if(Ki(n,"readystatechange"),4==Jc(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===h){var i=String(n.H).match(Kk)[1]||null;if(!i&&hn.self&&hn.self.location){var o=hn.self.location.protocol;i=o.substr(0,o.length-1)}r=!kj.test(i?i.toLowerCase():"")}e=r}if(e)Ki(n,"complete"),Ki(n,"success");else{n.m=6;try{var u=2<Jc(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",uF(n)}}finally{EI(n)}}}function EI(n,t){if(n.g){hF(n);const e=n.g,r=n.C[0]?eI:null;n.g=null,n.C=null,t||Ki(n,"ready");try{e.onreadystatechange=r}catch{}}}function hF(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(hn.clearTimeout(n.A),n.A=null)}function Jc(n){return n.g?n.g.readyState:0}function fF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case lF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function pF(n){let t="";return ZN(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}function vO(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=pF(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Nr(n,t,e))}function eb(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function gF(n){this.Ca=0,this.i=[],this.j=new uI,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=eb("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=eb("baseRetryDelayMs",5e3,n),this.bb=eb("retryDelaySeedMs",1e4,n),this.$a=eb("forwardChannelMaxRetries",2,n),this.ta=eb("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new nF(n&&n.concurrentRequestLimit),this.Fa=new Rj,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function bO(n){if(mF(n),3==n.G){var t=n.U++,e=Kc(n.F);Nr(e,"SID",n.I),Nr(e,"RID",t),Nr(e,"TYPE","terminate"),tb(n,e),(t=new z0(n,n.j,t,void 0)).K=2,t.v=yI(Kc(e)),e=!1,hn.navigator&&hn.navigator.sendBeacon&&(e=hn.navigator.sendBeacon(t.v.toString(),"")),!e&&hn.Image&&((new Image).src=t.v,e=!0),e||(t.g=IF(t.l,null),t.g.da(t.v)),t.F=Date.now(),W0(t)}CF(n)}function wI(n){n.g&&(wO(n),n.g.cancel(),n.g=null)}function mF(n){wI(n),n.u&&(hn.clearTimeout(n.u),n.u=null),TI(n),n.h.cancel(),n.m&&("number"==typeof n.m&&hn.clearTimeout(n.m),n.m=null)}function CI(n){rF(n.h)||n.m||(n.m=!0,Rk(n.Ja,n),n.C=0)}function _F(n,t){var e;e=t?t.m:n.U++;const r=Kc(n.F);Nr(r,"SID",n.I),Nr(r,"RID",e),Nr(r,"AID",n.T),tb(n,r),n.o&&n.s&&vO(r,n.o,n.s),e=new z0(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=yF(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),mO(n.h,e),fO(e,r,t)}function tb(n,t){n.ia&&ZN(n.ia,function(e,r){Nr(t,r,e)}),n.l&&Yk({},function(e,r){Nr(t,r,e)})}function yF(n,t,e){e=Math.min(n.i.length,e);var r=n.l?ps(n.l.Ra,n.l,n):null;e:{var i=n.i;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=i[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let p=0;p<e;p++){let y=i[p].h;const E=i[p].g;if(y-=o,0>y)o=Math.max(0,i[p].h-100),h=!1;else try{Mj(E,u,"req"+y+"_")}catch{r&&r(E)}}if(h){r=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,r}function vF(n){n.g||n.u||(n.Z=1,Rk(n.Ia,n),n.A=0)}function EO(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=j0(ps(n.Ia,n),wF(n,n.A)),n.A++,0))}function wO(n){null!=n.B&&(hn.clearTimeout(n.B),n.B=null)}function bF(n){n.g=new z0(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Kc(n.sa);Nr(t,"RID","rpc"),Nr(t,"SID",n.I),Nr(t,"CI",n.L?"0":"1"),Nr(t,"AID",n.T),Nr(t,"TYPE","xmlhttp"),tb(n,t),n.o&&n.s&&vO(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=yI(Kc(t)),e.s=null,e.P=!0,zk(e,n)}function TI(n){null!=n.v&&(hn.clearTimeout(n.v),n.v=null)}function EF(n,t){var e=null;if(n.g==t){TI(n),wO(n),n.g=null;var r=2}else{if(!gO(n.h,t))return;e=t.D,sF(n.h,t),r=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var i=n.C;Ki(r=dI(),new Uk(r,e)),CI(n)}else vF(n);else if(3==(i=t.o)||0==i&&0<n.pa||!(1==r&&function Vj(n,t){return!(iF(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=j0(ps(n.Ja,n,t),wF(n,n.C)),n.C++,0)))}(n,t)||2==r&&EO(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),i){case 1:Mf(n,5);break;case 4:Mf(n,10);break;case 3:Mf(n,6);break;default:Mf(n,2)}}function wF(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function Mf(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var r=ps(n.kb,n);e||(e=new Rf("//www.google.com/images/cleardot.gif"),hn.location&&"http"==hn.location.protocol||mI(e,"https"),yI(e)),function xj(n,t){const e=new uI;if(hn.Image){const r=new Image;r.onload=nI(vI,e,r,"TestLoadImage: loaded",!0,t),r.onerror=nI(vI,e,r,"TestLoadImage: error",!1,t),r.onabort=nI(vI,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=nI(vI,e,r,"TestLoadImage: timeout",!1,t),hn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else ws(2);n.G=0,n.l&&n.l.va(t),CF(n),mF(n)}function CF(n){if(n.G=0,n.la=[],n.l){const t=oF(n.h);(0!=t.length||0!=n.i.length)&&(mk(n.la,t),mk(n.la,n.i),n.h.i.length=0,UN(n.i),n.i.length=0),n.l.ua()}}function TF(n,t,e){var r=e instanceof Rf?Kc(e):new Rf(e,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),_I(r,r.m);else{var i=hn.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Rf(null,void 0);r&&mI(o,r),t&&(o.g=t),i&&_I(o,i),e&&(o.l=e),r=o}return t=n.za,(e=n.D)&&t&&Nr(r,e,t),Nr(r,"VER",n.ma),tb(n,r),r}function IF(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new $r(e&&n.Da&&!n.ra?new J0({jb:!0}):n.ra)).Ka(n.H),t}function DF(){}function II(){if(Bm&&!(10<=Number(tj)))throw Error("Environmental error: no available transport.")}function go(n,t){ki.call(this),this.g=new gF(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!rI(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rI(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new $m(this)}function SF(n){cO.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function AF(){uO.call(this),this.status=1}function $m(n){this.g=n}(kt=$r.prototype).Ka=function(n){this.L=n},kt.da=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dO.g(),this.C=function $k(n){return n.h||(n.h=n.i())}(this.u?this.u:dO),this.g.onreadystatechange=ps(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void cF(this,o)}if(n=e||"",e=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)e.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())e.set(o,r.get(o))}r=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),i=hn.FormData&&n instanceof hn.FormData,!(0<=gk(Fj,t))||r||i||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of e)this.g.setRequestHeader(o,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hF(this),0<this.B&&((this.K=function Lj(n){return Bm&&function ej(){return function K$(n){var t=X$;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=_k(String(sI)).split("."),e=_k("9").split("."),r=Math.max(t.length,e.length);for(let u=0;0==n&&u<r;u++){var i=t[u]||"",o=e[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=GN(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||GN(0==i[2].length,0==o[2].length)||GN(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ps(this.qa,this)):this.A=aO(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){cF(this,o)}},kt.qa=function(){typeof VN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ki(this,"timeout"),this.abort(8))},kt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ki(this,"complete"),Ki(this,"abort"),EI(this))},kt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),EI(this,!0)),$r.X.M.call(this)},kt.Ha=function(){this.s||(this.F||this.v||this.l?dF(this):this.fb())},kt.fb=function(){dF(this)},kt.aa=function(){try{return 2<Jc(this)?this.g.status:-1}catch{return-1}},kt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},kt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Pj(t)}},kt.Ea=function(){return this.m},kt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(kt=gF.prototype).ma=8,kt.G=1,kt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new z0(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=wk(o),Tk(o,this.S)):o=this.S),null!==this.o||this.N||(i.H=o,o=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var r=this.i[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=yF(this,i,t),Nr(e=Kc(this.F),"RID",n),Nr(e,"CVER",22),this.D&&Nr(e,"X-HTTP-Session-Id",this.D),tb(this,e),o&&(this.N?t="headers="+encodeURIComponent(String(pF(o)))+"&"+t:this.o&&vO(e,this.o,o)),mO(this.h,i),this.Ya&&Nr(e,"TYPE","init"),this.O?(Nr(e,"$req",t),Nr(e,"SID","null"),i.Z=!0,fO(i,e,null)):fO(i,e,t),this.G=2}}else 3==this.G&&(n?_F(this,n):0==this.i.length||rF(this.h)||_F(this))},kt.Ia=function(){if(this.u=null,bF(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=j0(ps(this.eb,this),n)}},kt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ws(10),wI(this),bF(this))},kt.cb=function(){null!=this.v&&(this.v=null,wI(this),EO(this),ws(19))},kt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ws(2)):(this.j.info("Failed to ping google.com"),ws(1))},(kt=DF.prototype).xa=function(){},kt.wa=function(){},kt.va=function(){},kt.ua=function(){},kt.Ra=function(){},II.prototype.g=function(n,t){return new go(n,t)},Yi(go,ki),go.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;ws(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=TF(n,null,n.V),CI(n)},go.prototype.close=function(){bO(this.g)},go.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=rO(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&CI(t)},go.prototype.M=function(){this.g.l=null,delete this.j,bO(this.g),delete this.g,go.X.M.call(this)},Yi(SF,cO),Yi(AF,uO),Yi($m,DF),$m.prototype.xa=function(){Ki(this.g,"a")},$m.prototype.wa=function(n){Ki(this.g,new SF(n))},$m.prototype.va=function(n){Ki(this.g,new AF)},$m.prototype.ua=function(){Ki(this.g,"b")},II.prototype.createWebChannel=II.prototype.g,go.prototype.send=go.prototype.u,go.prototype.open=go.prototype.m,go.prototype.close=go.prototype.close,hI.NO_ERROR=0,hI.TIMEOUT=8,hI.HTTP_ERROR=6,Gk.COMPLETE="complete",jk.EventType=H0,H0.OPEN="a",H0.CLOSE="b",H0.ERROR="c",H0.MESSAGE="d",ki.prototype.listen=ki.prototype.N,$r.prototype.listenOnce=$r.prototype.O,$r.prototype.getLastError=$r.prototype.Oa,$r.prototype.getLastErrorCode=$r.prototype.Ea,$r.prototype.getStatus=$r.prototype.aa,$r.prototype.getResponseJson=$r.prototype.Sa,$r.prototype.getResponseText=$r.prototype.fa,$r.prototype.send=$r.prototype.da,$r.prototype.setWithCredentials=$r.prototype.Ka,Yc.createWebChannelTransport=function(){return new II},Yc.getStatEventTarget=function(){return dI()},Yc.ErrorCode=hI,Yc.EventType=Gk,Yc.Event=Nf,Yc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Yc.FetchXmlHttpFactory=J0,Yc.WebChannel=jk,Yc.XhrIo=$r;const NF="@firebase/firestore";class Fi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fi.UNAUTHENTICATED=new Fi(null),Fi.GOOGLE_CREDENTIALS=new Fi("google-credentials-uid"),Fi.FIRST_PARTY=new Fi("first-party-uid"),Fi.MOCK_USER=new Fi("mock-user");let nb="9.20.0";const pd=new vl.Yd("@firebase/firestore");function Xe(n,...t){if(pd.logLevel<=vl.in.DEBUG){const e=t.map(TO);pd.debug(`Firestore (${nb}): ${n}`,...e)}}function ei(n,...t){if(pd.logLevel<=vl.in.ERROR){const e=t.map(TO);pd.error(`Firestore (${nb}): ${n}`,...e)}}function TO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Nt(n="Unexpected state"){const t=`FIRESTORE (${nb}) INTERNAL ASSERTION FAILED: `+n;throw ei(t),new Error(t)}function Lt(n,t){n||Nt()}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends $.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ei{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class OF{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Bj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Fi.UNAUTHENTICATED))}shutdown(){}}class Uj{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Gj{constructor(t){this.t=t,this.currentUser=Fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let i=this.i;const o=y=>this.i!==i?(i=this.i,e(y)):Promise.resolve();let u=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ei,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=u;t.enqueueRetryable((0,mr.Z)(function*(){yield y.promise,yield o(r.currentUser)}))},p=y=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ei)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt("string"==typeof r.accessToken),new OF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Lt(null===t||"string"==typeof t),new Fi(t)}}class $j{constructor(t,e,r){this.h=t,this.l=e,this.m=r,this.type="FirstParty",this.user=Fi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class jj{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new $j(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RF{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hj{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const r=o=>{null!=o.error&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.T;return this.T=o.token,Xe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Lt("string"==typeof e.token),this.T=e.token,new RF(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zj(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class MF{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=zj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<e&&(r+=t.charAt(i[o]%t.length))}return r}}function fn(n,t){return n<t?-1:n>t?1:0}class DI{constructor(t,e,r){void 0===e?e=0:e>t.length&&Nt(),void 0===r?r=t.length-e:r>t.length-e&&Nt(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===DI.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof DI?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const o=t.get(i),u=e.get(i);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Gn extends DI{construct(t,e,r){return new Gn(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ye(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new Gn(e)}static emptyPath(){return new Gn([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(Gn.fromString(t))}static fromName(t){return new _t(Gn.fromString(t).popFirst(5))}static empty(){return new _t(Gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Gn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Gn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new Gn(t.slice()))}}function _d(n){return"IndexedDbTransactionError"===n.name}class jr{constructor(t,e){this.comparator=t,this.root=e||Ji.EMPTY}insert(t,e){return new jr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ji.BLACK,null,null))}remove(t){return new jr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ji.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new RI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new RI(this.root,t,this.comparator,!1)}getReverseIterator(){return new RI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new RI(this.root,t,this.comparator,!0)}}class RI{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?r(t.key,e):1,e&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ji{constructor(t,e,r,i,o){this.key=t,this.value=e,this.color=r??Ji.RED,this.left=i??Ji.EMPTY,this.right=o??Ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,o){return new Ji(t??this.key,e??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===o?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ji.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Ji.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const t=this.left.check();if(t!==this.right.check())throw Nt();return t+(this.isRed()?0:1)}}Ji.EMPTY=null,Ji.RED=!0,Ji.BLACK=!1,Ji.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(n,t,e,r,i){return this}insert(n,t,e){return new Ji(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dr{constructor(t){this.comparator=t,this.data=new jr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new qF(this.data.getIterator())}getIteratorFrom(t){return new qF(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof dr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new dr(this.comparator);return e.data=t,e}}class qF{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new _3("Invalid base64 string: "+i):i}}(t);return new wi(e)}static fromUint8Array(t){const e=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(t);return new wi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return fn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}function Hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}wi.EMPTY_BYTE_STRING=new wi("");class v3{constructor(t,e,r,i,o,u,h,p){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class Lf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Lf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Lf&&t.projectId===this.projectId&&t.database===this.database}}var ui,$n;new jr(_t.comparator),new jr(_t.comparator),new jr(_t.comparator),new dr(_t.comparator),new dr(fn),($n=ui||(ui={}))[$n.OK=0]="OK",$n[$n.CANCELLED=1]="CANCELLED",$n[$n.UNKNOWN=2]="UNKNOWN",$n[$n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$n[$n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$n[$n.NOT_FOUND=5]="NOT_FOUND",$n[$n.ALREADY_EXISTS=6]="ALREADY_EXISTS",$n[$n.PERMISSION_DENIED=7]="PERMISSION_DENIED",$n[$n.UNAUTHENTICATED=16]="UNAUTHENTICATED",$n[$n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$n[$n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$n[$n.ABORTED=10]="ABORTED",$n[$n.OUT_OF_RANGE=11]="OUT_OF_RANGE",$n[$n.UNIMPLEMENTED=12]="UNIMPLEMENTED",$n[$n.INTERNAL=13]="INTERNAL",$n[$n.UNAVAILABLE=14]="UNAVAILABLE",$n[$n.DATA_LOSS=15]="DATA_LOSS";class qf{constructor(){}oe(t,e){this.ue(t,e),e.ce()}ue(t,e){if("nullValue"in t)this.ae(e,5);else if("booleanValue"in t)this.ae(e,10),e.he(t.booleanValue?1:0);else if("integerValue"in t)this.ae(e,15),e.he(Hr(t.integerValue));else if("doubleValue"in t){const r=Hr(t.doubleValue);isNaN(r)?this.ae(e,13):(this.ae(e,15),function ob(n){return 0===n&&1/n==-1/0}(r)?e.he(0):e.he(r))}else if("timestampValue"in t){const r=t.timestampValue;this.ae(e,20),"string"==typeof r?e.le(r):(e.le(`${r.seconds||""}`),e.he(r.nanos||0))}else if("stringValue"in t)this.fe(t.stringValue,e),this.de(e);else if("bytesValue"in t)this.ae(e,30),e.we(function Ff(n){return"string"==typeof n?wi.fromBase64String(n):wi.fromUint8Array(n)}(t.bytesValue)),this.de(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.ae(e,45),e.he(r.latitude||0),e.he(r.longitude||0)}else"mapValue"in t?function QF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(t)?this.ae(e,Number.MAX_SAFE_INTEGER):(this.me(t.mapValue,e),this.de(e)):"arrayValue"in t?(this.ge(t.arrayValue,e),this.de(e)):Nt()}fe(t,e){this.ae(e,25),this.ye(t,e)}ye(t,e){e.le(t)}me(t,e){const r=t.fields||{};this.ae(e,55);for(const i of Object.keys(r))this.fe(i,e),this.ue(r[i],e)}ge(t,e){const r=t.values||[];this.ae(e,50);for(const i of r)this.ue(i,e)}_e(t,e){this.ae(e,37),_t.fromName(t).path.forEach(r=>{this.ae(e,60),this.ye(r,e)})}ae(t,e){t.he(e)}de(t){t.he(2)}}qf.pe=new qf,new Uint8Array(0);class zs{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new zs(t,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function n1(){return typeof document<"u"?document:null}zs.DEFAULT_COLLECTION_PERCENTILE=10,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zs.DEFAULT=new zs(41943040,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zs.DISABLED=new zs(-1,0,0);class _R{constructor(t,e,r=1e3,i=1.5,o=6e4){this.Ws=t,this.timerId=e,this._o=r,this.mo=i,this.yo=o,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,e-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class FR{constructor(t,e,r,i,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,r,i,o){const u=Date.now()+r,h=new FR(t,e,u,i,o);return h.start(r),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ye(be.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class O6{constructor(t,e,r,i){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=Fi.UNAUTHENTICATED,this.clientId=MF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,mr.Z)(function*(h){Xe("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Xe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,mr.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ye(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,mr.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=function l_(n,t){if(ei("AsyncQueue",`${t}: ${n}`),_d(n))return new Ye(be.UNAVAILABLE,`${t}: ${n}`);throw n}(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}const uV=new Map;function Vn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ye(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=function c1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Nt()}(n);throw new Ye(be.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class pV{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ye(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ye(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function B6(n,t,e,r){if(!0===t&&!0===r)throw new Ye(be.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pb{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ye(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ye(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pV(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new Bj;switch(e.type){case"firstParty":return new jj(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ye(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=uV.get(t);e&&(Xe("ComponentProvider","Removing Datastore"),uV.delete(t),e.terminate())}(this),Promise.resolve()}}class $6{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new _R(this,"async_queue_retry"),this.qc=()=>{const e=n1();e&&Xe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Co.vo()};const t=n1();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const e=n1();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const e=new Ei;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}Gc(){var t=this;return(0,mr.Z)(function*(){if(0!==t.kc.length){try{yield t.kc[0](),t.kc.shift(),t.Co.reset()}catch(e){if(!_d(e))throw e;Xe("AsyncQueue","Operation failed with retryable error: "+e)}t.kc.length>0&&t.Co.Ao(()=>t.Gc())}})()}Kc(t){const e=this.Nc.then(()=>(this.Fc=!0,t().catch(r=>{throw this.Mc=r,this.Fc=!1,ei("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(r)),r}).then(r=>(this.Fc=!1,r))));return this.Nc=e,e}enqueueAfterDelay(t,e,r){this.Uc(),this.Lc.indexOf(t)>-1&&(e=0);const i=FR.createAndSchedule(this,t,e,r,o=>this.Qc(o));return this.$c.push(i),i}Uc(){this.Mc&&Nt()}verifyOperationInProgress(){}zc(){var t=this;return(0,mr.Z)(function*(){let e;do{e=t.Nc,yield e}while(e!==t.Nc)})()}jc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}class Dr extends Pb{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new $6,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function mV(n){var t,e,r;const i=n._freezeSettings(),o=(h=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new v3(n._databaseId,h,n._persistenceKey,(y=i).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var h,y;n._firestoreClient=new O6(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=i.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function H6(n,t){const e="object"==typeof n?n:(0,Zi.getApp)(),r="string"==typeof n?n:t||"(default)",i=(0,Zi._getProvider)(e,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,$.P0)("firestore");o&&function U6(n,t,e,r={}){var i;const o=(n=Vn(n,Pb))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&function gd(n,...t){if(pd.logLevel<=vl.in.WARN){const e=t.map(TO);pd.warn(`Firestore (${nb}): ${n}`,...e)}}("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let u,h;if("string"==typeof r.mockUserToken)u=r.mockUserToken,h=Fi.MOCK_USER;else{u=(0,$.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ye(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Fi(p)}n._authCredentials=new Uj(new OF(u,h))}}(i,...o)}return i}!function(n,t=!0){nb=Zi.SDK_VERSION,(0,Zi._registerComponent)(new Ca.wA("firestore",(e,{instanceIdentifier:r,options:i})=>{const o=e.getProvider("app").getImmediate(),u=new Dr(new Gj(e.getProvider("auth-internal")),new Hj(e.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ye(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lf(h.options.projectId,p)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Zi.registerVersion)(NF,"3.10.1",n),(0,Zi.registerVersion)(NF,"3.10.1","esm2017")}();class MM{constructor(t){return t}}const LV="firestore",xM=new s.OlP("angularfire2.firestore-instances");function gz(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new MM(r)}}const mz={provide:class fz{constructor(){return(0,B.vb)(LV)}},deps:[[new s.FiY,xM]]},_z={provide:MM,useFactory:function pz(n,t){const e=(0,B.JM)(LV,n,t);return e&&new MM(e)},deps:[[new s.FiY,xM],Fe]};let yz=(()=>{class n{constructor(){(0,Ue.KN)("angularfire",B.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_z,mz]}),n})();const bz=(0,B.u3)(H6,!0);var Ez=L(1144);const wz=["addListener","removeListener"],Cz=["addEventListener","removeEventListener"],Tz=["on","off"];function Qi(n,t,e,r){if((0,pn.m)(e)&&(r=e,e=void 0),r)return Qi(n,t,e).pipe(he(r));const[i,o]=function Sz(n){return(0,pn.m)(n.addEventListener)&&(0,pn.m)(n.removeEventListener)}(n)?Cz.map(u=>h=>n[u](t,h,e)):function Iz(n){return(0,pn.m)(n.addListener)&&(0,pn.m)(n.removeListener)}(n)?wz.map(VV(n,t)):function Dz(n){return(0,pn.m)(n.on)&&(0,pn.m)(n.off)}(n)?Tz.map(VV(n,t)):[];if(!i&&(0,Ez.z)(n))return(0,Le.z)(u=>Qi(u,t,e))((0,me.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new K.y(u=>{const h=(...p)=>u.next(1<p.length?p:p[0]);return i(h),()=>o(h)})}function VV(n,t){return e=>r=>n[e](t,r)}var PM=L(4986),Az=L(3532);const{isArray:Oz}=Array;function UV(...n){return 1===(n=function BV(n){return 1===n.length&&Oz(n[0])?n[0]:n}(n)).length?(0,me.Xf)(n[0]):new K.y(function Rz(n){return t=>{let e=[];for(let r=0;e&&!t.closed&&r<n.length;r++)e.push((0,me.Xf)(n[r]).subscribe((0,ue.x)(t,i=>{if(e){for(let o=0;o<e.length;o++)o!==r&&e[o].unsubscribe();e=null}t.next(i)})))}}(n))}var v1=L(5032);new K.y(v1.Z);var E1=L(6451);function zr(n){return(0,ce.e)((t,e)=>{(0,me.Xf)(n).subscribe((0,ue.x)(e,()=>e.complete(),v1.Z)),!e.closed&&t.subscribe(e)})}function w1(...n){const t=(0,F.jO)(n);return(0,ce.e)((e,r)=>{const i=n.length,o=new Array(i);let u=n.map(()=>!1),h=!1;for(let p=0;p<i;p++)(0,me.Xf)(n[p]).subscribe((0,ue.x)(r,y=>{o[p]=y,!h&&!u[p]&&(u[p]=!0,(h=u.every(lt.y))&&(u=null))},v1.Z));e.subscribe((0,ue.x)(r,p=>{if(h){const y=[p,...o];r.next(t?t(...y):y)}}))})}function $V(n,t){return t?e=>xe(t.pipe(Cr(1),function xz(){return(0,ce.e)((n,t)=>{n.subscribe((0,ue.x)(t,v1.Z))})}()),e.pipe($V(n))):(0,Le.z)((e,r)=>(0,me.Xf)(n(e,r)).pipe(Cr(1),fa(e)))}let jV=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),ep=(()=>{class n extends jV{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Ws=new s.OlP("NgValueAccessor"),Vz={provide:Ws,useExisting:(0,s.Gpc)(()=>Gb),multi:!0},Uz=new s.OlP("CompositionEventMode");let Gb=(()=>{class n extends jV{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Bz(){const n=Zn()?Zn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Uz,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&s.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[s._Bn([Vz]),s.qOj]}),n})();const Gz=!1;function Rd(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Xi=new s.OlP("NgValidators"),Md=new s.OlP("NgAsyncValidators");function ZV(n){return Rd(n.value)?{required:!0}:null}function C1(n){return null}function eB(n){return null!=n}function tB(n){const t=(0,s.QGY)(n)?(0,X.D)(n):n;if(Gz&&!(0,s.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new s.vHH(-1101,e)}return t}function nB(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function rB(n,t){return t.map(e=>e(n))}function iB(n){return n.map(t=>function jz(n){return!n.validate}(t)?t:e=>t.validate(e))}function FM(n){return null!=n?function sB(n){if(!n)return null;const t=n.filter(eB);return 0==t.length?null:function(e){return nB(rB(e,t))}}(iB(n)):null}function LM(n){return null!=n?function oB(n){if(!n)return null;const t=n.filter(eB);return 0==t.length?null:function(e){return function Fz(...n){const t=(0,F.jO)(n),{args:e,keys:r}=Jn(n),i=new K.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let p=u,y=u;for(let E=0;E<u;E++){let I=!1;(0,me.Xf)(e[E]).subscribe((0,ue.x)(o,O=>{I||(I=!0,y--),h[E]=O},()=>p--,void 0,()=>{(!p||!I)&&(y||o.next(r?ie(r,h):h),o.complete())}))}});return t?i.pipe(he(t)):i}(rB(e,t).map(tB)).pipe((0,G.U)(nB))}}(iB(n)):null}function aB(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function VM(n){return n?Array.isArray(n)?n:[n]:[]}function T1(n,t){return Array.isArray(n)?n.includes(t):n===t}function uB(n,t){const e=VM(t);return VM(n).forEach(i=>{T1(e,i)||e.push(i)}),e}function dB(n,t){return VM(t).filter(e=>!T1(n,e))}class hB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=FM(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=LM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Is extends hB{get formDirective(){return null}get path(){return null}}class xd extends hB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fB{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let I1=(()=>{class n extends fB{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xd,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[s.qOj]}),n})(),BM=(()=>{class n extends fB{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Is,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[s.qOj]}),n})();function pB(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const $M=!1,$b="VALID",S1="INVALID",y_="PENDING",jb="DISABLED";function jM(n){return(A1(n)?n.validators:n)||null}function HM(n,t){return(A1(t)?t.asyncValidators:n)||null}function A1(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class _B{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===$b}get invalid(){return this.status===S1}get pending(){return this.status==y_}get disabled(){return this.status===jb}get enabled(){return this.status!==jb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(uB(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(uB(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(dB(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(dB(t,this._rawAsyncValidators))}hasValidator(t){return T1(this._rawValidators,t)}hasAsyncValidator(t){return T1(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=y_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=jb,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=$b,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$b||this.status===y_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jb:$b}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=y_,this._hasOwnPendingAsyncValidator=!0;const e=tB(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?jb:this.errors?S1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(y_)?y_:this._anyControlsHaveStatus(S1)?S1:$b}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){A1(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Kz(n){return Array.isArray(n)?FM(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Jz(n){return Array.isArray(n)?LM(n):n||null}(this._rawAsyncValidators)}}class zM extends _B{constructor(t,e,r){super(jM(e),HM(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function mB(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new s.vHH(1002,$M?function Yz(n,t){return`Must supply a value for form control ${pB(n,t)}`}(t,i):"")})})(this,!0,t),Object.keys(t).forEach(r=>{(function gB(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new s.vHH(1e3,$M?function qz(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!r[e])throw new s.vHH(1001,$M?function Zz(n,t){return`Cannot find form control ${pB(n,t)}`}(t,e):"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const v_=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>N1}),N1="always";function Hb(n,t,e=N1){WM(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function eW(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&yB(n,t)})}(n,t),function nW(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function tW(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&yB(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Xz(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function M1(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function WM(n,t){const e=function lB(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(aB(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function cB(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(aB(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();M1(t._rawValidators,i),M1(t._rawAsyncValidators,i)}function yB(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const aW={provide:Is,useExisting:(0,s.Gpc)(()=>Wb)},zb=(()=>Promise.resolve())();let Wb=(()=>{class n extends Is{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new zM({},FM(e),LM(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){zb.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Hb(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){zb.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){zb.then(()=>{const r=this._findContainer(e.path),i=new zM({});(function vB(n,t){WM(n,t)})(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){zb.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){zb.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function bB(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xi,10),s.Y36(Md,10),s.Y36(v_,8))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&s.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([aW]),s.qOj]}),n})();function EB(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function wB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const CB=class extends _B{constructor(t=null,e,r){super(jM(e),HM(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),A1(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=wB(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){EB(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){EB(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){wB(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},uW={provide:xd,useExisting:(0,s.Gpc)(()=>qb)},DB=(()=>Promise.resolve())();let qb=(()=>{class n extends xd{constructor(e,r,i,o,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this.control=new CB,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function YM(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Gb?e=o:function sW(n){return Object.getPrototypeOf(n.constructor)===ep}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function ZM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){DB.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&(0,s.D6c)(r);DB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function O1(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Is,9),s.Y36(Xi,10),s.Y36(Md,10),s.Y36(Ws,10),s.Y36(s.sBO,8),s.Y36(v_,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([uW]),s.qOj,s.TTD]}),n})(),KM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const dW={provide:Ws,useExisting:(0,s.Gpc)(()=>JM),multi:!0};let JM=(()=>{class n extends ep{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&s.NdJ("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[s._Bn([dW]),s.qOj]}),n})(),SB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const bW={provide:Ws,useExisting:(0,s.Gpc)(()=>Zb),multi:!0};function PB(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Zb=(()=>{class n extends ep{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=PB(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function EW(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&s.NdJ("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([bW]),s.qOj]}),n})(),tx=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(PB(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Zb,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const wW={provide:Ws,useExisting:(0,s.Gpc)(()=>nx),multi:!0};function kB(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let nx=(()=>{class n extends ep{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(o=>this._getOptionId(o));r=(o,u)=>{o._setSelected(i.indexOf(u.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const u=o;for(let h=0;h<u.length;h++){const y=this._getOptionValue(u[h].value);i.push(y)}}else{const u=r.options;for(let h=0;h<u.length;h++){const p=u[h];if(p.selected){const y=this._getOptionValue(p.value);i.push(y)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function CW(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&s.NdJ("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([wW]),s.qOj]}),n})(),rx=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(kB(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(kB(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(nx,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let tp=(()=>{class n{constructor(){this._validator=C1}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):C1,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const IW={provide:Xi,useExisting:(0,s.Gpc)(()=>ix),multi:!0};let ix=(()=>{class n extends tp{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function LB(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>function WV(n){return t=>{if(Rd(t.value)||Rd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&s.uIk("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[s._Bn([IW]),s.qOj]}),n})();const DW={provide:Xi,useExisting:(0,s.Gpc)(()=>Yb),multi:!0};let Yb=(()=>{class n extends tp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>ZV}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&s.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([DW]),s.qOj]}),n})(),MW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[SB]}),n})(),sx=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:v_,useValue:e.callSetDisabledState??N1}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[MW]}),n})();var PW={left:"right",right:"left",bottom:"top",top:"bottom"};function P1(n){return n.replace(/left|right|bottom|top/g,function(t){return PW[t]})}function Ll(n){return n.split("-")[0]}var kW={start:"end",end:"start"};function HB(n){return n.replace(/start|end/g,function(t){return kW[t]})}var yo="top",Va="bottom",Ba="right",vo="left",ox="auto",Kb=[yo,Va,Ba,vo],b_="start",Jb="end",FW="clippingParents",zB="viewport",Qb="popper",LW="reference",WB=Kb.reduce(function(n,t){return n.concat([t+"-"+b_,t+"-"+Jb])},[]),qB=[].concat(Kb,[ox]).reduce(function(n,t){return n.concat([t,t+"-"+b_,t+"-"+Jb])},[]),qW=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function bo(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function np(n){return n instanceof bo(n).Element||n instanceof Element}function na(n){return n instanceof bo(n).HTMLElement||n instanceof HTMLElement}function ax(n){return!(typeof ShadowRoot>"u")&&(n instanceof bo(n).ShadowRoot||n instanceof ShadowRoot)}function Pd(n){return((np(n)?n.ownerDocument:n.document)||window.document).documentElement}var rp=Math.max,k1=Math.min,E_=Math.round;function lx(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ZB(){return!/^((?!chrome|android).)*safari/i.test(lx())}function w_(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var r=n.getBoundingClientRect(),i=1,o=1;t&&na(n)&&(i=n.offsetWidth>0&&E_(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&E_(r.height)/n.offsetHeight||1);var h=(np(n)?bo(n):window).visualViewport,p=!ZB()&&e,y=(r.left+(p&&h?h.offsetLeft:0))/i,E=(r.top+(p&&h?h.offsetTop:0))/o,I=r.width/i,O=r.height/o;return{width:I,height:O,top:E,right:y+I,bottom:E+O,left:y,x:y,y:E}}function cx(n){var t=bo(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ux(n){return w_(Pd(n)).left+cx(n).scrollLeft}function tu(n){return bo(n).getComputedStyle(n)}function Vl(n){return n?(n.nodeName||"").toLowerCase():null}function F1(n){return"html"===Vl(n)?n:n.assignedSlot||n.parentNode||(ax(n)?n.host:null)||Pd(n)}function dx(n){var t=tu(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function YB(n){return["html","body","#document"].indexOf(Vl(n))>=0?n.ownerDocument.body:na(n)&&dx(n)?n:YB(F1(n))}function Xb(n,t){var e;void 0===t&&(t=[]);var r=YB(n),i=r===(null==(e=n.ownerDocument)?void 0:e.body),o=bo(r),u=i?[o].concat(o.visualViewport||[],dx(r)?r:[]):r,h=t.concat(u);return i?h:h.concat(Xb(F1(u)))}function KW(n){return["table","td","th"].indexOf(Vl(n))>=0}function KB(n){return na(n)&&"fixed"!==tu(n).position?n.offsetParent:null}function eE(n){for(var t=bo(n),e=KB(n);e&&KW(e)&&"static"===tu(e).position;)e=KB(e);return e&&("html"===Vl(e)||"body"===Vl(e)&&"static"===tu(e).position)?t:e||function JW(n){var t=/firefox/i.test(lx());if(/Trident/i.test(lx())&&na(n)&&"fixed"===tu(n).position)return null;var i=F1(n);for(ax(i)&&(i=i.host);na(i)&&["html","body"].indexOf(Vl(i))<0;){var o=tu(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}(n)||t}function JB(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&ax(e)){var r=t;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function hx(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function QB(n,t,e){return t===zB?hx(function ZW(n,t){var e=bo(n),r=Pd(n),i=e.visualViewport,o=r.clientWidth,u=r.clientHeight,h=0,p=0;if(i){o=i.width,u=i.height;var y=ZB();(y||!y&&"fixed"===t)&&(h=i.offsetLeft,p=i.offsetTop)}return{width:o,height:u,x:h+ux(n),y:p}}(n,e)):np(t)?function QW(n,t){var e=w_(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):hx(function YW(n){var t,e=Pd(n),r=cx(n),i=null==(t=n.ownerDocument)?void 0:t.body,o=rp(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=rp(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),h=-r.scrollLeft+ux(n),p=-r.scrollTop;return"rtl"===tu(i||e).direction&&(h+=rp(e.clientWidth,i?i.clientWidth:0)-o),{width:o,height:u,x:h,y:p}}(Pd(n)))}function C_(n){return n.split("-")[1]}function fx(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function XB(n){var p,t=n.reference,e=n.element,r=n.placement,i=r?Ll(r):null,o=r?C_(r):null,u=t.x+t.width/2-e.width/2,h=t.y+t.height/2-e.height/2;switch(i){case yo:p={x:u,y:t.y-e.height};break;case Va:p={x:u,y:t.y+t.height};break;case Ba:p={x:t.x+t.width,y:h};break;case vo:p={x:t.x-e.width,y:h};break;default:p={x:t.x,y:t.y}}var y=i?fx(i):null;if(null!=y){var E="y"===y?"height":"width";switch(o){case b_:p[y]=p[y]-(t[E]/2-e[E]/2);break;case Jb:p[y]=p[y]+(t[E]/2-e[E]/2)}}return p}function tU(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function nU(n,t){return t.reduce(function(e,r){return e[r]=n,e},{})}function px(n,t){void 0===t&&(t={});var r=t.placement,i=void 0===r?n.placement:r,o=t.strategy,u=void 0===o?n.strategy:o,h=t.boundary,p=void 0===h?FW:h,y=t.rootBoundary,E=void 0===y?zB:y,I=t.elementContext,O=void 0===I?Qb:I,P=t.altBoundary,W=void 0!==P&&P,te=t.padding,de=void 0===te?0:te,Qe=tU("number"!=typeof de?de:nU(de,Kb)),yt=n.rects.popper,wt=n.elements[W?O===Qb?LW:Qb:O],It=function e4(n,t,e,r){var i="clippingParents"===t?function XW(n){var t=Xb(F1(n)),r=["absolute","fixed"].indexOf(tu(n).position)>=0&&na(n)?eE(n):n;return np(r)?t.filter(function(i){return np(i)&&JB(i,r)&&"body"!==Vl(i)}):[]}(n):[].concat(t),o=[].concat(i,[e]),h=o.reduce(function(p,y){var E=QB(n,y,r);return p.top=rp(E.top,p.top),p.right=k1(E.right,p.right),p.bottom=k1(E.bottom,p.bottom),p.left=rp(E.left,p.left),p},QB(n,o[0],r));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}(np(wt)?wt:wt.contextElement||Pd(n.elements.popper),p,E,u),Ot=w_(n.elements.reference),Dn=XB({reference:Ot,element:yt,strategy:"absolute",placement:i}),xn=hx(Object.assign({},yt,Dn)),Ii=O===Qb?xn:Ot,Di={top:It.top-Ii.top+Qe.top,bottom:Ii.bottom-It.bottom+Qe.bottom,left:It.left-Ii.left+Qe.left,right:Ii.right-It.right+Qe.right},ii=n.modifiersData.offset;if(O===Qb&&ii){var Ga=ii[i];Object.keys(Di).forEach(function(Ds){var fp=[Ba,Va].indexOf(Ds)>=0?1:-1,pp=[yo,Va].indexOf(Ds)>=0?"y":"x";Di[Ds]+=Ga[pp]*fp})}return Di}const i4={name:"flip",enabled:!0,phase:"main",fn:function r4(n){var t=n.state,e=n.options,r=n.name;if(!t.modifiersData[r]._skip){for(var i=e.mainAxis,o=void 0===i||i,u=e.altAxis,h=void 0===u||u,p=e.fallbackPlacements,y=e.padding,E=e.boundary,I=e.rootBoundary,O=e.altBoundary,P=e.flipVariations,W=void 0===P||P,te=e.allowedAutoPlacements,de=t.options.placement,Qe=Ll(de),yt=p||(Qe!==de&&W?function n4(n){if(Ll(n)===ox)return[];var t=P1(n);return[HB(n),t,HB(t)]}(de):[P1(de)]),wt=[de].concat(yt).reduce(function(M_,Ld){return M_.concat(Ll(Ld)===ox?function t4(n,t){void 0===t&&(t={});var i=t.boundary,o=t.rootBoundary,u=t.padding,h=t.flipVariations,p=t.allowedAutoPlacements,y=void 0===p?qB:p,E=C_(t.placement),I=E?h?WB:WB.filter(function(W){return C_(W)===E}):Kb,O=I.filter(function(W){return y.indexOf(W)>=0});0===O.length&&(O=I);var P=O.reduce(function(W,te){return W[te]=px(n,{placement:te,boundary:i,rootBoundary:o,padding:u})[Ll(te)],W},{});return Object.keys(P).sort(function(W,te){return P[W]-P[te]})}(t,{placement:Ld,boundary:E,rootBoundary:I,padding:y,flipVariations:W,allowedAutoPlacements:te}):Ld)},[]),It=t.rects.reference,Ot=t.rects.popper,Dn=new Map,xn=!0,Ii=wt[0],Di=0;Di<wt.length;Di++){var ii=wt[Di],Ga=Ll(ii),Ds=C_(ii)===b_,fp=[yo,Va].indexOf(Ga)>=0,pp=fp?"width":"height",wo=px(t,{placement:ii,boundary:E,rootBoundary:I,altBoundary:O,padding:y}),$a=fp?Ds?Ba:vo:Ds?Va:yo;It[pp]>Ot[pp]&&($a=P1($a));var X1=P1($a),gp=[];if(o&&gp.push(wo[Ga]<=0),h&&gp.push(wo[$a]<=0,wo[X1]<=0),gp.every(function(M_){return M_})){Ii=ii,xn=!1;break}Dn.set(ii,gp)}if(xn)for(var Bx=function(Ld){var pE=wt.find(function(nD){var mp=Dn.get(nD);if(mp)return mp.slice(0,Ld).every(function(Ux){return Ux})});if(pE)return Ii=pE,"break"},fE=W?3:1;fE>0&&"break"!==Bx(fE);fE--);t.placement!==Ii&&(t.modifiersData[r]._skip=!0,t.placement=Ii,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function tE(n,t,e){return rp(n,k1(t,e))}function gx(n){var t=w_(n),e=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:r}}const l4={name:"preventOverflow",enabled:!0,phase:"main",fn:function a4(n){var t=n.state,e=n.options,r=n.name,i=e.mainAxis,o=void 0===i||i,u=e.altAxis,h=void 0!==u&&u,O=e.tether,P=void 0===O||O,W=e.tetherOffset,te=void 0===W?0:W,de=px(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),Qe=Ll(t.placement),tt=C_(t.placement),yt=!tt,wt=fx(Qe),It=function s4(n){return"x"===n?"y":"x"}(wt),Ot=t.modifiersData.popperOffsets,Dn=t.rects.reference,xn=t.rects.popper,Ii="function"==typeof te?te(Object.assign({},t.rects,{placement:t.placement})):te,Di="number"==typeof Ii?{mainAxis:Ii,altAxis:Ii}:Object.assign({mainAxis:0,altAxis:0},Ii),ii=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Ga={x:0,y:0};if(Ot){if(o){var Ds,fp="y"===wt?yo:vo,pp="y"===wt?Va:Ba,wo="y"===wt?"height":"width",$a=Ot[wt],X1=$a+de[fp],gp=$a-de[pp],eD=P?-xn[wo]/2:0,Bx=tt===b_?Dn[wo]:xn[wo],fE=tt===b_?-xn[wo]:-Dn[wo],tD=t.elements.arrow,M_=P&&tD?gx(tD):{width:0,height:0},Ld=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},pE=Ld[fp],nD=Ld[pp],mp=tE(0,Dn[wo],M_[wo]),Ux=yt?Dn[wo]/2-eD-mp-pE-Di.mainAxis:Bx-mp-pE-Di.mainAxis,GK=yt?-Dn[wo]/2+eD+mp+nD+Di.mainAxis:fE+mp+nD+Di.mainAxis,Gx=t.elements.arrow&&eE(t.elements.arrow),RG=null!=(Ds=ii?.[wt])?Ds:0,HK=$a+GK-RG,MG=tE(P?k1(X1,$a+Ux-RG-(Gx?"y"===wt?Gx.clientTop||0:Gx.clientLeft||0:0)):X1,$a,P?rp(gp,HK):gp);Ot[wt]=MG,Ga[wt]=MG-$a}if(h){var xG,_p=Ot[It],rD="y"===It?"height":"width",PG=_p+de["x"===wt?yo:vo],kG=_p-de["x"===wt?Va:Ba],$x=-1!==[yo,vo].indexOf(Qe),FG=null!=(xG=ii?.[It])?xG:0,LG=$x?PG:_p-Dn[rD]-xn[rD]-FG+Di.altAxis,VG=$x?_p+Dn[rD]+xn[rD]-FG-Di.altAxis:kG,BG=P&&$x?function o4(n,t,e){var r=tE(n,t,e);return r>e?e:r}(LG,_p,VG):tE(P?LG:PG,_p,P?VG:kG);Ot[It]=BG,Ga[It]=BG-_p}t.modifiersData[r]=Ga}},requiresIfExists:["offset"]};const h4={name:"arrow",enabled:!0,phase:"main",fn:function u4(n){var t,e=n.state,r=n.name,i=n.options,o=e.elements.arrow,u=e.modifiersData.popperOffsets,h=Ll(e.placement),p=fx(h),E=[vo,Ba].indexOf(h)>=0?"height":"width";if(o&&u){var I=function(t,e){return tU("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:nU(t,Kb))}(i.padding,e),O=gx(o),P="y"===p?yo:vo,W="y"===p?Va:Ba,te=e.rects.reference[E]+e.rects.reference[p]-u[p]-e.rects.popper[E],de=u[p]-e.rects.reference[p],Qe=eE(o),tt=Qe?"y"===p?Qe.clientHeight||0:Qe.clientWidth||0:0,Ot=tt/2-O[E]/2+(te/2-de/2),Dn=tE(I[P],Ot,tt-O[E]-I[W]);e.modifiersData[r]=((t={})[p]=Dn,t.centerOffset=Dn-Ot,t)}},effect:function d4(n){var t=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=t.elements.popper.querySelector(i))||JB(t.elements.popper,i)&&(t.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function m4(n,t,e){void 0===e&&(e=!1);var r=na(t),i=na(t)&&function g4(n){var t=n.getBoundingClientRect(),e=E_(t.width)/n.offsetWidth||1,r=E_(t.height)/n.offsetHeight||1;return 1!==e||1!==r}(t),o=Pd(t),u=w_(n,i,e),h={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(r||!r&&!e)&&(("body"!==Vl(t)||dx(o))&&(h=function p4(n){return n!==bo(n)&&na(n)?function f4(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):cx(n)}(t)),na(t)?((p=w_(t,!0)).x+=t.clientLeft,p.y+=t.clientTop):o&&(p.x=ux(o))),{x:u.left+h.scrollLeft-p.x,y:u.top+h.scrollTop-p.y,width:u.width,height:u.height}}function _4(n){var t=new Map,e=new Set,r=[];function i(o){e.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(h){if(!e.has(h)){var p=t.get(h);p&&i(p)}}),r.push(o)}return n.forEach(function(o){t.set(o.name,o)}),n.forEach(function(o){e.has(o.name)||i(o)}),r}function v4(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var rU={placement:"bottom",modifiers:[],strategy:"absolute"};function iU(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function E4(n){void 0===n&&(n={});var e=n.defaultModifiers,r=void 0===e?[]:e,i=n.defaultOptions,o=void 0===i?rU:i;return function(h,p,y){void 0===y&&(y=o);var E={placement:"bottom",orderedModifiers:[],options:Object.assign({},rU,o),modifiersData:{},elements:{reference:h,popper:p},attributes:{},styles:{}},I=[],O=!1,P={state:E,setOptions:function(Qe){var tt="function"==typeof Qe?Qe(E.options):Qe;te(),E.options=Object.assign({},o,E.options,tt),E.scrollParents={reference:np(h)?Xb(h):h.contextElement?Xb(h.contextElement):[],popper:Xb(p)};var yt=function y4(n){var t=_4(n);return qW.reduce(function(e,r){return e.concat(t.filter(function(i){return i.phase===r}))},[])}(function b4(n){var t=n.reduce(function(e,r){var i=e[r.name];return e[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,E.options.modifiers)));return E.orderedModifiers=yt.filter(function(ii){return ii.enabled}),function W(){E.orderedModifiers.forEach(function(de){var tt=de.options,wt=de.effect;if("function"==typeof wt){var It=wt({state:E,name:de.name,instance:P,options:void 0===tt?{}:tt});I.push(It||function(){})}})}(),P.update()},forceUpdate:function(){if(!O){var Qe=E.elements,tt=Qe.reference,yt=Qe.popper;if(iU(tt,yt)){E.rects={reference:m4(tt,eE(yt),"fixed"===E.options.strategy),popper:gx(yt)},E.reset=!1,E.placement=E.options.placement,E.orderedModifiers.forEach(function(ii){return E.modifiersData[ii.name]=Object.assign({},ii.data)});for(var It=0;It<E.orderedModifiers.length;It++)if(!0!==E.reset){var Ot=E.orderedModifiers[It],Dn=Ot.fn,xn=Ot.options;"function"==typeof Dn&&(E=Dn({state:E,options:void 0===xn?{}:xn,name:Ot.name,instance:P})||E)}else E.reset=!1,It=-1}}},update:v4(function(){return new Promise(function(de){P.forceUpdate(),de(E)})}),destroy:function(){te(),O=!0}};if(!iU(h,p))return P;function te(){I.forEach(function(de){return de()}),I=[]}return P.setOptions(y).then(function(de){!O&&y.onFirstUpdate&&y.onFirstUpdate(de)}),P}}var L1={passive:!0};const C4={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function w4(n){var t=n.state,e=n.instance,r=n.options,i=r.scroll,o=void 0===i||i,u=r.resize,h=void 0===u||u,p=bo(t.elements.popper),y=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&y.forEach(function(E){E.addEventListener("scroll",e.update,L1)}),h&&p.addEventListener("resize",e.update,L1),function(){o&&y.forEach(function(E){E.removeEventListener("scroll",e.update,L1)}),h&&p.removeEventListener("resize",e.update,L1)}},data:{}},I4={name:"popperOffsets",enabled:!0,phase:"read",fn:function T4(n){var t=n.state;t.modifiersData[n.name]=XB({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var D4={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sU(n){var t,e=n.popper,r=n.popperRect,i=n.placement,o=n.variation,u=n.offsets,h=n.position,p=n.gpuAcceleration,y=n.adaptive,E=n.roundOffsets,I=n.isFixed,O=u.x,P=void 0===O?0:O,W=u.y,te=void 0===W?0:W,de="function"==typeof E?E({x:P,y:te}):{x:P,y:te};P=de.x,te=de.y;var Qe=u.hasOwnProperty("x"),tt=u.hasOwnProperty("y"),yt=vo,wt=yo,It=window;if(y){var Ot=eE(e),Dn="clientHeight",xn="clientWidth";Ot===bo(e)&&"static"!==tu(Ot=Pd(e)).position&&"absolute"===h&&(Dn="scrollHeight",xn="scrollWidth"),(i===yo||(i===vo||i===Ba)&&o===Jb)&&(wt=Va,te-=(I&&Ot===It&&It.visualViewport?It.visualViewport.height:Ot[Dn])-r.height,te*=p?1:-1),i!==vo&&(i!==yo&&i!==Va||o!==Jb)||(yt=Ba,P-=(I&&Ot===It&&It.visualViewport?It.visualViewport.width:Ot[xn])-r.width,P*=p?1:-1)}var Ds,ii=Object.assign({position:h},y&&D4),Ga=!0===E?function S4(n,t){var r=n.y,i=t.devicePixelRatio||1;return{x:E_(n.x*i)/i||0,y:E_(r*i)/i||0}}({x:P,y:te},bo(e)):{x:P,y:te};return P=Ga.x,te=Ga.y,Object.assign({},ii,p?((Ds={})[wt]=tt?"0":"",Ds[yt]=Qe?"0":"",Ds.transform=(It.devicePixelRatio||1)<=1?"translate("+P+"px, "+te+"px)":"translate3d("+P+"px, "+te+"px, 0)",Ds):((t={})[wt]=tt?te+"px":"",t[yt]=Qe?P+"px":"",t.transform="",t))}const N4={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function A4(n){var t=n.state,e=n.options,r=e.gpuAcceleration,i=void 0===r||r,o=e.adaptive,u=void 0===o||o,h=e.roundOffsets,p=void 0===h||h,E={placement:Ll(t.placement),variation:C_(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,sU(Object.assign({},E,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:u,roundOffsets:p})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,sU(Object.assign({},E,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var M4=[C4,I4,N4,{name:"applyStyles",enabled:!0,phase:"write",fn:function O4(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];!na(o)||!Vl(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(u){var h=i[u];!1===h?o.removeAttribute(u):o.setAttribute(u,!0===h?"":h)}))})},effect:function R4(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},h=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:e[r]).reduce(function(p,y){return p[y]="",p},{});!na(i)||!Vl(i)||(Object.assign(i.style,h),Object.keys(o).forEach(function(p){i.removeAttribute(p)}))})}},requires:["computeStyles"]}],x4=E4({defaultModifiers:M4});const F4={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function k4(n){var t=n.state,r=n.name,i=n.options.offset,o=void 0===i?[0,0]:i,u=qB.reduce(function(E,I){return E[I]=function P4(n,t,e){var r=Ll(n),i=[vo,yo].indexOf(r)>=0?-1:1,o="function"==typeof e?e(Object.assign({},t,{placement:n})):e,u=o[0],h=o[1];return u=u||0,h=(h||0)*i,[vo,Ba].indexOf(r)>=0?{x:h,y:u}:{x:u,y:h}}(I,t.rects,o),E},{}),h=u[t.placement],y=h.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=h.x,t.modifiersData.popperOffsets.y+=y),t.modifiersData[r]=u}};function M5(n,t){1&n&&(s.TgZ(0,"span",9),s.SDv(1,10),s.qZA())}function x5(n,t){1&n&&(s.TgZ(0,"span",9),s.SDv(1,11),s.qZA())}function P5(n,t){1&n&&(s.TgZ(0,"span",9),s.SDv(1,12),s.qZA())}function k5(n,t){1&n&&(s.TgZ(0,"span",9),s.SDv(1,13),s.qZA())}function F5(n,t){1&n&&s._uU(0,"...")}function L5(n,t){1&n&&(s.TgZ(0,"span",15),s._uU(1,"(current)"),s.qZA())}function V5(n,t){if(1&n&&(s._uU(0),s.YNc(1,L5,2,0,"span",14)),2&n){const e=t.$implicit,r=t.currentPage;s.hij(" ",e," "),s.xp6(1),s.Q6J("ngIf",e===r)}}function B5(n,t){}const U5=function(n){return{disabled:!0,currentPage:n}};function G5(n,t){if(1&n&&(s.TgZ(0,"a",20),s.YNc(1,B5,0,0,"ng-template",8),s.qZA()),2&n){const e=s.oxw(2).$implicit,r=s.oxw(),i=s.MAs(9);s.xp6(1),s.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",s.VKq(2,U5,e))}}function $5(n,t){}const j5=function(n,t,e){return{disabled:n,$implicit:t,currentPage:e}};function H5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",21),s.NdJ("click",function(i){s.CHM(e);const o=s.oxw().$implicit;return s.oxw(2).selectPage(o),s.KtG(i.preventDefault())}),s.YNc(1,$5,0,0,"ng-template",8),s.qZA()}if(2&n){const e=s.oxw().$implicit,r=s.oxw(),i=r.disabled,o=r.$implicit,u=s.oxw(),h=s.MAs(11);s.uIk("tabindex",i?"-1":null)("aria-disabled",i?"true":null),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==u.tplNumber?null:u.tplNumber.templateRef)||h)("ngTemplateOutletContext",s.kEZ(4,j5,i,e,o))}}function z5(n,t){if(1&n&&(s.TgZ(0,"li",17),s.YNc(1,G5,2,4,"a",18),s.YNc(2,H5,2,8,"a",19),s.qZA()),2&n){const e=t.$implicit,r=s.oxw(),i=r.$implicit,o=r.disabled,u=s.oxw();s.ekj("active",e===i)("disabled",u.isEllipsis(e)||o),s.uIk("aria-current",e===i?"page":null),s.xp6(1),s.Q6J("ngIf",u.isEllipsis(e)),s.xp6(1),s.Q6J("ngIf",!u.isEllipsis(e))}}function W5(n,t){1&n&&s.YNc(0,z5,3,7,"li",16),2&n&&s.Q6J("ngForOf",t.pages)}function q5(n,t){}const mx=function(n,t){return{disabled:n,currentPage:t}};function Z5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",17)(1,"a",22),s.NdJ("click",function(i){return s.CHM(e),s.oxw().selectPage(1),s.KtG(i.preventDefault())}),s.YNc(2,q5,0,0,"ng-template",8),s.qZA()()}if(2&n){const e=s.oxw(),r=s.MAs(1);s.ekj("disabled",e.previousDisabled()),s.xp6(1),s.uIk("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==e.tplFirst?null:e.tplFirst.templateRef)||r)("ngTemplateOutletContext",s.WLB(6,mx,e.previousDisabled(),e.page))}}function Y5(n,t){}const K5=function(n){return{disabled:n}};function J5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",17)(1,"a",23),s.NdJ("click",function(i){s.CHM(e);const o=s.oxw();return o.selectPage(o.page-1),s.KtG(i.preventDefault())}),s.YNc(2,Y5,0,0,"ng-template",8),s.qZA()()}if(2&n){const e=s.oxw(),r=s.MAs(3);s.ekj("disabled",e.previousDisabled()),s.xp6(1),s.uIk("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==e.tplPrevious?null:e.tplPrevious.templateRef)||r)("ngTemplateOutletContext",s.VKq(6,K5,e.previousDisabled()))}}function Q5(n,t){}function X5(n,t){}function eq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",17)(1,"a",24),s.NdJ("click",function(i){s.CHM(e);const o=s.oxw();return o.selectPage(o.page+1),s.KtG(i.preventDefault())}),s.YNc(2,X5,0,0,"ng-template",8),s.qZA()()}if(2&n){const e=s.oxw(),r=s.MAs(5);s.ekj("disabled",e.nextDisabled()),s.xp6(1),s.uIk("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==e.tplNext?null:e.tplNext.templateRef)||r)("ngTemplateOutletContext",s.WLB(6,mx,e.nextDisabled(),e.page))}}function tq(n,t){}function nq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",17)(1,"a",25),s.NdJ("click",function(i){s.CHM(e);const o=s.oxw();return o.selectPage(o.pageCount),s.KtG(i.preventDefault())}),s.YNc(2,tq,0,0,"ng-template",8),s.qZA()()}if(2&n){const e=s.oxw(),r=s.MAs(7);s.ekj("disabled",e.nextDisabled()),s.xp6(1),s.uIk("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==e.tplLast?null:e.tplLast.templateRef)||r)("ngTemplateOutletContext",s.WLB(6,mx,e.nextDisabled(),e.page))}}const rq=function(n,t,e){return{$implicit:n,pages:t,disabled:e}};function Iq(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,r=s.oxw();s.Tol(r.highlightClass),s.xp6(1),s.Oqu(e)}}function Dq(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw().$implicit;s.Oqu(e)}}function Sq(n,t){if(1&n&&(s.YNc(0,Iq,2,3,"span",1),s.YNc(1,Dq,1,1,"ng-template",null,2,s.W1O)),2&n){const e=t.odd,r=s.MAs(2);s.Q6J("ngIf",e)("ngIfElse",r)}}function oU(n){return null!=n?`${n}`:""}function Wr(n){return!isNaN(function es(n){return parseInt(`${n}`,10)}(n))}function cU(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}var Bn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Bn||(Bn={})),Bn))();const z1=(n,t)=>!!t&&t.some(e=>e.contains(n)),CU=(n,t)=>!t||null!=function Rq(n,t){return!t||typeof n.closest>"u"?null:n.closest(t)}(n,t),w8=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),C8=n=>w8?()=>setTimeout(()=>n(),100):n;function TU(n,t,e,r,i,o,u,h){e&&n.runOutsideAngular(C8(()=>{const y=Qi(t,"keydown").pipe(zr(i),le(O=>O.which===Bn.Escape),(0,Tn.b)(O=>O.preventDefault())),E=Qi(t,"mousedown").pipe((0,G.U)(O=>{const P=O.target;return 2!==O.button&&!z1(P,u)&&("inside"===e?z1(P,o)&&CU(P,h):"outside"===e?!z1(P,o):CU(P,h)||!z1(P,o))}),zr(i)),I=Qi(t,"mouseup").pipe(w1(E),le(([O,P])=>P),function Pz(n,t=PM.z){const e=function kM(n=0,t,e=PM.P){let r=-1;return null!=t&&((0,Az.K)(t)?e=t:r=t),new K.y(i=>{let o=function Nz(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,t);return $V(()=>e)}(0),zr(i));UV([y.pipe((0,G.U)(O=>0)),I.pipe((0,G.U)(O=>1))]).subscribe(O=>n.run(()=>r(O)))}))}const IU=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");let T8=(()=>{class n{constructor(e){this._element=e.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I8=/\s+/,D8=/  +/gi,S8={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},N8=/^left/,O8=/^right/,R8=/^start/,M8=/^end/;function AU({placement:n,baseClass:t},e){let r=Array.isArray(n)?n:n.split(I8),o=r.findIndex(y=>"auto"===y);o>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(y){null==r.find(E=>-1!==E.search("^"+y))&&r.splice(o++,1,y)});const u=r.map(y=>function A8(n,t){const[e,r]=S8[n];return t&&r||e}(y,e.isRTL()));return{placement:u.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:y}){const E=new RegExp(t+"(-[a-z]+)*","gi"),I=y.elements.popper,O=y.placement;let P=I.className;P=P.replace(E,""),P+=` ${function x8(n,t){let[e,r]=t.split("-");const i=e.replace(N8,"start").replace(O8,"end");let o=[i];if(r){let u=r;("left"===e||"right"===e)&&(u=u.replace(R8,"top").replace(M8,"bottom")),o.push(`${i}-${u}`)}return n&&(o=o.map(u=>`${n}-${u}`)),o.join(" ")}(t,O)}`,P=P.trim().replace(D8," "),I.className=P}},i4,l4,h4,{enabled:!0,name:"flip",options:{fallbackPlacements:u}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function NU(n){return n}new Date(1882,10,12),new Date(2174,10,25);let z8=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ox=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),Rx=(()=>{class n{constructor(e,r){this.elementRef=e,this._renderer=r,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(e,r){2&e&&(s.Ikx("tabIndex",r.disabled?-1:0),s.ekj("disabled",r.disabled))},inputs:{disabled:"disabled"},standalone:!0}),n})(),Y1=(()=>{class n{constructor(e,r){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36((0,s.Gpc)(()=>O_)),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,r,i){if(1&e&&s.Suo(i,Rx,4),2&e){let o;s.iGM(o=s.CRH())&&(r.menuItems=o)}},hostVars:4,hostBindings:function(e,r){1&e&&s.NdJ("keydown.ArrowUp",function(o){return r.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return r.dropdown.onKeyDown(o)})("keydown.Home",function(o){return r.dropdown.onKeyDown(o)})("keydown.End",function(o){return r.dropdown.onKeyDown(o)})("keydown.Enter",function(o){return r.dropdown.onKeyDown(o)})("keydown.Space",function(o){return r.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return r.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return r.dropdown.onKeyDown(o)}),2&e&&s.ekj("dropdown-menu",!0)("show",r.dropdown.isOpen())},standalone:!0}),n})(),K1=(()=>{class n{constructor(e,r){this.dropdown=e,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36((0,s.Gpc)(()=>O_)),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,r){2&e&&s.uIk("aria-expanded",r.dropdown.isOpen())},standalone:!0}),n})(),Mx=(()=>{class n extends K1{constructor(e,r){super(e,r)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36((0,s.Gpc)(()=>O_)),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,r){1&e&&s.NdJ("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(o){return r.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return r.dropdown.onKeyDown(o)})("keydown.Home",function(o){return r.dropdown.onKeyDown(o)})("keydown.End",function(o){return r.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return r.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return r.dropdown.onKeyDown(o)}),2&e&&s.uIk("aria-expanded",r.dropdown.isOpen())},standalone:!0,features:[s._Bn([{provide:K1,useExisting:(0,s.Gpc)(()=>n)}]),s.qOj]}),n})(),O_=(()=>{class n{constructor(e,r,i,o,u,h,p){this._changeDetector=e,this._document=i,this._ngZone=o,this._elementRef=u,this._renderer=h,this._destroyCloseHandlers$=new Ce.x,this._bodyContainer=null,this._open=!1,this.openChange=new s.vpe,this.placement=r.placement,this.popperOptions=r.popperOptions,this.container=r.container,this.autoClose=r.autoClose,this._positioning=function OU(){const n=(0,s.f3M)(T8);let t=null;return{createPopper(e){if(!t){let i=(e.updatePopperOptions||NU)(AU(e,n));t=x4(e.hostElement,e.targetElement,i)}},update(){t&&t.update()},setOptions(e){if(t){let i=(e.updatePopperOptions||NU)(AU(e,n));t.setOptions(i)}},destroy(){t&&(t.destroy(),t=null)}}}(),this.display=p?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe(Cr(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),e.dropdownClass){const{currentValue:r,previousValue:i}=e.dropdownClass;this._applyCustomDropdownClass(r,i)}e.autoClose&&this._open&&(this.autoClose=e.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:e=>this.popperOptions(function MU(n){return t=>(t.modifiers.push(F4,{name:"offset",options:{offset:()=>n}}),t)}([0,2])(e))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),TU(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(e){const r=e.which,i=this._getMenuElements();let o=-1,u=null;const h=this._isEventFromToggle(e);if(!h&&i.length&&i.forEach((p,y)=>{p.contains(e.target)&&(u=p),p===this._document.activeElement&&(o=y)}),r!==Bn.Space&&r!==Bn.Enter){if(r!==Bn.Tab){if(h||u){if(this.open(),i.length){switch(r){case Bn.ArrowDown:o=Math.min(o+1,i.length-1);break;case Bn.ArrowUp:if(this._isDropup()&&-1===o){o=i.length-1;break}o=Math.max(o-1,0);break;case Bn.Home:o=0;break;case Bn.End:o=i.length-1}i[o].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const p=this._menu.nativeElement.querySelectorAll(IU);e.shiftKey&&e.target===p[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===p[p.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Qi(e.target,"focusout").pipe(Cr(1)).subscribe(({relatedTarget:p})=>{this._elementRef.nativeElement.contains(p)||this.close()})}}else u&&(!0===this.autoClose||"inside"===this.autoClose)&&Qi(u,"click").pipe(Cr(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(r=>!r.disabled).map(r=>r.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;this._menu&&e.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const r=this._renderer,i=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||r.createElement("div");r.setStyle(o,"position","absolute"),r.setStyle(i,"position","static"),r.setStyle(o,"z-index","1055"),r.appendChild(o,i),r.appendChild(this._document.body,o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,r){const i="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;i&&(r&&this._renderer.removeClass(i,r),e&&this._renderer.addClass(i,e))}_applyPlacementClasses(e){const r=this._menu;if(r){e||(e=this._getFirstPlacement(this.placement));const i=this._renderer,o=this._elementRef.nativeElement;i.removeClass(o,"dropup"),i.removeClass(o,"dropdown");const{nativeElement:u}=r;"static"===this.display?(r.placement=null,i.setAttribute(u,"data-bs-popper","static")):(r.placement=e,i.removeAttribute(u,"data-bs-popper"));const h=-1!==e.search("^top")?"dropup":"dropdown";i.addClass(o,h);const p=this._bodyContainer;p&&(i.removeClass(p,"dropup"),i.removeClass(p,"dropdown"),i.addClass(p,h))}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(z8),s.Y36(zt),s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Ox,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(e,r,i){if(1&e&&(s.Suo(i,Y1,5),s.Suo(i,K1,5)),2&e){let o;s.iGM(o=s.CRH())&&(r._menu=o.first),s.iGM(o=s.CRH())&&(r._anchor=o.first)}},hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[s.TTD]}),n})(),xx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),lZ=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jU=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),HU=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),zU=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),WU=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),qU=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),ZU=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),YU=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),kx=(()=>{class n{constructor(e){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new s.vpe(!0),this.disabled=e.disabled,this.boundaryLinks=e.boundaryLinks,this.directionLinks=e.directionLinks,this.ellipses=e.ellipses,this.maxSize=e.maxSize,this.pageSize=e.pageSize,this.rotate=e.rotate,this.size=e.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(e){this._updatePages(e)}ngOnChanges(e){this._updatePages(this.page)}isEllipsis(e){return-1===e}_applyEllipses(e,r){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let e=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?e=this.pageCount-this.maxSize:(e=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[e,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(e){const r=this.page;this.page=function B1(n,t,e=0){return Math.max(Math.min(n,t),e)}(e,this.pageCount,1),this.page!==r&&Wr(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Wr(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(lZ))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(e,r,i){if(1&e&&(s.Suo(i,jU,5),s.Suo(i,HU,5),s.Suo(i,zU,5),s.Suo(i,WU,5),s.Suo(i,qU,5),s.Suo(i,ZU,5),s.Suo(i,YU,5)),2&e){let o;s.iGM(o=s.CRH())&&(r.tplEllipsis=o.first),s.iGM(o=s.CRH())&&(r.tplFirst=o.first),s.iGM(o=s.CRH())&&(r.tplLast=o.first),s.iGM(o=s.CRH())&&(r.tplNext=o.first),s.iGM(o=s.CRH())&&(r.tplNumber=o.first),s.iGM(o=s.CRH())&&(r.tplPrevious=o.first),s.iGM(o=s.CRH())&&(r.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[s.TTD,s.jDz],decls:20,vars:12,consts:function(){let t,e,r,i,o,u,h,p;return t=$localize`:@@ngb.pagination.first:««`,e=$localize`:@@ngb.pagination.previous:«`,r=$localize`:@@ngb.pagination.next:»`,i=$localize`:@@ngb.pagination.last:»»`,o=$localize`:@@ngb.pagination.first-aria:First`,u=$localize`:@@ngb.pagination.previous-aria:Previous`,h=$localize`:@@ngb.pagination.next-aria:Next`,p=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],t,e,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",u,"href","",1,"page-link",3,"click"],["aria-label",h,"href","",1,"page-link",3,"click"],["aria-label",p,"href","",1,"page-link",3,"click"]]},template:function(e,r){if(1&e&&(s.YNc(0,M5,2,0,"ng-template",null,0,s.W1O),s.YNc(2,x5,2,0,"ng-template",null,1,s.W1O),s.YNc(4,P5,2,0,"ng-template",null,2,s.W1O),s.YNc(6,k5,2,0,"ng-template",null,3,s.W1O),s.YNc(8,F5,1,0,"ng-template",null,4,s.W1O),s.YNc(10,V5,2,2,"ng-template",null,5,s.W1O),s.YNc(12,W5,1,1,"ng-template",null,6,s.W1O),s.TgZ(14,"ul"),s.YNc(15,Z5,3,9,"li",7),s.YNc(16,J5,3,8,"li",7),s.YNc(17,Q5,0,0,"ng-template",8),s.YNc(18,eq,3,9,"li",7),s.YNc(19,nq,3,9,"li",7),s.qZA()),2&e){const i=s.MAs(13);s.xp6(14),s.Tol("pagination"+(r.size?" pagination-"+r.size:"")),s.xp6(1),s.Q6J("ngIf",r.boundaryLinks),s.xp6(1),s.Q6J("ngIf",r.directionLinks),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",s.kEZ(8,rq,r.page,r.pages,r.disabled)),s.xp6(1),s.Q6J("ngIf",r.directionLinks),s.xp6(1),s.Q6J("ngIf",r.boundaryLinks)}},dependencies:[Oe,k,ai],encapsulation:2,changeDetection:0}),n})(),KU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[kx]}),n})(),FZ=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(e){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=oU(this.result),i=Array.isArray(this.term)?this.term:[this.term],o=y=>this.accentSensitive?y:cU(y),u=i.map(y=>function Oq(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(o(oU(y)))).filter(y=>y),h=this.accentSensitive?r:cU(r),p=u.length?h.split(new RegExp(`(${u.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=p;else{let y=0;this.parts=p.map(E=>r.substring(y,y+=E.length))}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[s.TTD,s.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(e,r){1&e&&s.YNc(0,Sq,3,2,"ng-template",0),2&e&&s.Q6J("ngForOf",r.parts)},dependencies:[Oe,k],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new s.OlP("live announcer delay",{providedIn:"root",factory:function LZ(){return 100}});let tG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[FZ]}),n})();var VZ=L(9260),Q1=L(5363),BZ=L(6063);class UZ extends Ce.x{constructor(t=1/0,e=1/0,r=BZ.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:u}=this;e||(r.push(t),!i&&r.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let u=0;u<o.length&&!t.closed;u+=r?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const u=e.now();let h=0;for(let p=1;p<r.length&&r[p]<=u;p+=2)h=p;h&&r.splice(0,h+1)}}}var nG=L(3099);function rG(n,t,e){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=n):r=n??1/0,(0,nG.B)({connector:()=>new UZ(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function iG(n,t){return(0,pn.m)(t)?H(()=>n,t):H(()=>n)}var Fx=L(9468);const sG=new s.OlP("angularfire2.auth.use-emulator"),oG=new s.OlP("angularfire2.auth.settings"),aG=new s.OlP("angularfire2.auth.tenant-id"),lG=new s.OlP("angularfire2.auth.langugage-code"),cG=new s.OlP("angularfire2.auth.use-device-language"),uG=new s.OlP("angularfire.auth.persistence"),dG=(n,t,e,r,i,o,u,h)=>(0,Vs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),r&&(p.tenantId=r),p.languageCode=i,o&&p.useDeviceLanguage(),u)for(const[y,E]of Object.entries(u))p.settings[y]=E;return h&&p.setPersistence(h),p},[e,r,i,o,u,h]);let Lx=(()=>{class n{constructor(e,r,i,o,u,h,p,y,E,I,O,P){const W=new Ce.x,te=Y(void 0).pipe((0,Q1.Q)(u.outsideAngular),H(()=>o.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,G.U)(()=>(0,Vs.on)(e,o,r)),(0,G.U)(de=>dG(de,o,h,y,E,I,p,O)),rG({bufferSize:1,refCount:!1}));if(gu(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Y(null);else{te.pipe(Po()).subscribe();const Qe=te.pipe(H(wt=>wt.getRedirectResult().then(It=>It,()=>null)),B.iC,rG({bufferSize:1,refCount:!1})),tt=te.pipe(H(wt=>new K.y(It=>({unsubscribe:o.runOutsideAngular(()=>wt.onAuthStateChanged(Ot=>It.next(Ot),Ot=>It.error(Ot),()=>It.complete()))})))),yt=te.pipe(H(wt=>new K.y(It=>({unsubscribe:o.runOutsideAngular(()=>wt.onIdTokenChanged(Ot=>It.next(Ot),Ot=>It.error(Ot),()=>It.complete()))}))));this.authState=Qe.pipe(iG(tt),(0,Fx.R)(u.outsideAngular),(0,Q1.Q)(u.insideAngular)),this.user=Qe.pipe(iG(yt),(0,Fx.R)(u.outsideAngular),(0,Q1.Q)(u.insideAngular)),this.idToken=this.user.pipe(H(wt=>wt?(0,X.D)(wt.getIdToken()):Y(null))),this.idTokenResult=this.user.pipe(H(wt=>wt?(0,X.D)(wt.getIdTokenResult()):Y(null))),this.credential=(0,E1.T)(Qe,W,this.authState.pipe(le(wt=>!wt))).pipe((0,G.U)(wt=>wt?.user?wt:null),(0,Fx.R)(u.outsideAngular),(0,Q1.Q)(u.insideAngular))}return(0,Vs.pX)(this,te,o,{spy:{apply:(de,Qe,tt)=>{(de.startsWith("signIn")||de.startsWith("createUser"))&&tt.then(yt=>W.next(yt))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vs.Dh),s.LFG(Vs.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(B.HU),s.LFG(sG,8),s.LFG(oG,8),s.LFG(aG,8),s.LFG(lG,8),s.LFG(cG,8),s.LFG(uG,8),s.LFG(Mc,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();L(9568);var jZ=L(3942);const WZ=new vl.Yd("@firebase/database-compat"),hG=function(n){WZ.warn("FIREBASE WARNING: "+n)};class YZ{constructor(t){this._delegate=t}cancel(t){(0,$.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,$.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,$.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,$.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,$.Dv)("OnDisconnect.set",1,2,arguments.length),(0,$.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),i=>e(i)),r}setWithPriority(t,e,r){(0,$.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,$.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(t,e);return r&&i.then(()=>r(null),o=>r(o)),i}update(t,e){if((0,$.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,hG("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,$.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),i=>e(i)),r}}class KZ{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,$.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Fd{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,$.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,$.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,$.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,$.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,$.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Lm("DataSnapshot.child","path",t,!1),new Fd(this._database,this._delegate.child(t))}hasChild(t){return(0,$.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Lm("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,$.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,$.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,$.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Fd(this._database,e)))}hasChildren(){return(0,$.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,$.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,$.Dv)("DataSnapshot.ref",0,0,arguments.length),new Eo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ts{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,i){var o;(0,$.Dv)("Query.on",2,4,arguments.length),(0,$.Wj)("Query.on","callback",e,!1);const u=ts.getCancelAndContextArgs_("Query.on",r,i),h=(y,E)=>{e.call(u.context,new Fd(this.database,y),E)};h.userCallback=e,h.context=u.context;const p=null===(o=u.cancel)||void 0===o?void 0:o.bind(u.context);switch(t){case"value":return PN(this._delegate,h,p),e;case"child_added":return rk(this._delegate,h,p),e;case"child_removed":return ok(this._delegate,h,p),e;case"child_changed":return ik(this._delegate,h,p),e;case"child_moved":return sk(this._delegate,h,p),e;default:throw new Error((0,$.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,$.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,$.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,$.Wj)("Query.off","callback",e,!0),(0,$.lb)("Query.off","context",r,!0),e){const i=()=>{};i.userCallback=e,i.context=r,ak(this._delegate,t,i)}else ak(this._delegate,t)}get(){return KG(this._delegate).then(t=>new Fd(this.database,t))}once(t,e,r,i){(0,$.Dv)("Query.once",1,4,arguments.length),(0,$.Wj)("Query.once","callback",e,!0);const o=ts.getCancelAndContextArgs_("Query.once",r,i),u=new $.BH,h=(y,E)=>{const I=new Fd(this.database,y);e&&e.call(o.context,I,E),u.resolve(I)};h.userCallback=e,h.context=o.context;const p=y=>{o.cancel&&o.cancel.call(o.context,y),u.reject(y)};switch(t){case"value":PN(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":rk(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":ok(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":ik(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":sk(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,$.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(t){return(0,$.Dv)("Query.limitToFirst",1,1,arguments.length),new ts(this.database,Fa(this._delegate,function i$(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new r$(n)}(t)))}limitToLast(t){return(0,$.Dv)("Query.limitToLast",1,1,arguments.length),new ts(this.database,Fa(this._delegate,function o$(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new s$(n)}(t)))}orderByChild(t){return(0,$.Dv)("Query.orderByChild",1,1,arguments.length),new ts(this.database,Fa(this._delegate,function l$(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Lm("orderByChild","path",n,!1),new a$(n)}(t)))}orderByKey(){return(0,$.Dv)("Query.orderByKey",0,0,arguments.length),new ts(this.database,Fa(this._delegate,function u$(){return new c$}()))}orderByPriority(){return(0,$.Dv)("Query.orderByPriority",0,0,arguments.length),new ts(this.database,Fa(this._delegate,function h$(){return new d$}()))}orderByValue(){return(0,$.Dv)("Query.orderByValue",0,0,arguments.length),new ts(this.database,Fa(this._delegate,function p$(){return new f$}()))}startAt(t=null,e){return(0,$.Dv)("Query.startAt",0,2,arguments.length),new ts(this.database,Fa(this._delegate,function e$(n=null,t){return Fm("startAt","key",t,!0),new ck(n,t)}(t,e)))}startAfter(t=null,e){return(0,$.Dv)("Query.startAfter",0,2,arguments.length),new ts(this.database,Fa(this._delegate,function n$(n,t){return Fm("startAfter","key",t,!0),new t$(n,t)}(t,e)))}endAt(t=null,e){return(0,$.Dv)("Query.endAt",0,2,arguments.length),new ts(this.database,Fa(this._delegate,function JG(n,t){return Fm("endAt","key",t,!0),new lk(n,t)}(t,e)))}endBefore(t=null,e){return(0,$.Dv)("Query.endBefore",0,2,arguments.length),new ts(this.database,Fa(this._delegate,function XG(n,t){return Fm("endBefore","key",t,!0),new QG(n,t)}(t,e)))}equalTo(t,e){return(0,$.Dv)("Query.equalTo",1,2,arguments.length),new ts(this.database,Fa(this._delegate,function m$(n,t){return Fm("equalTo","key",t,!0),new g$(n,t)}(t,e)))}toString(){return(0,$.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,$.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,$.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ts))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const i={cancel:void 0,context:void 0};if(e&&r)i.cancel=e,(0,$.Wj)(t,"cancel",i.cancel,!0),i.context=r,(0,$.lb)(t,"context",i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error((0,$.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=e}return i}get ref(){return new Eo(this.database,new ta(this._delegate._repo,this._delegate._path))}}class Eo extends ts{constructor(t,e){super(t,new Es(e._repo,e._path,new sm,!1)),this.database=t,this._delegate=e}getKey(){return(0,$.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,$.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Eo(this.database,Af(this._delegate,t))}getParent(){(0,$.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Eo(this.database,t):null}getRoot(){return(0,$.Dv)("Reference.root",0,0,arguments.length),new Eo(this.database,this._delegate.root)}set(t,e){(0,$.Dv)("Reference.set",1,2,arguments.length),(0,$.Wj)("Reference.set","onComplete",e,!0);const r=xN(this._delegate,t);return e&&r.then(()=>e(null),i=>e(i)),r}update(t,e){if((0,$.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,hG("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}$s("Reference.update",this._delegate._path),(0,$.Wj)("Reference.update","onComplete",e,!0);const r=YG(this._delegate,t);return e&&r.then(()=>e(null),i=>e(i)),r}setWithPriority(t,e,r){(0,$.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,$.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function ZG(n,t,e){if($s("setWithPriority",n._path),Gs("setWithPriority",t,n._path,!1),$T("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new $.BH;return k0(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&i.then(()=>r(null),o=>r(o)),i}remove(t){(0,$.Dv)("Reference.remove",0,1,arguments.length),(0,$.Wj)("Reference.remove","onComplete",t,!0);const e=function WG(n){return $s("remove",n._path),xN(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,$.Dv)("Reference.transaction",1,3,arguments.length),(0,$.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,$.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,$.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function P$(n,t,e){var r;if(n=(0,$.m9)(n),$s("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=e?.applyLocally)||void 0===r||r,o=new $.BH,h=PN(n,()=>{});return function l(n,t,e,r,i,o){Df(n,"transaction on "+t);const u={path:t,update:e,onComplete:r,status:null,order:pC(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=c(n,t,void 0);u.currentInputSnapshot=h;const p=u.update(h.val());if(void 0===p)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{qc("transaction failed: Data returned ",p,u.path),u.status=0;const y=xm(n.transactionQueueTree_,t),E=Wc(y)||[];let I;E.push(u),S0(y,E),"object"==typeof p&&null!==p&&(0,$.r3)(p,".priority")?(I=(0,$.DV)(p,".priority"),(0,$.hu)(If(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=(E0(n.serverSyncTree_,t)||dn.EMPTY_NODE).getPriority().val();const O=Zc(n),P=Tr(p,I),W=BT(P,h,O);u.currentOutputSnapshotRaw=P,u.currentOutputSnapshotResolved=W,u.currentWriteId=P0(n);const te=Sm(n.serverSyncTree_,t,W,u.currentWriteId,u.applyLocally);fs(n.eventQueue_,t,te),d(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,y,E)=>{let I=null;p?o.reject(p):(I=new Sf(E,new ta(n._repo,n._path),ir),o.resolve(new x$(y,I)))},h,i),o.promise}(this._delegate,t,{applyLocally:r}).then(o=>new KZ(o.committed,new Fd(this.database,o.snapshot)));return e&&i.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),i}setPriority(t,e){(0,$.Dv)("Reference.setPriority",1,2,arguments.length),(0,$.Wj)("Reference.setPriority","onComplete",e,!0);const r=function qG(n,t){n=(0,$.m9)(n),$s("setPriority",n._path),$T("setPriority",t,!1);const e=new $.BH;return k0(n._repo,vr(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),i=>e(i)),r}push(t,e){(0,$.Dv)("Reference.push",0,2,arguments.length),(0,$.Wj)("Reference.push","onComplete",e,!0);const r=function zG(n,t){n=(0,$.m9)(n),$s("push",n._path),Gs("push",t,n._path,!0);const e=x0(n._repo),r=jt(e),i=Af(n,r),o=Af(n,r);let u;return u=null!=t?xN(o,t).then(()=>o):Promise.resolve(o),i.then=u.then.bind(u),i.catch=u.then.bind(u,void 0),i}(this._delegate,t),i=r.then(u=>new Eo(this.database,u));e&&i.then(()=>e(null),u=>e(u));const o=new Eo(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return $s("Reference.onDisconnect",this._delegate._path),new YZ(new Ar(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class lE{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:C$,forceLongPolling:T$}}useEmulator(t,e,r={}){fk(this._delegate,t,e,r)}ref(t){if((0,$.Dv)("database.ref",0,1,arguments.length),t instanceof Eo){const e=nk(this._delegate,t.toString());return new Eo(this,e)}{const e=tk(this._delegate,t);return new Eo(this,e)}}refFromURL(t){(0,$.Dv)("database.refFromURL",1,1,arguments.length);const r=nk(this._delegate,t);return new Eo(this,r)}goOffline(){return(0,$.Dv)("database.goOffline",0,0,arguments.length),function D$(n){(n=(0,$.m9)(n))._checkNotDeleted("goOffline"),RN(n._repo)}(this._delegate)}goOnline(){return(0,$.Dv)("database.goOnline",0,0,arguments.length),function S$(n){(n=(0,$.m9)(n))._checkNotDeleted("goOnline"),function MN(n){n.persistentConnection_&&n.persistentConnection_.resume(zT)}(n._repo)}(this._delegate)}}lE.ServerValue={TIMESTAMP:function R$(){return O$}(),increment:n=>function M$(n){return{".sv":{increment:n}}}(n)};var QZ=Object.freeze({__proto__:null,initStandalone:function JZ({app:n,url:t,version:e,customAuthImpl:r,namespace:i,nodeAdmin:o=!1}){kv(e);const u=new Ca.zt("auth-internal",new Ca.H0("database-standalone"));return u.setComponent(new Ca.wA("auth-internal",()=>r,"PRIVATE")),{instance:new lE(dk(n,u,void 0,t,o),n),namespace:i}}});const XZ=lE.ServerValue;function fG(n){return null==n}function pG(n){return"function"==typeof n.set}function gG(n,t){return pG(t)?t:n.ref(t)}function mG(n,t){if(function tY(n){return"string"==typeof n}(n))return t.stringCase();if(pG(n))return t.firebaseCase();if(function nY(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function cE(n,t,e="on",r=PM.z){return new K.y(i=>{let o=null;return o=n[e](t,(u,h)=>{r.schedule(()=>{i.next({snapshot:u,prevKey:h})}),"once"===e&&r.schedule(()=>i.complete())},u=>{r.schedule(()=>i.error(u))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,G.U)(i=>{const{snapshot:o,prevKey:u}=i;let h=null;return o.exists()&&(h=o.key),{type:t,payload:o,prevKey:u,key:h}}),(0,nG.B)())}function _G(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function sY(n,t){const{payload:e,prevKey:r,key:i}=t,o=_G(n,i),u=function iY(n,t){if(fG(t))return 0;{const e=_G(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let h=null;t.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,y],!1})}return n;case"child_added":if(o>-1){const h=n[o-1];(h&&h.key||null)!==r&&(n=n.filter(p=>p.payload.key!==e.key)).splice(u,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(u,0,t)}return n;case"child_removed":return n.filter(h=>h.payload.key!==e.key);case"child_changed":return n.map(h=>h.payload.key===i?t:h);case"child_moved":if(o>-1){const h=n.splice(o,1)[0];return(n=n.slice()).splice(u,0,h),n}return n;default:return n}}function yG(n){return(fG(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function vG(n,t,e){return function rY(n,t,e){return cE(n,"value","once",e).pipe(H(r=>{const i=[Y(r)];return t.forEach(o=>i.push(cE(n,o,"on",e))),(0,E1.T)(...i).pipe(il(sY,[]))}),ye())}(n,t=yG(t),e)}function bG(n,t,e){const r=(t=yG(t)).map(i=>cE(n,i,"on",e));return(0,E1.T)(...r)}function EG(n,t){return function(r,i){return mG(r,{stringCase:()=>n.child(r)[t](i),firebaseCase:()=>r[t](i),snapshotCase:()=>r.ref[t](i)})}}function cY(n){return function(e){return e?mG(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function wG(n,t){return function(){return cE(n,"value","on",t)}}!function eY(n){n.INTERNAL.registerComponent(new Ca.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:e});return new lE(i,r)},"PUBLIC").setServiceProps({Reference:Eo,Query:ts,Database:lE,DataSnapshot:Fd,enableLogging:A$,INTERNAL:QZ,ServerValue:XZ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(jZ.Z);const hY=new s.OlP("angularfire2.realtimeDatabaseURL"),fY=new s.OlP("angularfire2.database.use-emulator");let uE=(()=>{class n{constructor(e,r,i,o,u,h,p,y,E,I,O,P,W,te,de){this.schedulers=h;const Qe=p,tt=(0,Vs.on)(e,u,r);y&&dG(tt,u,E,O,P,W,I,te),this.database=(0,Vs.cc)(`${tt.name}.database.${i}`,"AngularFireDatabase",tt.name,()=>{const yt=u.runOutsideAngular(()=>tt.database(i||void 0));return Qe&&yt.useEmulator(...Qe),yt},[Qe])}list(e,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>gG(this.database,e));let o=i;return r&&(o=r(i)),function uY(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:EG(r,"update"),set:EG(r,"set"),push:i=>r.push(i),remove:cY(r),snapshotChanges:i=>vG(n,i,e).pipe(B.iC),stateChanges:i=>bG(n,i,e).pipe(B.iC),auditTrail:i=>function oY(n,t,e){return function lY(n,t,e){return function aY(n,t){return cE(n,"value","on",t).pipe((0,G.U)(e=>{let r;return e.payload.forEach(i=>(r=i.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(w1(t),(0,G.U)(([i,o])=>{const u=i.lastKeyToLoad,h=o.map(p=>p.key);return{actions:o,lastKeyToLoad:u,loadedKeys:h}}),function $Z(n){return(0,ce.e)((t,e)=>{let r=!1,i=0;t.subscribe((0,ue.x)(e,o=>(r||(r=!n(o,i++)))&&e.next(o)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,G.U)(i=>i.actions))}(n,bG(n,t).pipe(il((i,o)=>[...i,o],[])),e)}(n,i,e).pipe(B.iC),valueChanges:(i,o)=>vG(n,i,e).pipe((0,G.U)(h=>h.map(p=>o&&o.idField?Object.assign(Object.assign({},p.payload.val()),{[o.idField]:p.key}):p.payload.val())),B.iC)}}(o,this)}object(e){return function dY(n,t){return{query:n,snapshotChanges:()=>wG(n,t.schedulers.outsideAngular)().pipe(B.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>wG(n,t.schedulers.outsideAngular)().pipe(B.iC,(0,G.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>gG(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vs.Dh),s.LFG(Vs.xv,8),s.LFG(hY,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(B.HU),s.LFG(fY,8),s.LFG(Lx,8),s.LFG(sG,8),s.LFG(oG,8),s.LFG(aG,8),s.LFG(lG,8),s.LFG(cG,8),s.LFG(uG,8),s.LFG(Mc,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),CG=(()=>{class n{constructor(e){this.aFireDateBase=e}saveUserInfo(e){this.aFireDateBase.object(`/users/${e.uid}`).update({name:e.displayName,email:e.email})}getUser(e){return this.aFireDateBase.object(`/users/${e}`).valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dE=(()=>{class n{constructor(e,r,i,o){this.afAuth=e,this.route=r,this.ActiveRoute=i,this.userService=o,this.useInfoFromFB$=e.authState}login(){let e=this.ActiveRoute.snapshot.queryParamMap.get("wantedUrl")||"/";const r=new VZ.Z.auth.GoogleAuthProvider;this.afAuth.signInWithPopup(r).then(i=>{this.userService.saveUserInfo(i.user),this.route.navigateByUrl(e)})}logOut(){return this.afAuth.signOut().then(e=>this.route.navigateByUrl(""))}get appUser$(){return this.useInfoFromFB$.pipe(H(e=>e?this.userService.getUser(e?.uid):Y(null)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lx),s.LFG(li),s.LFG(co),s.LFG(CG))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pY{constructor(t,e){this.product=t,this.quantity=e}get totalPrice(){return this.product.price*this.quantity}}class gY{constructor(t){this.productsItems=t,this.productsInfoArr=[];for(let e in this.productsItems){let r=this.productsItems[e];this.productsInfoArr.push(this.shoppingCartItemIns(r.product,r.quantity))}}get totalPrice(){let t=0;for(let e in this.productsItems){let r=this.productsItems[e];t+=this.shoppingCartItemIns(r.product,r.quantity).totalPrice}return t}get totalItemCount(){let t=0;for(let e in this.productsItems)t+=this.productsItems[e].quantity;return t}getQuantity(t){if(!this.productsItems)return 0;let e=this.productsItems[t.key];return e?e.quantity:0}shoppingCartItemIns(t,e){return new pY(t,e)}}let hp=(()=>{class n{constructor(e){this.aFireDateBase=e}getCart(){var e=this;return(0,mr.Z)(function*(){let r=yield e.getOrCreateCartId();return e.aFireDateBase.object(`/shopping-carts/${r}`).valueChanges().pipe((0,G.U)(o=>new gY(o?.items)))})()}addToCart(e){var r=this;return(0,mr.Z)(function*(){r.AddOrRemoveToCart(e,1)})()}removeFromCart(e){var r=this;return(0,mr.Z)(function*(){r.AddOrRemoveToCart(e,-1)})()}AddOrRemoveToCart(e,r){var i=this;return(0,mr.Z)(function*(){let o=yield i.getOrCreateCartId(),u=i.getItemObj(o,e.key);u.valueChanges().pipe(Cr(1)).subscribe({next:p=>{let y=(p?.quantity||0)+r;0==y?i.deleteProductInCart(u):u.update({product:e,quantity:y})}})})()}getOrCreateCartId(){var e=this;return(0,mr.Z)(function*(){const r=localStorage.getItem("shoppingCartId");if(r)return r;let i=yield e.createShoppingCart();return localStorage.setItem("shoppingCartId",i.key),i.key})()}getItemObj(e,r){return this.aFireDateBase.object(`/shopping-carts/${e}/items/${r}`)}deleteCart(){var e=this;return(0,mr.Z)(function*(){let r=yield e.getOrCreateCartId();return e.aFireDateBase.object(`/shopping-carts/${r}/items`).remove()})()}deleteProductInCart(e){return e.remove()}createShoppingCart(){return this.aFireDateBase.list("/shopping-carts").push({createDataTime:(new Date).getTime()}).get()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mY(n,t){if(1&n&&(s.O4$(),s.kcU(),s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=t.ngIf;s.xp6(1),s.hij(" ",e.totalItemCount," ")}}function _Y(n,t){1&n&&(s.O4$(),s.kcU(),s.TgZ(0,"li",18)(1,"a",19),s._uU(2,"Login"),s.qZA()())}function yY(n,t){1&n&&(s.ynx(0),s.TgZ(1,"li")(2,"a",26),s._uU(3," Manage Orders "),s.qZA()(),s.TgZ(4,"li")(5,"a",27),s._uU(6," Manage Products "),s.qZA()(),s.BQk())}function vY(n,t){if(1&n){const e=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"li",20)(1,"a",21),s._uU(2),s.qZA(),s.TgZ(3,"ul",22)(4,"li")(5,"a",23),s._uU(6," My Orders "),s.qZA()(),s.YNc(7,yY,7,0,"ng-container",24),s.TgZ(8,"li")(9,"a",25),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.logOut())}),s._uU(10," Log Out "),s.qZA()()()()}if(2&n){const e=s.oxw();s.xp6(2),s.hij(" ",e.userInfo.name," "),s.xp6(5),s.Q6J("ngIf",e.userInfo.isAdmin)}}let bY=(()=>{class n{constructor(e,r){this.authService=e,this.shoppingCartSer=r}ngOnInit(){var e=this;return(0,mr.Z)(function*(){e.authService.appUser$.subscribe(r=>e.userInfo=r),e.cart$=yield e.shoppingCartSer.getCart()})()}logOut(){this.authService.logOut()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(dE),s.Y36(hp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["bs-navbar"]],standalone:!0,features:[s.jDz],decls:20,vars:5,consts:[[1,"navbar-component"],[1,"navbar","navbar-expand","navbar-light","fixed-top","bg-light"],[1,"container-xl","px-sm-3","px-md-5"],["routerLink","/",1,"navbar-brand","p-0","me-1","d-flex","justify-content-center","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-shop"],["d","M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z"],["type","button",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","w-100","justify-content-between","justify-content-md-start"],[1,"nav-item","ms-1"],["aria-current","page","routerLink","/shopping-cart",1,"nav-link","active"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-cart3"],["d","M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"],["class","badge rounded-pill text-bg-secondary",4,"ngIf"],["anonymousUser",""],["ngbDropdown","","class","nav-item dropdown",4,"ngIf","ngIfElse"],[1,"badge","rounded-pill","text-bg-secondary"],[1,"nav-item"],["aria-current","page","routerLink","/login",1,"nav-link","active"],["ngbDropdown","",1,"nav-item","dropdown"],["data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"nav-link","dropdown-toggle"],["ngbDropdownMenu","",1,"dropdown-menu","text-small","shadow"],["routerLink","my/orders",1,"dropdown-item"],[4,"ngIf"],[1,"dropdown-item",3,"click"],["routerLink","admin/orders",1,"dropdown-item"],["routerLink","admin/products",1,"dropdown-item"]],template:function(e,r){if(1&e&&(s.TgZ(0,"div",0)(1,"header")(2,"nav",1)(3,"div",2)(4,"a",3),s.O4$(),s.TgZ(5,"svg",4),s._UZ(6,"path",5),s.qZA()(),s.kcU(),s.TgZ(7,"button",6),s._UZ(8,"span",7),s.qZA(),s.TgZ(9,"div",8)(10,"ul",9)(11,"li",10)(12,"a",11),s.O4$(),s.TgZ(13,"svg",12),s._UZ(14,"path",13),s.qZA(),s.YNc(15,mY,2,1,"span",14),s.ALo(16,"async"),s.qZA()(),s.YNc(17,_Y,3,0,"ng-template",null,15,s.W1O),s.YNc(19,vY,11,2,"li",16),s.qZA()()()()()()),2&e){const i=s.MAs(18);s.xp6(15),s.Q6J("ngIf",s.lcZ(16,3,r.cart$)),s.xp6(4),s.Q6J("ngIf",r.userInfo)("ngIfElse",i)}},dependencies:[wr,Oe,ji,jo,wa,xx,O_,Mx,Y1,Ox],styles:[".navbar-component[_ngcontent-%COMP%]{margin-bottom:65px}.dropdown-toggle[_ngcontent-%COMP%]{cursor:pointer}"]}),n})(),EY=(()=>{class n{constructor(){this.title="organic-store"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["root"]],standalone:!0,features:[s.jDz],decls:3,vars:0,consts:[[1,"container-xl"]],template:function(e,r){1&e&&(s._UZ(0,"bs-navbar"),s.TgZ(1,"div",0),s._UZ(2,"router-outlet"),s.qZA())},dependencies:[wr,jo,ug,bY]}),n})(),hE=(()=>{class n{constructor(e,r,i){this.aFireDateBase=e,this.shoppingCartSer=r,this.authService=i}palaceOrder(e){var r=this;return(0,mr.Z)(function*(){let i=yield r.aFireDateBase.list("/orders").push(e).get();return r.shoppingCartSer.deleteCart(),i})()}getAllOrders(){return this.aFireDateBase.list("/orders").valueChanges()}getOrdersById(){return this.authService.useInfoFromFB$.pipe(H(e=>this.aFireDateBase.list("/orders",r=>r.orderByChild("userId").equalTo(e?.uid)).valueChanges()))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uE),s.LFG(hp),s.LFG(dE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wY(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td",5),s._UZ(2,"img",6),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td",7),s._uU(6),s.ALo(7,"currency"),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td",7),s._uU(11),s.ALo(12,"currency"),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Q6J("ngSrc",e.productInfo.imageUrl),s.xp6(2),s.hij(" ",e.productInfo.title," "),s.xp6(2),s.hij(" ",s.Dn7(7,5,e.productInfo.price,"USD","symbol")," "),s.xp6(3),s.hij(" ",e.productInfo.quantity," "),s.xp6(2),s.hij(" ",s.Dn7(12,9,e.productInfo.totalPrice,"USD","symbol")," ")}}function CY(n,t){if(1&n&&(s.TgZ(0,"table",3)(1,"thead")(2,"tr"),s._UZ(3,"th"),s.TgZ(4,"th"),s._uU(5,"Title"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Price"),s.qZA(),s.TgZ(8,"th"),s._uU(9,"Quantity"),s.qZA(),s.TgZ(10,"th"),s._uU(11,"total Price"),s.qZA()()(),s.TgZ(12,"tbody"),s.YNc(13,wY,13,13,"tr",4),s.qZA()()),2&n){const e=t.ngIf;s.xp6(13),s.Q6J("ngForOf",e.shippingInfo)}}function TY(n,t){1&n&&s._uU(0," Your order as coming... ")}let IY=(()=>{class n{constructor(e,r){this.orderService=e,this.route=r,this.wantedOrder$=e.getAllOrders().pipe((0,G.U)(i=>{let o=this.route.snapshot.paramMap.get("index");return i.find((u,h)=>o==h.toString())}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hE),s.Y36(co))},n.\u0275cmp=s.Xpm({type:n,selectors:[["admin-order-info"]],standalone:!0,features:[s.jDz],decls:7,vars:4,consts:[[1,"row","col-md-9","col-md-6"],["class","table",4,"ngIf","ngIfElse"],["orderLoading",""],[1,"table"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","align-items-center"],["alt","image description","width","60","height","60",1,"skeleton-bg","product-image",3,"ngSrc"],[1,"fw-bold"]],template:function(e,r){if(1&e&&(s.TgZ(0,"h1"),s._uU(1,"Order Info"),s.qZA(),s.TgZ(2,"div",0),s.YNc(3,CY,14,1,"table",1),s.ALo(4,"async"),s.YNc(5,TY,1,0,"ng-template",null,2,s.W1O),s.qZA()),2&e){const i=s.MAs(6);s.xp6(3),s.Q6J("ngIf",s.lcZ(4,2,r.wantedOrder$))("ngIfElse",i)}},dependencies:[wr,k,Oe,ji,Mi,Mo]}),n})();const DY=function(n){return["/admin/order/",n]};function SY(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.ALo(5,"date"),s.qZA(),s.TgZ(6,"td")(7,"a",4),s._uU(8,"View"),s.qZA()()()),2&n){const e=t.$implicit,r=t.index;s.xp6(2),s.hij(" ",e.userInfo.name," "),s.xp6(2),s.hij(" ",s.lcZ(5,3,e.datePlaced)," "),s.xp6(3),s.Q6J("routerLink",s.VKq(5,DY,r))}}function AY(n,t){if(1&n&&(s.TgZ(0,"table",2)(1,"thead")(2,"tr")(3,"th"),s._uU(4,"Customer"),s.qZA(),s.TgZ(5,"th"),s._uU(6,"Date"),s.qZA(),s._UZ(7,"th"),s.qZA()(),s.TgZ(8,"tbody"),s.YNc(9,SY,9,7,"tr",3),s.qZA()()),2&n){const e=t.ngIf;s.xp6(9),s.Q6J("ngForOf",e)}}function NY(n,t){1&n&&s._uU(0," Orders are coming soon...\n")}let OY=(()=>{class n{constructor(e){this.allOrders$=e.getAllOrders()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hE))},n.\u0275cmp=s.Xpm({type:n,selectors:[["admin-orders"]],standalone:!0,features:[s.jDz],decls:6,vars:4,consts:[["class","table",4,"ngIf","ngIfElse"],["ordersLoading",""],[1,"table"],[4,"ngFor","ngForOf"],[1,"text-decoration-none",3,"routerLink"]],template:function(e,r){if(1&e&&(s.TgZ(0,"h1"),s._uU(1,"Orders"),s.qZA(),s.YNc(2,AY,10,1,"table",0),s.ALo(3,"async"),s.YNc(4,NY,1,0,"ng-template",null,1,s.W1O)),2&e){const i=s.MAs(5);s.xp6(2),s.Q6J("ngIf",s.lcZ(3,2,r.allOrders$))("ngIfElse",i)}},dependencies:[wr,k,Oe,ji,Ri,jo,wa]}),n})();L(1321);let Vx=(()=>{class n{constructor(e){this.aFireDateBase=e}addProduct(e){return this.aFireDateBase.list("/products").push(e)}getAllProducts(){return this.aFireDateBase.list("/products").snapshotChanges().pipe(H(e=>{let r,i=[];return e.forEach(o=>{r=o.key,i.push(r)}),this.aFireDateBase.list("/products",o=>o.orderByChild("name")).valueChanges().pipe((0,G.U)(o=>(o.forEach((u,h)=>{u.key=i[h]}),o)))}))}getProduct(e){return this.aFireDateBase.object(`/products/${e}`).valueChanges()}updateProduct(e,r){return this.aFireDateBase.object(`/products/${e}`).update(r)}deleteProduct(e){return this.aFireDateBase.object(`/products/${e}`).remove()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RY=function(n){return["/admin/products/",n]};function MY(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td")(6,"a",15),s._uU(7," Edit "),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e.title," "),s.xp6(2),s.hij(" ",e.price," "),s.xp6(2),s.Q6J("routerLink",s.VKq(3,RY,e.key))}}function xY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"table",9)(1,"thead")(2,"tr")(3,"th",10),s.NdJ("sort",function(i){s.CHM(e);const o=s.oxw();return s.KtG(o.onSort(i))}),s._uU(4," Title "),s.O4$(),s.TgZ(5,"svg",11),s._UZ(6,"path",12),s.qZA()(),s.kcU(),s.TgZ(7,"th",13),s.NdJ("sort",function(i){s.CHM(e);const o=s.oxw();return s.KtG(o.onSort(i))}),s._uU(8," Price "),s.O4$(),s.TgZ(9,"svg",11),s._UZ(10,"path",12),s.qZA()(),s.kcU(),s._UZ(11,"th"),s.qZA()(),s.TgZ(12,"tbody"),s.YNc(13,MY,8,5,"tr",14),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(13),s.Q6J("ngForOf",e.filteredProductsAndPagination)}}function PY(n,t){1&n&&s._uU(0," Product are coming soon...\n")}const kY={asc:"desc",desc:"","":"asc"};let TG=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sort=new s.vpe}rotate(){this.direction=kY[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(e,r){1&e&&s.NdJ("click",function(){return r.rotate()}),2&e&&s.ekj("asc","asc"===r.direction)("desc","desc"===r.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"},standalone:!0}),n})(),LY=(()=>{class n{constructor(e){this.productsService=e,this.page=1,this.pageSize=4,this.obsSubscription=this.productsService.getAllProducts().subscribe(r=>{this.filteredProductsAndPagination=this.filteredProducts=this.allExistingProducts=r,this.refreshCountries()})}filter(e){this.filteredProducts=this.filteredProductsAndPagination=e?this.allExistingProducts.filter(r=>r.title.toLowerCase().includes(e.toLowerCase())):this.allExistingProducts}onSort({column:e,direction:r}){this.headers?.forEach(i=>{i.sortable!==e&&(i.direction="")}),this.filteredProductsAndPagination=""===r||""===e?this.filteredProductsAndPagination:[...this.filteredProductsAndPagination].sort((i,o)=>{const u=((n,t)=>n<t?-1:n>t?1:0)(i[e],o[e]);return"asc"===r?u:-u})}refreshCountries(){this.filteredProductsAndPagination&&(this.collectionSize=this.filteredProducts.length,this.filteredProductsAndPagination=this.filteredProducts.map(e=>({...e})).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize))}ngOnDestroy(){this.obsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vx))},n.\u0275cmp=s.Xpm({type:n,selectors:[["admin-products"]],viewQuery:function(e,r){if(1&e&&s.Gf(TG,5),2&e){let i;s.iGM(i=s.CRH())&&(r.headers=i)}},standalone:!0,features:[s.jDz],decls:18,vars:9,consts:[["routerLink","/admin/products/new",1,"btn","btn-primary"],["type","text","placeholder","Search...",1,"form-control",3,"keyup"],["filterInput",""],["class","table table-striped",4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center","flex-sm-row","flex-column-reverse","p-2"],[1,"mb-0",3,"collectionSize","page","pageSize","pageChange"],[1,"form-select","mb-2","mb-sm-0",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["productsLoading",""],[1,"table","table-striped"],["scope","col","sortable","title","role","button",3,"sort"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-funnel"],["d","M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"],["scope","col","sortable","price","role","button",3,"sort"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){if(1&e){const i=s.EpF();s.TgZ(0,"p")(1,"a",0),s._uU(2," New Product "),s.qZA()(),s.TgZ(3,"p")(4,"input",1,2),s.NdJ("keyup",function(){s.CHM(i);const u=s.MAs(5);return s.KtG(r.filter(u.value))}),s.qZA()(),s.YNc(6,xY,14,1,"table",3),s.TgZ(7,"div",4)(8,"ngb-pagination",5),s.NdJ("pageChange",function(u){return r.page=u})("pageChange",function(){return r.refreshCountries()}),s.qZA(),s.TgZ(9,"select",6),s.NdJ("ngModelChange",function(u){return r.pageSize=u})("ngModelChange",function(){return r.refreshCountries()}),s.TgZ(10,"option",7),s._uU(11,"2 items per page"),s.qZA(),s.TgZ(12,"option",7),s._uU(13,"4 items per page"),s.qZA(),s.TgZ(14,"option",7),s._uU(15,"6 items per page"),s.qZA()()(),s.YNc(16,PY,1,0,"ng-template",null,8,s.W1O)}if(2&e){const i=s.MAs(17);s.xp6(6),s.Q6J("ngIf",r.filteredProductsAndPagination)("ngIfElse",i),s.xp6(2),s.Q6J("collectionSize",r.collectionSize)("page",r.page)("pageSize",r.pageSize),s.xp6(1),s.Q6J("ngModel",r.pageSize),s.xp6(1),s.Q6J("ngValue",2),s.xp6(2),s.Q6J("ngValue",4),s.xp6(2),s.Q6J("ngValue",6)}},dependencies:[wr,k,Oe,jo,wa,sx,tx,rx,Zb,I1,qb,TG,tG,KU,kx],styles:["[_nghost-%COMP%]     ul.pagination{margin-bottom:0}"]}),n})(),IG=(()=>{class n{constructor(e){this.shoppingCartSer=e}addToCartFun(){this.shoppingCartSer.addToCart(this.product)}removeFromCartFun(){this.shoppingCartSer.removeFromCart(this.product)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["product-quantity"]],inputs:{product:"product",shoppingCart:["shopping-cart","shoppingCart"]},standalone:!0,features:[s.jDz],decls:9,vars:1,consts:[[1,"product-quantity-com","row","g-0"],[1,"col-2"],[1,"decreaseItemBtn","d-block","w-100","btn","btn-secondary",3,"click"],[1,"col","d-flex","justify-content-center","align-items-center","font-weight-bold"],[1,"increaseItemBtn","d-block","w-100","btn","btn-secondary",3,"click"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return r.removeFromCartFun()}),s._uU(3,"-"),s.qZA()(),s.TgZ(4,"div",3),s._uU(5),s.qZA(),s.TgZ(6,"div",1)(7,"button",4),s.NdJ("click",function(){return r.addToCartFun()}),s._uU(8,"+"),s.qZA()()()),2&e&&(s.xp6(5),s.hij(" ",r.shoppingCart.getQuantity(r.product)," In Cart. "))},dependencies:[wr],styles:[".product-quantity-com[_ngcontent-%COMP%], .decreaseItemBtn[_ngcontent-%COMP%], .increaseItemBtn[_ngcontent-%COMP%]{min-height:36px}@media (max-width: 500px){.decreaseItemBtn[_ngcontent-%COMP%], .increaseItemBtn[_ngcontent-%COMP%]{padding:0}}"]}),n})();const VY=function(n){return{rawImg:n}};function BY(n,t){if(1&n&&s._UZ(0,"img",7),2&n){const e=s.oxw(2);s.Q6J("ngSrc",e.product.imageUrl)("loaderParams",s.VKq(2,VY,!e.addToCart))}}function UY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){s.CHM(e);const i=s.oxw(3);return s.KtG(i.addToCartFun())}),s._uU(1,"Add To Cart "),s.qZA()}}function GY(n,t){if(1&n&&s._UZ(0,"product-quantity",12),2&n){const e=s.oxw(3);s.Q6J("product",e.product)("shopping-cart",e.shoppingCart)}}function $Y(n,t){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,UY,2,0,"button",9),s.YNc(2,GY,1,2,"ng-template",null,10,s.W1O),s.qZA()),2&n){const e=s.MAs(3),r=s.oxw(2);s.xp6(1),s.Q6J("ngIf",0==r.shoppingCart.getQuantity(r.product))("ngIfElse",e)}}function jY(n,t){if(1&n&&(s.TgZ(0,"div",1),s.YNc(1,BY,1,4,"img",2),s.TgZ(2,"div",3)(3,"h5",4),s._uU(4),s.qZA(),s.TgZ(5,"p",5),s._uU(6),s.ALo(7,"currency"),s.qZA()(),s.YNc(8,$Y,4,2,"div",6),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.product.imageUrl),s.xp6(3),s.hij(" ",e.product.title," "),s.xp6(2),s.hij(" ",s.Dn7(7,4,e.product.price,"USD","symbol")," "),s.xp6(2),s.Q6J("ngIf",e.addToCart&&e.shoppingCart)}}let DG=(()=>{class n{constructor(e){this.shoppingCartSer=e,this.addToCart=!0}addToCartFun(){this.shoppingCartSer.addToCart(this.product)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["product-card"]],inputs:{product:"product",addToCart:"addToCart",shoppingCart:["shopping-cart","shoppingCart"]},standalone:!0,features:[s.jDz],decls:1,vars:1,consts:[["class","card","style","width: 100%;",4,"ngIf"],[1,"card",2,"width","100%"],["class","card-img-top skeleton-bg","alt","image description","width","120","height","100",3,"ngSrc","loaderParams",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["class","card-footer p-0 border-0",4,"ngIf"],["alt","image description","width","120","height","100",1,"card-img-top","skeleton-bg",3,"ngSrc","loaderParams"],[1,"card-footer","p-0","border-0"],["class","btn btn-primary d-block w-100",3,"click",4,"ngIf","ngIfElse"],["haveQuantity",""],[1,"btn","btn-primary","d-block","w-100",3,"click"],[3,"product","shopping-cart"]],template:function(e,r){1&e&&s.YNc(0,jY,9,8,"div",0),2&e&&s.Q6J("ngIf",r.product.imageUrl||r.product.title||r.product.price)},dependencies:[wr,Oe,Mi,IG,Mo],styles:[".card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:235px;object-fit:cover}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{min-height:36px}"]}),n})(),SG=(()=>{class n{constructor(e){this.aFireDateBase=e}getAllCategories(){return this.aFireDateBase.list("/categories").snapshotChanges().pipe(H(e=>{let r,i=[];return e.forEach(o=>{r=o.key,i.push(r)}),this.aFireDateBase.list("/categories",o=>o.orderByChild("name")).valueChanges().pipe((0,G.U)(o=>(o.forEach((u,h)=>{u.key=i[h]}),o)))}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HY(n,t){1&n&&(s.TgZ(0,"div",25),s._uU(1," Title Is Required "),s.qZA())}function zY(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1,"Price Is Required"),s.qZA())}function WY(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1,"Price Should Be 0 Or Higher."),s.qZA())}function qY(n,t){if(1&n&&(s.TgZ(0,"div",25),s.YNc(1,zY,2,0,"div",26),s.YNc(2,WY,2,0,"div",26),s.qZA()),2&n){s.oxw();const e=s.MAs(17);s.xp6(1),s.Q6J("ngIf",e.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.errors?null:e.errors.min)}}function ZY(n,t){if(1&n&&(s.TgZ(0,"option",27),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.key),s.xp6(1),s.hij(" ",e.name," ")}}function YY(n,t){1&n&&(s.TgZ(0,"div",25),s._uU(1," Category Is Required "),s.qZA())}function KY(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1,"Image URL Is Required"),s.qZA())}function JY(n,t){if(1&n&&(s.TgZ(0,"div",25),s.YNc(1,KY,2,0,"div",26),s.qZA()),2&n){s.oxw();const e=s.MAs(32);s.xp6(1),s.Q6J("ngIf",null==e.errors?null:e.errors.required)}}let AG=(()=>{class n{constructor(e,r,i,o){this.route=e,this.productsService=r,this.router=i,this.product={},this.categories$=o.getAllCategories(),this.productId=e.snapshot.paramMap.get("id"),this.productId&&this.productsService.getProduct(this.productId).pipe(Cr(1)).subscribe(u=>this.product=u)}save(e){this.productId?this.productsService.updateProduct(this.productId,e):this.productsService.addProduct(e),this.router.navigate(["/admin/products"])}deleteProduct(e){this.productsService.deleteProduct(e),this.router.navigate(["/admin/products"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(co),s.Y36(Vx),s.Y36(li),s.Y36(SG))},n.\u0275cmp=s.Xpm({type:n,selectors:[["product-from"]],standalone:!0,features:[s.jDz],decls:41,vars:17,consts:[[1,"row"],[1,"col-md-6"],[3,"ngSubmit"],["formInfo","ngForm"],[1,"form-group"],["for","title"],["name","title","required","","id","title","type","text",1,"form-control",3,"ngModel","ngModelChange"],["title","ngModel"],["class","alert alert-danger py-1",4,"ngIf"],["for","price"],[1,"input-group"],[1,"input-group-text"],["name","price","required","","id","price","type","number",1,"form-control",3,"ngModel","min","ngModelChange"],["price","ngModel"],["for","category"],["name","category","required","","id","category","type","text",1,"form-select",3,"ngModel","ngModelChange"],["category","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","imageUrl"],["name","imageUrl","required","","id","imageUrl","type","url",1,"form-control",3,"ngModel","ngModelChange"],["imageUrl","ngModel"],[1,"btn","btn-primary","m-2",3,"disabled"],["type","button",1,"btn","btn-danger","m-2",3,"click"],[3,"product","addToCart"],[1,"alert","alert-danger","py-1"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(1&e){const i=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3),s.NdJ("ngSubmit",function(){s.CHM(i);const u=s.MAs(3);return s.KtG(r.save(u.value))}),s.TgZ(4,"div",4)(5,"label",5),s._uU(6," Title "),s.qZA(),s.TgZ(7,"input",6,7),s.NdJ("ngModelChange",function(u){return r.product.title=u}),s.qZA(),s.YNc(9,HY,2,0,"div",8),s.qZA(),s.TgZ(10,"div",4)(11,"label",9),s._uU(12," Price "),s.qZA(),s.TgZ(13,"div",10)(14,"span",11),s._uU(15,"$"),s.qZA(),s.TgZ(16,"input",12,13),s.NdJ("ngModelChange",function(u){return r.product.price=u}),s.qZA()(),s.YNc(18,qY,3,2,"div",8),s.qZA(),s.TgZ(19,"div",4)(20,"label",14),s._uU(21," Category "),s.qZA(),s.TgZ(22,"select",15,16),s.NdJ("ngModelChange",function(u){return r.product.category=u}),s._UZ(24,"option",17),s.YNc(25,ZY,2,2,"option",18),s.ALo(26,"async"),s.qZA(),s.YNc(27,YY,2,0,"div",8),s.qZA(),s.TgZ(28,"div",4)(29,"label",19),s._uU(30," Image URL "),s.qZA(),s.TgZ(31,"input",20,21),s.NdJ("ngModelChange",function(u){return r.product.imageUrl=u}),s.qZA(),s.YNc(33,JY,2,1,"div",8),s.qZA(),s.TgZ(34,"div")(35,"button",22),s._uU(36," Save "),s.qZA(),s.TgZ(37,"button",23),s.NdJ("click",function(){return r.deleteProduct(r.productId)}),s._uU(38," Delete "),s.qZA()()()(),s.TgZ(39,"div",1),s._UZ(40,"product-card",24),s.qZA()()}if(2&e){const i=s.MAs(3),o=s.MAs(8),u=s.MAs(17),h=s.MAs(23),p=s.MAs(32);s.xp6(7),s.Q6J("ngModel",r.product.title),s.xp6(2),s.Q6J("ngIf",o.touched&&o.invalid),s.xp6(7),s.Q6J("ngModel",r.product.price)("min",0),s.xp6(2),s.Q6J("ngIf",u.touched&&u.invalid),s.xp6(4),s.Q6J("ngModel",r.product.category),s.xp6(3),s.Q6J("ngForOf",s.lcZ(26,15,r.categories$)),s.xp6(2),s.Q6J("ngIf",h.touched&&h.invalid),s.xp6(4),s.Q6J("ngModel",r.product.imageUrl),s.xp6(2),s.Q6J("ngIf",p.touched&&p.invalid),s.xp6(2),s.ekj("disabled",!i.valid),s.Q6J("disabled",!i.valid),s.xp6(5),s.Q6J("product",r.product)("addToCart",!1)}},dependencies:[wr,k,Oe,ji,sx,KM,tx,rx,Gb,JM,Zb,I1,BM,Yb,ix,qb,Wb,DG]}),n})(),QY=(()=>{class n{constructor(e){this.AuthService=e}login(){this.AuthService.login()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(dE))},n.\u0275cmp=s.Xpm({type:n,selectors:[["login"]],standalone:!0,features:[s.jDz],decls:2,vars:0,consts:[[1,"btn","btn-primary",3,"click"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0),s.NdJ("click",function(){return r.login()}),s._uU(1," Login With Google\n"),s.qZA())},dependencies:[wr]}),n})();const XY=function(n){return["/my/order/",n]};function eK(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.ALo(5,"date"),s.qZA(),s.TgZ(6,"td")(7,"a",4),s._uU(8,"View"),s.qZA()()()),2&n){const e=t.$implicit,r=t.index;s.xp6(2),s.hij(" ",e.userInfo.name," "),s.xp6(2),s.hij(" ",s.lcZ(5,3,e.datePlaced)," "),s.xp6(3),s.Q6J("routerLink",s.VKq(5,XY,r))}}function tK(n,t){if(1&n&&(s.TgZ(0,"table",2)(1,"thead")(2,"tr")(3,"th"),s._uU(4,"Customer"),s.qZA(),s.TgZ(5,"th"),s._uU(6,"Date"),s.qZA(),s._UZ(7,"th"),s.qZA()(),s.TgZ(8,"tbody"),s.YNc(9,eK,9,7,"tr",3),s.qZA()()),2&n){const e=t.ngIf;s.xp6(9),s.Q6J("ngForOf",e)}}function nK(n,t){1&n&&s._uU(0," Your orders are coming soon...\n")}let rK=(()=>{class n{constructor(e){this.orderService=e,this.OrdersById$=this.orderService.getOrdersById()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hE))},n.\u0275cmp=s.Xpm({type:n,selectors:[["my-orders"]],standalone:!0,features:[s.jDz],decls:6,vars:4,consts:[["class","table",4,"ngIf","ngIfElse"],["ordersLoading",""],[1,"table"],[4,"ngFor","ngForOf"],[1,"text-decoration-none",3,"routerLink"]],template:function(e,r){if(1&e&&(s.TgZ(0,"h1"),s._uU(1,"Orders"),s.qZA(),s.YNc(2,tK,10,1,"table",0),s.ALo(3,"async"),s.YNc(4,nK,1,0,"ng-template",null,1,s.W1O)),2&e){const i=s.MAs(5);s.xp6(2),s.Q6J("ngIf",s.lcZ(3,2,r.OrdersById$))("ngIfElse",i)}},dependencies:[wr,k,Oe,ji,Ri,jo,wa]}),n})();function iK(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td",5),s._UZ(2,"img",6),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td",7),s._uU(6),s.ALo(7,"currency"),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td",7),s._uU(11),s.ALo(12,"currency"),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Q6J("ngSrc",e.productInfo.imageUrl)("alt",e.productInfo.title+" image"),s.xp6(2),s.hij(" ",e.productInfo.title," "),s.xp6(2),s.hij(" ",s.Dn7(7,6,e.productInfo.price,"USD","symbol")," "),s.xp6(3),s.hij(" ",e.productInfo.quantity," "),s.xp6(2),s.hij(" ",s.Dn7(12,10,e.productInfo.totalPrice,"USD","symbol")," ")}}function sK(n,t){if(1&n&&(s.TgZ(0,"table",3)(1,"thead")(2,"tr"),s._UZ(3,"th"),s.TgZ(4,"th"),s._uU(5,"Title"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Price"),s.qZA(),s.TgZ(8,"th"),s._uU(9,"Quantity"),s.qZA(),s.TgZ(10,"th"),s._uU(11,"total Price"),s.qZA()()(),s.TgZ(12,"tbody"),s.YNc(13,iK,13,14,"tr",4),s.qZA()()),2&n){const e=t.ngIf;s.xp6(13),s.Q6J("ngForOf",e.shippingInfo)}}function oK(n,t){1&n&&s._uU(0," Your order details are coming... ")}let aK=(()=>{class n{constructor(e,r){this.orderService=e,this.route=r,this.OrderById$=this.orderService.getOrdersById().pipe((0,G.U)(i=>{let o=this.route.snapshot.paramMap.get("index");return i.find((u,h)=>o==h.toString())}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hE),s.Y36(co))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-order-info"]],standalone:!0,features:[s.jDz],decls:7,vars:4,consts:[[1,"row","col-md-9","col-md-6"],["class","table",4,"ngIf","ngIfElse"],["orderDataLoading",""],[1,"table"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","align-items-center"],["width","60","height","60",1,"skeleton-bg","product-image",3,"ngSrc","alt"],[1,"fw-bold"]],template:function(e,r){if(1&e&&(s.TgZ(0,"h1"),s._uU(1,"Order Info"),s.qZA(),s.TgZ(2,"div",0),s.YNc(3,sK,14,1,"table",1),s.ALo(4,"async"),s.YNc(5,oK,1,0,"ng-template",null,2,s.W1O),s.qZA()),2&e){const i=s.MAs(6);s.xp6(3),s.Q6J("ngIf",s.lcZ(4,2,r.OrderById$))("ngIfElse",i)}},dependencies:[wr,k,Oe,ji,Mi,Mo]}),n})(),lK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["order-success"]],standalone:!0,features:[s.jDz],decls:2,vars:0,template:function(e,r){1&e&&(s.TgZ(0,"p"),s._uU(1,"order-success works!"),s.qZA())},dependencies:[wr]}),n})();class cK{constructor(t,e,r){this.userId=t,this.userInfo=e,this.datePlaced=(new Date).getTime(),this.shippingInfo=r.productsInfoArr.map(i=>({productInfo:{title:i.product.title,imageUrl:i.product.imageUrl,price:i.product.price,quantity:i.quantity,totalPrice:i.totalPrice}}))}}function uK(n,t){1&n&&(s.TgZ(0,"div",16),s._uU(1," Name Is Required "),s.qZA())}function dK(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1,"address Is Required"),s.qZA())}function hK(n,t){if(1&n&&(s.TgZ(0,"div",16),s.YNc(1,dK,2,0,"div",17),s.qZA()),2&n){s.oxw();const e=s.MAs(12);s.xp6(1),s.Q6J("ngIf",e.errors.required)}}function fK(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1,"address Is Required"),s.qZA())}function pK(n,t){if(1&n&&(s.TgZ(0,"div",16),s.YNc(1,fK,2,0,"div",17),s.qZA()),2&n){s.oxw();const e=s.MAs(15);s.xp6(1),s.Q6J("ngIf",e.errors.required)}}function gK(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1,"City Is Required"),s.qZA())}function mK(n,t){if(1&n&&(s.TgZ(0,"div",16),s.YNc(1,gK,2,0,"div",17),s.qZA()),2&n){s.oxw();const e=s.MAs(21);s.xp6(1),s.Q6J("ngIf",null==e.errors?null:e.errors.required)}}let _K=(()=>{class n{constructor(e,r,i){this.orderService=e,this.authService=r,this.router=i,this.buyerInfo={},this.userSubscription=this.authService.useInfoFromFB$.subscribe(o=>this.userId=o?.uid)}saveOrderInfo(){var e=this;return(0,mr.Z)(function*(){let r=new cK(e.userId,e.buyerInfo,e.cart),i=yield e.orderService.palaceOrder(r);e.router.navigate(["/order-success",i.key])})()}ngOnDestroy(){this.userSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hE),s.Y36(dE),s.Y36(li))},n.\u0275cmp=s.Xpm({type:n,selectors:[["shipping-form"]],inputs:{cart:"cart"},standalone:!0,features:[s.jDz],decls:26,vars:9,consts:[[3,"ngSubmit"],["form","ngForm"],[1,"form-group"],["for","name"],["name","name","required","","id","name","type","text","placeholder","name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","alert alert-danger py-1",4,"ngIf"],["for","address"],["name","addressLine1","required","","id","address","type","text","placeholder","line 1",1,"form-control","mb-2",3,"ngModel","ngModelChange"],["addressLine1","ngModel"],["name","addressLine2","id","address","type","text","placeholder","line 2",1,"form-control",3,"ngModel","ngModelChange"],["addressLine2","ngModel"],["for","cityName"],["name","cityName","required","","id","cityName","type","url","placeholder","city",1,"form-control",3,"ngModel","ngModelChange"],["cityName","ngModel"],[1,"btn","btn-primary","m-2",3,"disabled"],[1,"alert","alert-danger","py-1"],[4,"ngIf"]],template:function(e,r){if(1&e&&(s.TgZ(0,"form",0,1),s.NdJ("ngSubmit",function(){return r.saveOrderInfo()}),s.TgZ(2,"div",2)(3,"label",3),s._uU(4," Name "),s.qZA(),s.TgZ(5,"input",4,5),s.NdJ("ngModelChange",function(o){return r.buyerInfo.name=o}),s.qZA(),s.YNc(7,uK,2,0,"div",6),s.qZA(),s.TgZ(8,"div",2)(9,"label",7),s._uU(10," Address "),s.qZA(),s.TgZ(11,"input",8,9),s.NdJ("ngModelChange",function(o){return r.buyerInfo.addressLine1=o}),s.qZA(),s.YNc(13,hK,2,1,"div",6),s.TgZ(14,"input",10,11),s.NdJ("ngModelChange",function(o){return r.buyerInfo.addressLine2=o}),s.qZA(),s.YNc(16,pK,2,1,"div",6),s.qZA(),s.TgZ(17,"div",2)(18,"label",12),s._uU(19," City "),s.qZA(),s.TgZ(20,"input",13,14),s.NdJ("ngModelChange",function(o){return r.buyerInfo.cityName=o}),s.qZA(),s.YNc(22,mK,2,1,"div",6),s.qZA(),s.TgZ(23,"div")(24,"button",15),s._uU(25," Save "),s.qZA()()()),2&e){const i=s.MAs(1),o=s.MAs(6),u=s.MAs(12),h=s.MAs(15),p=s.MAs(21);s.xp6(5),s.Q6J("ngModel",r.buyerInfo.name),s.xp6(2),s.Q6J("ngIf",o.touched&&o.invalid),s.xp6(4),s.Q6J("ngModel",r.buyerInfo.addressLine1),s.xp6(2),s.Q6J("ngIf",u.touched&&u.invalid),s.xp6(1),s.Q6J("ngModel",r.buyerInfo.addressLine2),s.xp6(2),s.Q6J("ngIf",h.touched&&h.invalid),s.xp6(4),s.Q6J("ngModel",r.buyerInfo.cityName),s.xp6(2),s.Q6J("ngIf",p.touched&&p.invalid),s.xp6(2),s.Q6J("disabled",!i.valid)}},dependencies:[wr,Oe,jo,sx,KM,Gb,I1,BM,Yb,qb,Wb]}),n})();function yK(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.ALo(5,"currency"),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.AsE(" ",e.quantity," x ",e.product.title,""),s.xp6(2),s.hij(" ",s.Dn7(5,3,e.totalPrice,"USD","symbol")," ")}}let vK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["shopping-cart-summary"]],inputs:{cart:"cart"},standalone:!0,features:[s.jDz],decls:16,vars:7,consts:[[1,"card"],[1,"card-body"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h3"),s._uU(3,"Order Summary"),s.qZA(),s.TgZ(4,"p"),s._uU(5),s.qZA(),s.TgZ(6,"table",2)(7,"tbody"),s.YNc(8,yK,6,7,"tr",3),s.qZA(),s.TgZ(9,"tfoot")(10,"tr")(11,"th"),s._uU(12," Total "),s.qZA(),s.TgZ(13,"th"),s._uU(14),s.ALo(15,"currency"),s.qZA()()()()()()),2&e&&(s.xp6(5),s.hij("You Have ",r.cart.totalItemCount," Items In Your Shopping Cart."),s.xp6(3),s.Q6J("ngForOf",null==r.cart?null:r.cart.productsInfoArr),s.xp6(6),s.hij(" ",s.Dn7(15,3,r.cart.totalPrice,"USD","symbol")," "))},dependencies:[wr,k,Mi]}),n})();function bK(n,t){if(1&n&&(s.TgZ(0,"div",3),s._UZ(1,"shopping-cart-summary",4),s.qZA()),2&n){const e=s.oxw().ngIf;s.xp6(1),s.Q6J("cart",e)}}function EK(n,t){if(1&n&&(s.TgZ(0,"div",2)(1,"div",3),s._UZ(2,"shipping-form",4),s.qZA(),s.YNc(3,bK,2,1,"div",5),s.qZA()),2&n){const e=t.ngIf;s.xp6(2),s.Q6J("cart",e),s.xp6(1),s.Q6J("ngIf",(null==e?null:e.productsInfoArr.length)>0)}}function wK(n,t){1&n&&s._uU(0," Your order summary is loading...\n")}let CK=(()=>{class n{constructor(e){this.shoppingCartSer=e}ngOnInit(){var e=this;return(0,mr.Z)(function*(){e.cart$=yield e.shoppingCartSer.getCart()})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["check-out"]],standalone:!0,features:[s.jDz],decls:6,vars:4,consts:[["class","row",4,"ngIf","ngIfElse"],["orderSummaryLoading",""],[1,"row"],[1,"col-md-6"],[3,"cart"],["class","col-md-6",4,"ngIf"]],template:function(e,r){if(1&e&&(s.TgZ(0,"h1"),s._uU(1,"Shipping"),s.qZA(),s.YNc(2,EK,4,2,"div",0),s.ALo(3,"async"),s.YNc(4,wK,1,0,"ng-template",null,1,s.W1O)),2&e){const i=s.MAs(5);s.xp6(2),s.Q6J("ngIf",s.lcZ(3,2,r.cart$))("ngIfElse",i)}},dependencies:[wr,Oe,ji,_K,vK]}),n})();const TK=function(n){return{category:n}};function IK(n,t){if(1&n&&(s.TgZ(0,"a",4),s._uU(1),s.qZA()),2&n){const e=t.$implicit,r=s.oxw();s.ekj("active",e.key==r.currentCategory),s.Q6J("queryParams",s.VKq(4,TK,e.key)),s.xp6(1),s.hij(" ",e.name," ")}}let DK=(()=>{class n{constructor(e){this.categories$=e.getAllCategories()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(SG))},n.\u0275cmp=s.Xpm({type:n,selectors:[["products-filter"]],inputs:{currentCategory:["category","currentCategory"]},standalone:!0,features:[s.jDz],decls:6,vars:5,consts:[[1,"sticky-top"],[1,"list-group","text-center"],["routerLink","/",1,"list-group-item","list-group-item-action","px-md-2"],["class","list-group-item list-group-item-action px-md-2","routerLink","/","ngbDropdownItem","",3,"queryParams","active",4,"ngFor","ngForOf"],["routerLink","/","ngbDropdownItem","",1,"list-group-item","list-group-item-action","px-md-2",3,"queryParams"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"a",2),s._uU(3," All Categories "),s.qZA(),s.YNc(4,IK,2,6,"a",3),s.ALo(5,"async"),s.qZA()()),2&e&&(s.xp6(2),s.ekj("active",!r.currentCategory),s.xp6(2),s.Q6J("ngForOf",s.lcZ(5,3,r.categories$)))},dependencies:[wr,k,ji,jo,wa],styles:[".sticky-top[_ngcontent-%COMP%]{top:65px}"]}),n})(),SK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["product-skeleton"]],standalone:!0,features:[s.jDz],decls:6,vars:0,consts:[[1,"card",2,"width","100%"],[1,"card-img-top","skeleton-bg","skeleton-img"],[1,"card-body"],[1,"card-title","skeleton-bg","skeleton-text"],[1,"card-text","skeleton-bg","skeleton-text"],[1,"card-footer","p-0","border-0","skeleton-bg","skeleton-btn"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s.TgZ(2,"div",2),s._UZ(3,"h5",3)(4,"p",4),s.qZA(),s._UZ(5,"div",5),s.qZA())},dependencies:[wr]}),n})();function AK(n,t){if(1&n&&(s.TgZ(0,"div",14),s._UZ(1,"product-card",15),s.qZA()),2&n){const e=t.$implicit,r=s.oxw().ngIf;s.xp6(1),s.Q6J("product",e)("shopping-cart",r)}}function NK(n,t){if(1&n&&(s.ynx(0),s.YNc(1,AK,2,2,"div",13),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.filteredProducts)}}function OK(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"product-skeleton"),s.qZA(),s.BQk())}const RK=function(){return[]};function MK(n,t){1&n&&s.YNc(0,OK,3,0,"ng-container",16),2&n&&s.Q6J("ngForOf",s.DdM(1,RK).constructor(10))}let NG=(()=>{class n{constructor(e,r,i){this.route=e,this.productsService=r,this.shoppingCartSer=i}ngOnInit(){var e=this;return(0,mr.Z)(function*(){e.shoppingCart$=yield e.shoppingCartSer.getCart(),e.populateProducts()})()}populateProducts(){this.productsService.getAllProducts().pipe(H(e=>(this.filteredProducts=this.products=e,this.route.queryParams))).subscribe({next:e=>{this.currentCategory=e.category,this.applyFilter()}})}applyFilter(){this.filteredProducts=this.currentCategory?this.products?.filter(e=>e.category==this.currentCategory):this.products}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(co),s.Y36(Vx),s.Y36(hp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["products"]],standalone:!0,features:[s.jDz],decls:16,vars:6,consts:[[1,"phone-filter","col","d-sm-none","mb-2"],["ngbDropdown","",1,"d-block","dropdown","text-end","px-2"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-funnel"],["d","M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1",1,"p-0"],["ngbDropdownItem","",1,"p-0",3,"category"],[1,"products","row"],[1,"d-none","d-sm-block","col-5","col-md-3"],[3,"category"],[1,"products-carts","row","col-sm-7","col-md-9","px-2","px-sm-0"],[4,"ngIf","ngIfElse"],["productsCardsSkeleton",""],["class","col-md-6 col-lg-4 mb-2 px-1",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-4","mb-2","px-1"],[3,"product","shopping-cart"],[4,"ngFor","ngForOf"]],template:function(e,r){if(1&e&&(s.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"button",2),s.O4$(),s.TgZ(4,"svg",3),s._UZ(5,"path",4),s.qZA()(),s.kcU(),s.TgZ(6,"div",5),s._UZ(7,"products-filter",6),s.qZA()()(),s.TgZ(8,"div",7)(9,"div",8),s._UZ(10,"products-filter",9),s.qZA(),s.TgZ(11,"div",10),s.YNc(12,NK,2,1,"ng-container",11),s.ALo(13,"async"),s.YNc(14,MK,1,2,"ng-template",null,12,s.W1O),s.qZA()()()),2&e){const i=s.MAs(15);s.xp6(7),s.Q6J("category",r.currentCategory),s.xp6(3),s.Q6J("category",r.currentCategory),s.xp6(2),s.Q6J("ngIf",r.filteredProducts&&s.lcZ(13,4,r.shoppingCart$))("ngIfElse",i)}},dependencies:[wr,k,Oe,ji,jo,xx,O_,Mx,Y1,Rx,DK,DG,SK],styles:["@media (max-width: 575px){.products[_ngcontent-%COMP%], .products-carts[_ngcontent-%COMP%]{margin:0;padding:0;--bs-gutter-x: 0;--bs-gutter-y: 0}}"]}),n})();function xK(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td",10),s._UZ(2,"img",11),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td",12),s._UZ(6,"product-quantity",13),s.qZA(),s.TgZ(7,"td",8),s._uU(8),s.ALo(9,"currency"),s.qZA()()),2&n){const e=t.$implicit,r=s.oxw(2).ngIf;s.xp6(2),s.Q6J("ngSrc",e.product.imageUrl)("alt",e.product.title+" image"),s.xp6(2),s.Oqu(e.product.title),s.xp6(2),s.Q6J("product",e.product)("shopping-cart",r),s.xp6(2),s.hij(" ",s.Dn7(9,6,e.totalPrice,"USD","symbol")," ")}}function PK(n,t){if(1&n&&(s.TgZ(0,"table",6)(1,"thead")(2,"tr"),s._UZ(3,"th"),s.TgZ(4,"th"),s._uU(5,"Product"),s.qZA(),s.TgZ(6,"th",7),s._uU(7,"Quantity"),s.qZA(),s.TgZ(8,"th",8),s._uU(9,"Price"),s.qZA()()(),s.TgZ(10,"tbody"),s.YNc(11,xK,10,10,"tr",9),s.qZA(),s.TgZ(12,"tfoot")(13,"tr"),s._UZ(14,"th")(15,"th")(16,"th",7),s.TgZ(17,"th",8),s._uU(18),s.ALo(19,"currency"),s.qZA()()()()),2&n){const e=s.oxw().ngIf;s.xp6(11),s.Q6J("ngForOf",e.productsInfoArr),s.xp6(7),s.hij(" ",s.Dn7(19,2,e.totalPrice,"USD","symbol")," ")}}function kK(n,t){1&n&&(s.TgZ(0,"a",14),s._uU(1," Check Out "),s.qZA())}function FK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",15),s.NdJ("click",function(){s.CHM(e);const i=s.oxw(2);return s.KtG(i.deleteCart())}),s._uU(1," Clear Card "),s.qZA()}}function LK(n,t){if(1&n&&(s.TgZ(0,"div",2)(1,"p"),s._uU(2),s.qZA(),s.YNc(3,PK,20,6,"table",3),s.YNc(4,kK,2,0,"a",4),s.YNc(5,FK,2,0,"button",5),s.qZA()),2&n){const e=t.ngIf;s.xp6(2),s.hij("You Have ",e.totalItemCount," In Your Shopping Cart"),s.xp6(1),s.Q6J("ngIf",e.totalItemCount),s.xp6(1),s.Q6J("ngIf",e.totalItemCount),s.xp6(1),s.Q6J("ngIf",e.totalItemCount)}}function VK(n,t){1&n&&s._uU(0," Loading...\n")}let BK=(()=>{class n{constructor(e){this.shoppingCartSer=e}ngOnInit(){var e=this;return(0,mr.Z)(function*(){e.cart$=yield e.shoppingCartSer.getCart()})()}deleteCart(){this.shoppingCartSer.deleteCart()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["shopping-cart"]],standalone:!0,features:[s.jDz],decls:6,vars:4,consts:[["class","row col-md-9 col-md-6",4,"ngIf","ngIfElse"],["tableLoading",""],[1,"row","col-md-9","col-md-6"],["class","table",4,"ngIf"],["routerLink","/check-out","class","btn btn-primary btn-sm ms-2 text-white","style","width: fit-content;",4,"ngIf"],["class","btn btn-danger btn-sm ms-2","style","width: fit-content;",3,"click",4,"ngIf"],[1,"table"],[2,"width","220px"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","align-items-center"],["width","60","height","60",1,"skeleton-bg","product-image",3,"ngSrc","alt"],[1,"px-0",2,"width","220px"],[3,"product","shopping-cart"],["routerLink","/check-out",1,"btn","btn-primary","btn-sm","ms-2","text-white",2,"width","fit-content"],[1,"btn","btn-danger","btn-sm","ms-2",2,"width","fit-content",3,"click"]],template:function(e,r){if(1&e&&(s.TgZ(0,"h1"),s._uU(1,"Shopping Cart"),s.qZA(),s.YNc(2,LK,6,4,"div",0),s.ALo(3,"async"),s.YNc(4,VK,1,0,"ng-template",null,1,s.W1O)),2&e){const i=s.MAs(5);s.xp6(2),s.Q6J("ngIf",s.lcZ(3,2,r.cart$))("ngIfElse",i)}},dependencies:[wr,k,Oe,ji,Mi,jo,wa,Mo,IG]}),n})(),qs=(()=>{class n{constructor(e,r,i){this.authService=e,this.router=r,this.userService=i}canActivateAuth(e,r){return this.authService.useInfoFromFB$.pipe((0,G.U)(o=>!!o||(this.router.navigate(["/login"],{queryParams:{wantedUrl:r.url}}),!1)))}canActivateAdmin(){return this.authService.appUser$.pipe((0,G.U)(e=>!!e?.isAdmin&&e.isAdmin))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(dE),s.LFG(li),s.LFG(CG))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UK=[{path:"",component:NG},{path:"products",component:NG},{path:"shopping-cart",component:BK},{path:"login",component:QY},{path:"check-out",component:CK,canActivate:[(n,t)=>(0,s.f3M)(qs).canActivateAuth(n,t)]},{path:"order-success/:id",component:lK,canActivate:[(n,t)=>(0,s.f3M)(qs).canActivateAuth(n,t)]},{path:"my/order/:index",component:aK,canActivate:[(n,t)=>(0,s.f3M)(qs).canActivateAuth(n,t)]},{path:"my/orders",component:rK,canActivate:[(n,t)=>(0,s.f3M)(qs).canActivateAuth(n,t)]},{path:"admin/products/new",component:AG,canActivate:[(n,t)=>(0,s.f3M)(qs).canActivateAuth(n,t),()=>(0,s.f3M)(qs).canActivateAdmin()]},{path:"admin/products/:id",component:AG,canActivate:[(n,t)=>(0,s.f3M)(qs).canActivateAuth(n,t),()=>(0,s.f3M)(qs).canActivateAdmin()]},{path:"admin/products",component:LY,canActivate:[(n,t)=>(0,s.f3M)(qs).canActivateAuth(n,t),()=>(0,s.f3M)(qs).canActivateAdmin()]},{path:"admin/order/:index",component:IY,canActivate:[(n,t)=>(0,s.f3M)(qs).canActivateAuth(n,t),()=>(0,s.f3M)(qs).canActivateAdmin()]},{path:"admin/orders",component:OY,canActivate:[(n,t)=>(0,s.f3M)(qs).canActivateAuth(n,t),()=>(0,s.f3M)(qs).canActivateAdmin()]}],OG_firebaseConfig={apiKey:"AIzaSyBudiVqJ1CTJLnm6o_peWrMGZpMCqxn2uU",authDomain:"organic-store-4221d.firebaseapp.com",projectId:"organic-store-4221d",storageBucket:"organic-store-4221d.appspot.com",messagingSenderId:"919098220525",appId:"1:919098220525:web:e12f272c0c42db7f8191e4",measurementId:"G-GR0XTPMJ0Z"};!function Wp(n,t){(0,s.iPO)({rootComponent:n,...sh(t)})}(EY,{providers:[function $u(n,...t){return(0,s.MR2)([{provide:Fh,multi:!0,useValue:n},Vh?{provide:Cg,useValue:!0}:[],{provide:co,useFactory:zy,deps:[li]},{provide:s.tb,multi:!0,useFactory:Ec},t.map(e=>e.\u0275providers)])}(UK),(0,s.RIp)(function Te(n,...t){return{ngModule:ve,providers:[{provide:Pt,useFactory:ge(n),multi:!0,deps:[s.R0b,s.zs3,B.HU,...t]}]}}(()=>ct(OG_firebaseConfig)),function Iv(n,...t){return{ngModule:zw,providers:[{provide:kg,useFactory:jw(n),multi:!0,deps:[s.R0b,s.zs3,B.HU,Z,[new s.FiY,Mc],...t]}]}}(()=>WS()),function dC(n,...t){return{ngModule:uC,providers:[{provide:Mv,useFactory:gA(n),multi:!0,deps:[s.R0b,s.zs3,B.HU,Z,...t]}]}}(()=>tC()),function G$(n,...t){return{ngModule:U$,providers:[{provide:LN,useFactory:L$(n),multi:!0,deps:[s.R0b,s.zs3,B.HU,Z,[new s.FiY,Tv],[new s.FiY,Mc],...t]}]}}(()=>$$()),function vz(n,...t){return{ngModule:yz,providers:[{provide:xM,useFactory:gz(n),multi:!0,deps:[s.R0b,s.zs3,B.HU,Z,[new s.FiY,Tv],[new s.FiY,Mc],...t]}]}}(()=>bz()),Vs.hO.initializeApp(OG_firebaseConfig)),{provide:Xa,useValue:n=>n.loaderParams?.rawImg?n.src:`https://ik.imagekit.io/AhmedBenChakhter/${n.src}`}]})},9751:(Tt,Me,L)=>{L.d(Me,{y:()=>le});var s=L(930),B=L(727),F=L(8822),X=L(9635),Y=L(2416),ce=L(576),ue=L(2806);let le=(()=>{class K{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const Le=new K;return Le.source=this,Le.operator=Ie,Le}subscribe(Ie,Le,lt){const ye=function G(K){return K&&K instanceof s.Lv||function H(K){return K&&(0,ce.m)(K.next)&&(0,ce.m)(K.error)&&(0,ce.m)(K.complete)}(K)&&(0,B.Nn)(K)}(Ie)?Ie:new s.Hp(Ie,Le,lt);return(0,ue.x)(()=>{const{operator:Se,source:Pe}=this;ye.add(Se?Se.call(ye,Pe):Pe?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Le){Ie.error(Le)}}forEach(Ie,Le){return new(Le=me(Le))((lt,ye)=>{const Se=new s.Hp({next:Pe=>{try{Ie(Pe)}catch(We){ye(We),Se.unsubscribe()}},error:ye,complete:lt});this.subscribe(Se)})}_subscribe(Ie){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Ie)}[F.L](){return this}pipe(...Ie){return(0,X.U)(Ie)(this)}toPromise(Ie){return new(Ie=me(Ie))((Le,lt)=>{let ye;this.subscribe(Se=>ye=Se,Se=>lt(Se),()=>Le(ye))})}}return K.create=Ce=>new K(Ce),K})();function me(K){var Ce;return null!==(Ce=K??Y.v.Promise)&&void 0!==Ce?Ce:Promise}},7579:(Tt,Me,L)=>{L.d(Me,{x:()=>ue});var s=L(9751),B=L(727);const X=(0,L(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=L(8737),ce=L(2806);let ue=(()=>{class me extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const K=new le(this,this);return K.operator=G,K}_throwIfClosed(){if(this.closed)throw new X}next(G){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(G)}})}error(G){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:K}=this;for(;K.length;)K.shift().error(G)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:K,isStopped:Ce,observers:Ie}=this;return K||Ce?B.Lc:(this.currentObservers=null,Ie.push(G),new B.w0(()=>{this.currentObservers=null,(0,Y.P)(Ie,G)}))}_checkFinalizedStatuses(G){const{hasError:K,thrownError:Ce,isStopped:Ie}=this;K?G.error(Ce):Ie&&G.complete()}asObservable(){const G=new s.y;return G.source=this,G}}return me.create=(H,G)=>new le(H,G),me})();class le extends ue{constructor(H,G){super(),this.destination=H,this.source=G}next(H){var G,K;null===(K=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===K||K.call(G,H)}error(H){var G,K;null===(K=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===K||K.call(G,H)}complete(){var H,G;null===(G=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===G||G.call(H)}_subscribe(H){var G,K;return null!==(K=null===(G=this.source)||void 0===G?void 0:G.subscribe(H))&&void 0!==K?K:B.Lc}}},930:(Tt,Me,L)=>{L.d(Me,{Hp:()=>lt,Lv:()=>K});var s=L(576),B=L(727),F=L(2416),X=L(7849),Y=L(5032);const ce=me("C",void 0,void 0);function me(xe,we,ke){return{kind:xe,value:we,error:ke}}var H=L(3410),G=L(2806);class K extends B.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,B.Nn)(we)&&we.add(this)):this.destination=We}static create(we,ke,Ue){return new lt(we,ke,Ue)}next(we){this.isStopped?Pe(function le(xe){return me("N",xe,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Pe(function ue(xe){return me("E",void 0,xe)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Pe(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ce=Function.prototype.bind;function Ie(xe,we){return Ce.call(xe,we)}class Le{constructor(we){this.partialObserver=we}next(we){const{partialObserver:ke}=this;if(ke.next)try{ke.next(we)}catch(Ue){ye(Ue)}}error(we){const{partialObserver:ke}=this;if(ke.error)try{ke.error(we)}catch(Ue){ye(Ue)}else ye(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(ke){ye(ke)}}}class lt extends K{constructor(we,ke,Ue){let Fe;if(super(),(0,s.m)(we)||!we)Fe={next:we??void 0,error:ke??void 0,complete:Ue??void 0};else{let Z;this&&F.v.useDeprecatedNextContext?(Z=Object.create(we),Z.unsubscribe=()=>this.unsubscribe(),Fe={next:we.next&&Ie(we.next,Z),error:we.error&&Ie(we.error,Z),complete:we.complete&&Ie(we.complete,Z)}):Fe=we}this.destination=new Le(Fe)}}function ye(xe){F.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(xe):(0,X.h)(xe)}function Pe(xe,we){const{onStoppedNotification:ke}=F.v;ke&&H.z.setTimeout(()=>ke(xe,we))}const We={closed:!0,next:Y.Z,error:function Se(xe){throw xe},complete:Y.Z}},727:(Tt,Me,L)=>{L.d(Me,{Lc:()=>ce,w0:()=>Y,Nn:()=>ue});var s=L(576);const F=(0,L(3888).d)(me=>function(G){me(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((K,Ce)=>`${Ce+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var X=L(8737);class Y{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ie of G)Ie.remove(this);else G.remove(this);const{initialTeardown:K}=this;if((0,s.m)(K))try{K()}catch(Ie){H=Ie instanceof F?Ie.errors:[Ie]}const{_finalizers:Ce}=this;if(Ce){this._finalizers=null;for(const Ie of Ce)try{le(Ie)}catch(Le){H=H??[],Le instanceof F?H=[...H,...Le.errors]:H.push(Le)}}if(H)throw new F(H)}}add(H){var G;if(H&&H!==this)if(this.closed)le(H);else{if(H instanceof Y){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(H)}}_hasParent(H){const{_parentage:G}=this;return G===H||Array.isArray(G)&&G.includes(H)}_addParent(H){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(H),G):G?[G,H]:H}_removeParent(H){const{_parentage:G}=this;G===H?this._parentage=null:Array.isArray(G)&&(0,X.P)(G,H)}remove(H){const{_finalizers:G}=this;G&&(0,X.P)(G,H),H instanceof Y&&H._removeParent(this)}}Y.EMPTY=(()=>{const me=new Y;return me.closed=!0,me})();const ce=Y.EMPTY;function ue(me){return me instanceof Y||me&&"closed"in me&&(0,s.m)(me.remove)&&(0,s.m)(me.add)&&(0,s.m)(me.unsubscribe)}function le(me){(0,s.m)(me)?me():me.unsubscribe()}},2416:(Tt,Me,L)=>{L.d(Me,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Tt,Me,L)=>{L.d(Me,{E:()=>B});const B=new(L(9751).y)(Y=>Y.complete())},8996:(Tt,Me,L)=>{L.d(Me,{D:()=>we});var s=L(8421),B=L(5363),F=L(9468),ce=L(9751),le=L(2202),me=L(576),H=L(9672);function K(ke,Ue){if(!ke)throw new Error("Iterable cannot be null");return new ce.y(Fe=>{(0,H.f)(Fe,Ue,()=>{const Z=ke[Symbol.asyncIterator]();(0,H.f)(Fe,Ue,()=>{Z.next().then(Ge=>{Ge.done?Fe.complete():Fe.next(Ge.value)})},0,!0)})})}var Ce=L(3670),Ie=L(8239),Le=L(1144),lt=L(6495),ye=L(2206),Se=L(4532),Pe=L(3260);function we(ke,Ue){return Ue?function xe(ke,Ue){if(null!=ke){if((0,Ce.c)(ke))return function X(ke,Ue){return(0,s.Xf)(ke).pipe((0,F.R)(Ue),(0,B.Q)(Ue))}(ke,Ue);if((0,Le.z)(ke))return function ue(ke,Ue){return new ce.y(Fe=>{let Z=0;return Ue.schedule(function(){Z===ke.length?Fe.complete():(Fe.next(ke[Z++]),Fe.closed||this.schedule())})})}(ke,Ue);if((0,Ie.t)(ke))return function Y(ke,Ue){return(0,s.Xf)(ke).pipe((0,F.R)(Ue),(0,B.Q)(Ue))}(ke,Ue);if((0,ye.D)(ke))return K(ke,Ue);if((0,lt.T)(ke))return function G(ke,Ue){return new ce.y(Fe=>{let Z;return(0,H.f)(Fe,Ue,()=>{Z=ke[le.h](),(0,H.f)(Fe,Ue,()=>{let Ge,vt;try{({value:Ge,done:vt}=Z.next())}catch(Pt){return void Fe.error(Pt)}vt?Fe.complete():Fe.next(Ge)},0,!0)}),()=>(0,me.m)(Z?.return)&&Z.return()})}(ke,Ue);if((0,Pe.L)(ke))return function We(ke,Ue){return K((0,Pe.Q)(ke),Ue)}(ke,Ue)}throw(0,Se.z)(ke)}(ke,Ue):(0,s.Xf)(ke)}},8421:(Tt,Me,L)=>{L.d(Me,{Xf:()=>Ce});var s=L(655),B=L(1144),F=L(8239),X=L(9751),Y=L(3670),ce=L(2206),ue=L(4532),le=L(6495),me=L(3260),H=L(576),G=L(7849),K=L(8822);function Ce(xe){if(xe instanceof X.y)return xe;if(null!=xe){if((0,Y.c)(xe))return function Ie(xe){return new X.y(we=>{const ke=xe[K.L]();if((0,H.m)(ke.subscribe))return ke.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,B.z)(xe))return function Le(xe){return new X.y(we=>{for(let ke=0;ke<xe.length&&!we.closed;ke++)we.next(xe[ke]);we.complete()})}(xe);if((0,F.t)(xe))return function lt(xe){return new X.y(we=>{xe.then(ke=>{we.closed||(we.next(ke),we.complete())},ke=>we.error(ke)).then(null,G.h)})}(xe);if((0,ce.D)(xe))return Se(xe);if((0,le.T)(xe))return function ye(xe){return new X.y(we=>{for(const ke of xe)if(we.next(ke),we.closed)return;we.complete()})}(xe);if((0,me.L)(xe))return function Pe(xe){return Se((0,me.Q)(xe))}(xe)}throw(0,ue.z)(xe)}function Se(xe){return new X.y(we=>{(function We(xe,we){var ke,Ue,Fe,Z;return(0,s.mG)(this,void 0,void 0,function*(){try{for(ke=(0,s.KL)(xe);!(Ue=yield ke.next()).done;)if(we.next(Ue.value),we.closed)return}catch(Ge){Fe={error:Ge}}finally{try{Ue&&!Ue.done&&(Z=ke.return)&&(yield Z.call(ke))}finally{if(Fe)throw Fe.error}}we.complete()})})(xe,we).catch(ke=>we.error(ke))})}},6451:(Tt,Me,L)=>{L.d(Me,{T:()=>ce});var s=L(8189),B=L(8421),F=L(515),X=L(3269),Y=L(8996);function ce(...ue){const le=(0,X.yG)(ue),me=(0,X._6)(ue,1/0),H=ue;return H.length?1===H.length?(0,B.Xf)(H[0]):(0,s.J)(me)((0,Y.D)(H,le)):F.E}},5403:(Tt,Me,L)=>{L.d(Me,{Q:()=>F,x:()=>B});var s=L(930);function B(X,Y,ce,ue,le){return new F(X,Y,ce,ue,le)}class F extends s.Lv{constructor(Y,ce,ue,le,me,H){super(Y),this.onFinalize=me,this.shouldUnsubscribe=H,this._next=ce?function(G){try{ce(G)}catch(K){Y.error(K)}}:super._next,this._error=le?function(G){try{le(G)}catch(K){Y.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(G){Y.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},4004:(Tt,Me,L)=>{L.d(Me,{U:()=>F});var s=L(4482),B=L(5403);function F(X,Y){return(0,s.e)((ce,ue)=>{let le=0;ce.subscribe((0,B.x)(ue,me=>{ue.next(X.call(Y,me,le++))}))})}},8189:(Tt,Me,L)=>{L.d(Me,{J:()=>F});var s=L(5577),B=L(4671);function F(X=1/0){return(0,s.z)(B.y,X)}},5577:(Tt,Me,L)=>{L.d(Me,{z:()=>le});var s=L(4004),B=L(8421),F=L(4482),X=L(9672),Y=L(5403),ue=L(576);function le(me,H,G=1/0){return(0,ue.m)(H)?le((K,Ce)=>(0,s.U)((Ie,Le)=>H(K,Ie,Ce,Le))((0,B.Xf)(me(K,Ce))),G):("number"==typeof H&&(G=H),(0,F.e)((K,Ce)=>function ce(me,H,G,K,Ce,Ie,Le,lt){const ye=[];let Se=0,Pe=0,We=!1;const xe=()=>{We&&!ye.length&&!Se&&H.complete()},we=Ue=>Se<K?ke(Ue):ye.push(Ue),ke=Ue=>{Ie&&H.next(Ue),Se++;let Fe=!1;(0,B.Xf)(G(Ue,Pe++)).subscribe((0,Y.x)(H,Z=>{Ce?.(Z),Ie?we(Z):H.next(Z)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(Se--;ye.length&&Se<K;){const Z=ye.shift();Le?(0,X.f)(H,Le,()=>ke(Z)):ke(Z)}xe()}catch(Z){H.error(Z)}}))};return me.subscribe((0,Y.x)(H,we,()=>{We=!0,xe()})),()=>{lt?.()}}(K,Ce,me,G)))}},5363:(Tt,Me,L)=>{L.d(Me,{Q:()=>X});var s=L(9672),B=L(4482),F=L(5403);function X(Y,ce=0){return(0,B.e)((ue,le)=>{ue.subscribe((0,F.x)(le,me=>(0,s.f)(le,Y,()=>le.next(me),ce),()=>(0,s.f)(le,Y,()=>le.complete(),ce),me=>(0,s.f)(le,Y,()=>le.error(me),ce)))})}},3099:(Tt,Me,L)=>{L.d(Me,{B:()=>Y});var s=L(8421),B=L(7579),F=L(930),X=L(4482);function Y(ue={}){const{connector:le=(()=>new B.x),resetOnError:me=!0,resetOnComplete:H=!0,resetOnRefCountZero:G=!0}=ue;return K=>{let Ce,Ie,Le,lt=0,ye=!1,Se=!1;const Pe=()=>{Ie?.unsubscribe(),Ie=void 0},We=()=>{Pe(),Ce=Le=void 0,ye=Se=!1},xe=()=>{const we=Ce;We(),we?.unsubscribe()};return(0,X.e)((we,ke)=>{lt++,!Se&&!ye&&Pe();const Ue=Le=Le??le();ke.add(()=>{lt--,0===lt&&!Se&&!ye&&(Ie=ce(xe,G))}),Ue.subscribe(ke),!Ce&&lt>0&&(Ce=new F.Hp({next:Fe=>Ue.next(Fe),error:Fe=>{Se=!0,Pe(),Ie=ce(We,me,Fe),Ue.error(Fe)},complete:()=>{ye=!0,Pe(),Ie=ce(We,H),Ue.complete()}}),(0,s.Xf)(we).subscribe(Ce))})(K)}}function ce(ue,le,...me){if(!0===le)return void ue();if(!1===le)return;const H=new F.Hp({next:()=>{H.unsubscribe(),ue()}});return(0,s.Xf)(le(...me)).subscribe(H)}},9468:(Tt,Me,L)=>{L.d(Me,{R:()=>B});var s=L(4482);function B(F,X=0){return(0,s.e)((Y,ce)=>{ce.add(F.schedule(()=>Y.subscribe(ce),X))})}},8505:(Tt,Me,L)=>{L.d(Me,{b:()=>Y});var s=L(576),B=L(4482),F=L(5403),X=L(4671);function Y(ce,ue,le){const me=(0,s.m)(ce)||ue||le?{next:ce,error:ue,complete:le}:ce;return me?(0,B.e)((H,G)=>{var K;null===(K=me.subscribe)||void 0===K||K.call(me);let Ce=!0;H.subscribe((0,F.x)(G,Ie=>{var Le;null===(Le=me.next)||void 0===Le||Le.call(me,Ie),G.next(Ie)},()=>{var Ie;Ce=!1,null===(Ie=me.complete)||void 0===Ie||Ie.call(me),G.complete()},Ie=>{var Le;Ce=!1,null===(Le=me.error)||void 0===Le||Le.call(me,Ie),G.error(Ie)},()=>{var Ie,Le;Ce&&(null===(Ie=me.unsubscribe)||void 0===Ie||Ie.call(me)),null===(Le=me.finalize)||void 0===Le||Le.call(me)}))}):X.y}},4408:(Tt,Me,L)=>{L.d(Me,{o:()=>Y});var s=L(727);class B extends s.w0{constructor(ue,le){super()}schedule(ue,le=0){return this}}const F={setInterval(ce,ue,...le){const{delegate:me}=F;return me?.setInterval?me.setInterval(ce,ue,...le):setInterval(ce,ue,...le)},clearInterval(ce){const{delegate:ue}=F;return(ue?.clearInterval||clearInterval)(ce)},delegate:void 0};var X=L(8737);class Y extends B{constructor(ue,le){super(ue,le),this.scheduler=ue,this.work=le,this.pending=!1}schedule(ue,le=0){var me;if(this.closed)return this;this.state=ue;const H=this.id,G=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(G,H,le)),this.pending=!0,this.delay=le,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(G,this.id,le),this}requestAsyncId(ue,le,me=0){return F.setInterval(ue.flush.bind(ue,this),me)}recycleAsyncId(ue,le,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return le;null!=le&&F.clearInterval(le)}execute(ue,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ue,le);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,le){let H,me=!1;try{this.work(ue)}catch(G){me=!0,H=G||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ue,scheduler:le}=this,{actions:me}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(me,this),null!=ue&&(this.id=this.recycleAsyncId(le,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(Tt,Me,L)=>{L.d(Me,{v:()=>F});var s=L(6063);class B{constructor(Y,ce=B.now){this.schedulerActionCtor=Y,this.now=ce}schedule(Y,ce=0,ue){return new this.schedulerActionCtor(this,Y).schedule(ue,ce)}}B.now=s.l.now;class F extends B{constructor(Y,ce=B.now){super(Y,ce),this.actions=[],this._active=!1}flush(Y){const{actions:ce}=this;if(this._active)return void ce.push(Y);let ue;this._active=!0;do{if(ue=Y.execute(Y.state,Y.delay))break}while(Y=ce.shift());if(this._active=!1,ue){for(;Y=ce.shift();)Y.unsubscribe();throw ue}}}},4986:(Tt,Me,L)=>{L.d(Me,{P:()=>X,z:()=>F});var s=L(4408);const F=new(L(7565).v)(s.o),X=F},6063:(Tt,Me,L)=>{L.d(Me,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(Tt,Me,L)=>{L.d(Me,{z:()=>s});const s={setTimeout(B,F,...X){const{delegate:Y}=s;return Y?.setTimeout?Y.setTimeout(B,F,...X):setTimeout(B,F,...X)},clearTimeout(B){const{delegate:F}=s;return(F?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(Tt,Me,L)=>{L.d(Me,{h:()=>B});const B=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Tt,Me,L)=>{L.d(Me,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Tt,Me,L)=>{L.d(Me,{_6:()=>ce,jO:()=>X,yG:()=>Y});var s=L(576),B=L(3532);function F(ue){return ue[ue.length-1]}function X(ue){return(0,s.m)(F(ue))?ue.pop():void 0}function Y(ue){return(0,B.K)(F(ue))?ue.pop():void 0}function ce(ue,le){return"number"==typeof F(ue)?ue.pop():le}},8737:(Tt,Me,L)=>{function s(B,F){if(B){const X=B.indexOf(F);0<=X&&B.splice(X,1)}}L.d(Me,{P:()=>s})},3888:(Tt,Me,L)=>{function s(B){const X=B(Y=>{Error.call(Y),Y.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}L.d(Me,{d:()=>s})},2806:(Tt,Me,L)=>{L.d(Me,{O:()=>X,x:()=>F});var s=L(2416);let B=null;function F(Y){if(s.v.useDeprecatedSynchronousErrorHandling){const ce=!B;if(ce&&(B={errorThrown:!1,error:null}),Y(),ce){const{errorThrown:ue,error:le}=B;if(B=null,ue)throw le}}else Y()}function X(Y){s.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=Y)}},9672:(Tt,Me,L)=>{function s(B,F,X,Y=0,ce=!1){const ue=F.schedule(function(){X(),ce?B.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(B.add(ue),!ce)return ue}L.d(Me,{f:()=>s})},4671:(Tt,Me,L)=>{function s(B){return B}L.d(Me,{y:()=>s})},1144:(Tt,Me,L)=>{L.d(Me,{z:()=>s});const s=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(Tt,Me,L)=>{L.d(Me,{D:()=>B});var s=L(576);function B(F){return Symbol.asyncIterator&&(0,s.m)(F?.[Symbol.asyncIterator])}},576:(Tt,Me,L)=>{function s(B){return"function"==typeof B}L.d(Me,{m:()=>s})},3670:(Tt,Me,L)=>{L.d(Me,{c:()=>F});var s=L(8822),B=L(576);function F(X){return(0,B.m)(X[s.L])}},6495:(Tt,Me,L)=>{L.d(Me,{T:()=>F});var s=L(2202),B=L(576);function F(X){return(0,B.m)(X?.[s.h])}},8239:(Tt,Me,L)=>{L.d(Me,{t:()=>B});var s=L(576);function B(F){return(0,s.m)(F?.then)}},3260:(Tt,Me,L)=>{L.d(Me,{L:()=>X,Q:()=>F});var s=L(655),B=L(576);function F(Y){return(0,s.FC)(this,arguments,function*(){const ue=Y.getReader();try{for(;;){const{value:le,done:me}=yield(0,s.qq)(ue.read());if(me)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(le)}}finally{ue.releaseLock()}})}function X(Y){return(0,B.m)(Y?.getReader)}},3532:(Tt,Me,L)=>{L.d(Me,{K:()=>B});var s=L(576);function B(F){return F&&(0,s.m)(F.schedule)}},4482:(Tt,Me,L)=>{L.d(Me,{A:()=>B,e:()=>F});var s=L(576);function B(X){return(0,s.m)(X?.lift)}function F(X){return Y=>{if(B(Y))return Y.lift(function(ce){try{return X(ce,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Tt,Me,L)=>{function s(){}L.d(Me,{Z:()=>s})},9635:(Tt,Me,L)=>{L.d(Me,{U:()=>F,z:()=>B});var s=L(4671);function B(...X){return F(X)}function F(X){return 0===X.length?s.y:1===X.length?X[0]:function(ce){return X.reduce((ue,le)=>le(ue),ce)}}},7849:(Tt,Me,L)=>{L.d(Me,{h:()=>F});var s=L(2416),B=L(3410);function F(X){B.z.setTimeout(()=>{const{onUnhandledError:Y}=s.v;if(!Y)throw X;Y(X)})}},4532:(Tt,Me,L)=>{function s(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Me,{z:()=>s})},655:(Tt,Me,L)=>{function X(ge,ve){var Te={};for(var Ve in ge)Object.prototype.hasOwnProperty.call(ge,Ve)&&ve.indexOf(Ve)<0&&(Te[Ve]=ge[Ve]);if(null!=ge&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(Ve=Object.getOwnPropertySymbols(ge);$e<Ve.length;$e++)ve.indexOf(Ve[$e])<0&&Object.prototype.propertyIsEnumerable.call(ge,Ve[$e])&&(Te[Ve[$e]]=ge[Ve[$e]])}return Te}function K(ge,ve,Te,Ve){return new(Te||(Te=Promise))(function(qe,ct){function Je(Qt){try{Mt(Ve.next(Qt))}catch(dt){ct(dt)}}function Ut(Qt){try{Mt(Ve.throw(Qt))}catch(dt){ct(dt)}}function Mt(Qt){Qt.done?qe(Qt.value):function $e(qe){return qe instanceof Te?qe:new Te(function(ct){ct(qe)})}(Qt.value).then(Je,Ut)}Mt((Ve=Ve.apply(ge,ve||[])).next())})}function xe(ge){return this instanceof xe?(this.v=ge,this):new xe(ge)}function we(ge,ve,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Ve=Te.apply(ge,ve||[]),qe=[];return $e={},ct("next"),ct("throw"),ct("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function ct(Ft){Ve[Ft]&&($e[Ft]=function(On){return new Promise(function(Pn,Fn){qe.push([Ft,On,Pn,Fn])>1||Je(Ft,On)})})}function Je(Ft,On){try{!function Ut(Ft){Ft.value instanceof xe?Promise.resolve(Ft.value.v).then(Mt,Qt):dt(qe[0][2],Ft)}(Ve[Ft](On))}catch(Pn){dt(qe[0][3],Pn)}}function Mt(Ft){Je("next",Ft)}function Qt(Ft){Je("throw",Ft)}function dt(Ft,On){Ft(On),qe.shift(),qe.length&&Je(qe[0][0],qe[0][1])}}function Ue(ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,ve=ge[Symbol.asyncIterator];return ve?ve.call(ge):(ge=function lt(ge){var ve="function"==typeof Symbol&&Symbol.iterator,Te=ve&&ge[ve],Ve=0;if(Te)return Te.call(ge);if(ge&&"number"==typeof ge.length)return{next:function(){return ge&&Ve>=ge.length&&(ge=void 0),{value:ge&&ge[Ve++],done:!ge}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(ge),Te={},Ve("next"),Ve("throw"),Ve("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function Ve(qe){Te[qe]=ge[qe]&&function(ct){return new Promise(function(Je,Ut){!function $e(qe,ct,Je,Ut){Promise.resolve(Ut).then(function(Mt){qe({value:Mt,done:Je})},ct)}(Je,Ut,(ct=ge[qe](ct)).done,ct.value)})}}}L.d(Me,{FC:()=>we,KL:()=>Ue,_T:()=>X,mG:()=>K,qq:()=>xe})},4650:(Tt,Me,L)=>{L.d(Me,{$8M:()=>Jd,$WT:()=>mn,$Z:()=>zy,AFp:()=>Em,ALo:()=>sf,AaK:()=>le,AsE:()=>Vg,BQk:()=>Ev,CHM:()=>uu,CRH:()=>a0,CZH:()=>zc,CqO:()=>kS,D6c:()=>k0,DdM:()=>qC,Dn7:()=>dn,EJc:()=>uN,EpF:()=>wv,F$t:()=>Hw,F4k:()=>Gw,FYo:()=>QE,FiY:()=>al,Gf:()=>lT,GfV:()=>XE,Gpc:()=>G,Hsn:()=>zw,Ikx:()=>Ug,JOm:()=>Hi,KtG:()=>la,LFG:()=>qt,LMc:()=>MN,Lbi:()=>aN,Lck:()=>Jv,MAs:()=>xS,MGl:()=>Fg,MMx:()=>Xg,MR2:()=>CD,MT6:()=>lC,NdJ:()=>Pg,O4$:()=>to,OlP:()=>Wn,Oqu:()=>Sv,P3R:()=>Ny,PXZ:()=>ad,Q6J:()=>_v,QGY:()=>Cv,Qsj:()=>RD,QtT:()=>Kv,R0b:()=>Xr,RDi:()=>hD,RIp:()=>Nh,Rgc:()=>ea,SBq:()=>Ph,SDv:()=>Yv,Sil:()=>fN,Suo:()=>cT,TTD:()=>Ao,TgZ:()=>vv,Tol:()=>eA,Udp:()=>Yw,VKq:()=>nm,W1O:()=>hm,WLB:()=>rm,X6Q:()=>bN,XFs:()=>ie,Xpm:()=>ft,Xts:()=>yc,Y36:()=>$u,YKP:()=>GC,YNc:()=>RS,Yjl:()=>De,Yz7:()=>dt,Z0I:()=>Fn,ZZ4:()=>M0,_Bn:()=>bn,_UZ:()=>Uw,_Vd:()=>vc,_uU:()=>sA,aQg:()=>Zc,c2e:()=>lN,cJS:()=>On,cg1:()=>Aa,dDg:()=>_N,dqk:()=>xt,eJc:()=>l0,ekj:()=>Kw,eoX:()=>Ma,f3M:()=>Ae,g9A:()=>Cm,h0i:()=>Gr,hij:()=>Av,iGM:()=>um,iPO:()=>wf,ifc:()=>N,ip1:()=>p0,jDz:()=>em,kEZ:()=>ZC,kL8:()=>Fv,kcU:()=>Ap,kuF:()=>Se,lG2:()=>se,lcZ:()=>Qo,lqb:()=>Go,lri:()=>y0,n5z:()=>Kd,oAB:()=>ns,oxw:()=>jw,pQV:()=>Jg,q4F:()=>ew,qLn:()=>Bu,qOj:()=>Wh,qZA:()=>xg,rWj:()=>Sm,s9C:()=>Iv,sBO:()=>xm,s_b:()=>Il,soG:()=>Tm,tb:()=>MT,tp0:()=>_a,uIk:()=>fv,vHH:()=>ye,vpe:()=>Xo,wAp:()=>Bt,xp6:()=>By,ynx:()=>bv,z2F:()=>cd,zSh:()=>dg,zW0:()=>kw,zs3:()=>_l});var s=L(7579),B=L(727),F=L(9751),X=L(6451),Y=L(3099);function ce(a){for(let l in a)if(a[l]===ce)return l;throw Error("Could not find renamed property on target object.")}function ue(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function le(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(le).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function me(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const H=ce({__forward_ref__:ce});function G(a){return a.__forward_ref__=G,a.toString=function(){return le(this())},a}function K(a){return Ce(a)?a():a}function Ce(a){return"function"==typeof a&&a.hasOwnProperty(H)&&a.__forward_ref__===G}function Ie(a){return a&&!!a.\u0275providers}const lt="https://g.co/ng/security#xss";class ye extends Error{constructor(l,c){super(Se(l,c)),this.code=l}}function Se(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}function Pe(a){return"string"==typeof a?a:null==a?"":String(a)}function We(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Pe(a)}function Ue(a,l){throw new ye(-201,!1)}function Je(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}function dt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function On(a){return{providers:a.providers||[],imports:a.imports||[]}}function Pn(a){return Sn(a,hr)||Sn(a,ne)}function Fn(a){return null!==Pn(a)}function Sn(a,l){return a.hasOwnProperty(l)?a[l]:null}function Jn(a){return a&&(a.hasOwnProperty(oe)||a.hasOwnProperty(he))?a[oe]:null}const hr=ce({\u0275prov:ce}),oe=ce({\u0275inj:ce}),ne=ce({ngInjectableDef:ce}),he=ce({ngInjectorDef:ce});var ie=(()=>((ie=ie||{})[ie.Default=0]="Default",ie[ie.Host=1]="Host",ie[ie.Self=2]="Self",ie[ie.SkipSelf=4]="SkipSelf",ie[ie.Optional=8]="Optional",ie))();let je;function Ht(a){const l=je;return je=a,l}function Kt(a,l,c){const d=Pn(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ie.Optional?null:void 0!==l?l:void Ue(le(a))}const xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wn={},Xt="__NG_DI_FLAG__",An="ngTempTokenPath",on="ngTokenPath",Zn=/\n/gm,Mr="\u0275",kn="__source";let zt;function _r(a){const l=zt;return zt=a,l}function qr(a,l=ie.Default){if(void 0===zt)throw new ye(-203,!1);return null===zt?Kt(a,void 0,l):zt.get(a,l&ie.Optional?null:void 0,l)}function qt(a,l=ie.Default){return(function ot(){return je}()||qr)(K(a),l)}function Ae(a,l=ie.Default){return qt(a,ht(l))}function ht(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function St(a){const l=[];for(let c=0;c<a.length;c++){const d=K(a[c]);if(Array.isArray(d)){if(0===d.length)throw new ye(900,!1);let f,m=ie.Default;for(let v=0;v<d.length;v++){const C=d[v],T=Wt(C);"number"==typeof T?-1===T?f=C.token:m|=T:f=C}l.push(qt(f,m))}else l.push(qt(d))}return l}function Zt(a,l){return a[Xt]=l,a.prototype[Xt]=l,a}function Wt(a){return a[Xt]}function z(a){return{toString:a}.toString()}var x=(()=>((x=x||{})[x.OnPush=0]="OnPush",x[x.Default=1]="Default",x))(),N=(()=>{return(a=N||(N={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",N;var a})();const S={},U=[],re=ce({\u0275cmp:ce}),Ee=ce({\u0275dir:ce}),Ke=ce({\u0275pipe:ce}),Ze=ce({\u0275mod:ce}),rt=ce({\u0275fac:ce}),He=ce({__NG_ELEMENT_ID__:ce});let at=0;function ft(a){return z(()=>{const l=br(a),c={...l,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===x.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||N.Emulated,id:"c"+at++,styles:a.styles||U,_:null,schemas:a.schemas||null,tView:null};is(c);const d=a.dependencies;return c.directiveDefs=lr(d,!1),c.pipeDefs=lr(d,!0),c})}function Si(a){return Ne(a)||gt(a)}function Ai(a){return null!==a}function ns(a){return z(()=>({type:a.type,bootstrap:a.bootstrap||U,declarations:a.declarations||U,imports:a.imports||U,exports:a.exports||U,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function rs(a,l){if(null==a)return S;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,l&&(l[f]=m)}return c}function se(a){return z(()=>{const l=br(a);return is(l),l})}function De(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Ne(a){return a[re]||null}function gt(a){return a[Ee]||null}function an(a){return a[Ke]||null}function mn(a){const l=Ne(a)||gt(a)||an(a);return null!==l&&l.standalone}function gn(a,l){const c=a[Ze]||null;if(!c&&!0===l)throw new Error(`Type ${le(a)} does not have '\u0275mod' property.`);return c}function br(a){const l={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||U,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rs(a.inputs,l),outputs:rs(a.outputs)}}function is(a){a.features?.forEach(l=>l(a))}function lr(a,l){if(!a)return null;const c=l?an:Si;return()=>("function"==typeof a?a():a).map(d=>c(d)).filter(Ai)}const Ni=0,Et=1,tn=2,nn=3,si=4,Zs=5,Lr=6,yr=7,Xn=8,To=9,ra=10,rn=11,ys=12,Oi=13,ja=14,jn=15,Ct=16,Yt=17,Ui=18,Vr=19,Br=20,Ss=21,_n=22,Yn=1,Io=2,Mn=7,As=8,Gi=9,oi=10;function Zr(a){return Array.isArray(a)&&"object"==typeof a[Yn]}function hi(a){return Array.isArray(a)&&!0===a[Yn]}function za(a){return 0!=(4&a.flags)}function ss(a){return a.componentOffset>-1}function os(a){return 1==(1&a.flags)}function Er(a){return!!a.template}function Wa(a){return 0!=(256&a[tn])}function Js(a,l){return a.hasOwnProperty(rt)?a[rt]:null}class So{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ao(){return Ka}function Ka(a){return a.type.prototype.ngOnChanges&&(a.setInput=Xs),Qs}function Qs(){const a=Os(this),l=a?.current;if(l){const c=a.previous;if(c===S)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Xs(a,l,c,d){const f=this.declaredInputs[c],m=Os(a)||function ia(a,l){return a[Ja]=l}(a,{previous:S,current:null}),v=m.current||(m.current={}),C=m.previous,T=C[f];v[f]=new So(T&&T.currentValue,l,C===S),a[d]=l}Ao.ngInherit=!0;const Ja="__ngSimpleChanges__";function Os(a){return a[Ja]||null}const pi=function(a,l,c){},$l="svg";function V(a){for(;Array.isArray(a);)a=a[Ni];return a}function J(a,l){return V(l[a])}function pe(a,l){return V(l[a.index])}function it(a,l){return a.data[l]}function Rt(a,l){return a[l]}function ln(a,l){const c=l[a];return Zr(c)?c:c[Ni]}function Hn(a){return 64==(64&a[tn])}function Jt(a,l){return null==l?null:a[l]}function $i(a){a[Ui]=0}function gi(a,l){a[Zs]+=l;let c=a,d=a[nn];for(;null!==d&&(1===l&&1===c[Zs]||-1===l&&0===c[Zs]);)d[Zs]+=l,c=d,d=d[nn]}const $t={lFrame:k_(null),bindingsEnabled:!0};function cu(){return $t.bindingsEnabled}function Be(){return $t.lFrame.lView}function Cn(){return $t.lFrame.tView}function uu(a){return $t.lFrame.contextLView=a,a[Xn]}function la(a){return $t.lFrame.contextLView=null,a}function Yr(){let a=du();for(;null!==a&&64===a.type;)a=a.parent;return a}function du(){return $t.lFrame.currentTNode}function jl(){const a=$t.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function Ri(a,l){const c=$t.lFrame;c.currentTNode=a,c.isParent=l}function Vd(){return $t.lFrame.isParent}function Hl(){$t.lFrame.isParent=!1}function Kr(){const a=$t.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Rs(){return $t.lFrame.bindingIndex}function ca(){return $t.lFrame.bindingIndex++}function Mi(a){const l=$t.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function fu(a){$t.lFrame.inI18n=a}function gE(a,l){const c=$t.lFrame;c.bindingIndex=c.bindingRootIndex=a,wr(l)}function wr(a){$t.lFrame.currentDirectiveIndex=a}function Ip(){return $t.lFrame.currentQueryIndex}function Wl(a){$t.lFrame.currentQueryIndex=a}function P_(a){const l=a[Et];return 2===l.type?l.declTNode:1===l.type?a[Lr]:null}function pu(a,l,c){if(c&ie.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||c&ie.Host||(f=P_(m),null===f||(m=m[jn],10&f.type))););if(null===f)return!1;l=f,a=m}const d=$t.lFrame=Bd();return d.currentTNode=l,d.lView=a,!0}function gu(a){const l=Bd(),c=a[Et];$t.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Bd(){const a=$t.lFrame,l=null===a?null:a.child;return null===l?k_(a):l}function k_(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Ud(){const a=$t.lFrame;return $t.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Dp=Ud;function ql(){const a=Ud();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function mi(){return $t.lFrame.selectedIndex}function eo(a){$t.lFrame.selectedIndex=a}function tr(){const a=$t.lFrame;return it(a.tView,a.selectedIndex)}function to(){$t.lFrame.currentNamespace=$l}function Ap(){!function L_(){$t.lFrame.currentNamespace=null}()}function Xa(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const m=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:R}=m;v&&(a.contentHooks??(a.contentHooks=[])).push(-c,v),C&&((a.contentHooks??(a.contentHooks=[])).push(c,C),(a.contentCheckHooks??(a.contentCheckHooks=[])).push(c,C)),T&&(a.viewHooks??(a.viewHooks=[])).push(-c,T),A&&((a.viewHooks??(a.viewHooks=[])).push(c,A),(a.viewCheckHooks??(a.viewCheckHooks=[])).push(c,A)),null!=R&&(a.destroyHooks??(a.destroyHooks=[])).push(c,R)}}function el(a,l,c){B_(a,l,3,c)}function $d(a,l,c,d){(3&a[tn])===c&&B_(a,l,c,d)}function jd(a,l){let c=a[tn];(3&c)===l&&(c&=2047,c+=1,a[tn]=c)}function B_(a,l,c,d){const m=d??-1,v=l.length-1;let C=0;for(let T=void 0!==d?65535&a[Ui]:0;T<v;T++)if("number"==typeof l[T+1]){if(C=l[T],null!=d&&C>=d)break}else l[T]<0&&(a[Ui]+=65536),(C<m||-1==m)&&(U_(a,c,l,T),a[Ui]=(4294901760&a[Ui])+T+2),T++}function U_(a,l,c,d){const f=c[d]<0,m=c[d+1],C=a[f?-c[d]:c[d]];if(f){if(a[tn]>>11<a[Ui]>>16&&(3&a[tn])===l){a[tn]+=2048,pi(4,C,m);try{m.call(C)}finally{pi(5,C,m)}}}else{pi(4,C,m);try{m.call(C)}finally{pi(5,C,m)}}}const Yl=-1;class mu{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Np(a,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const m=c[d++],v=c[d++],C=c[d++];a.setAttribute(l,v,C,m)}else{const m=f,v=c[++d];Rp(m)?a.setProperty(l,m,v):a.setAttribute(l,m,v),d++}}return d}function Op(a){return 3===a||4===a||6===a}function Rp(a){return 64===a.charCodeAt(0)}function nl(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||_u(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function _u(a,l,c,d,f){let m=0,v=a.length;if(-1===l)v=-1;else for(;m<a.length;){const C=a[m++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=m-1;break}}}for(;m<a.length;){const C=a[m];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(a[m+1]=f));if(d===a[m+1])return void(a[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(a.splice(v,0,l),m=v+1),a.splice(m++,0,c),null!==d&&a.splice(m++,0,d),null!==f&&a.splice(m++,0,f)}function fr(a){return a!==Yl}function No(a){return 32767&a}function yu(a,l){let c=function $_(a){return a>>16}(a),d=l;for(;c>0;)d=d[jn],c--;return d}let zd=!0;function vu(a){const l=zd;return zd=a,l}const bu=255,yE=5;let Wd=0;const Ms={};function no(a,l){const c=pr(a,l);if(-1!==c)return c;const d=l[Et];d.firstCreatePass&&(a.injectorIndex=l.length,qd(d.data,a),qd(l,null),qd(d.blueprint,null));const f=ua(a,l),m=a.injectorIndex;if(fr(f)){const v=No(f),C=yu(f,l),T=C[Et].data;for(let A=0;A<8;A++)l[m+A]=C[v+A]|T[v+A]}return l[m+8]=f,m}function qd(a,l){a.push(0,0,0,0,0,0,0,0,l)}function pr(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function ua(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=Fp(f),null===d)return Yl;if(c++,f=f[jn],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Yl}function Jl(a,l,c){!function Mp(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(He)&&(d=c[He]),null==d&&(d=c[He]=Wd++);const f=d&bu;l.data[a+(f>>yE)]|=1<<f}(a,l,c)}function Ql(a,l,c){if(c&ie.Optional||void 0!==a)return a;Ue()}function Zd(a,l,c,d){if(c&ie.Optional&&void 0===d&&(d=null),!(c&(ie.Self|ie.Host))){const f=a[To],m=Ht(void 0);try{return f?f.get(l,d,c&ie.Optional):Kt(l,d,c&ie.Optional)}finally{Ht(m)}}return Ql(d,0,c)}function xp(a,l,c,d=ie.Default,f){if(null!==a){if(1024&l[tn]){const v=function kp(a,l,c,d,f){let m=a,v=l;for(;null!==m&&null!==v&&1024&v[tn]&&!(256&v[tn]);){const C=Yd(m,v,c,d|ie.Self,Ms);if(C!==Ms)return C;let T=m.parent;if(!T){const A=v[Ss];if(A){const R=A.get(c,Ms,d);if(R!==Ms)return R}T=Fp(v),v=v[jn]}m=T}return f}(a,l,c,d,Ms);if(v!==Ms)return v}const m=Yd(a,l,c,d,Ms);if(m!==Ms)return m}return Zd(l,c,d,f)}function Yd(a,l,c,d,f){const m=function Mo(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(He)?a[He]:void 0;return"number"==typeof l?l>=0?l&bu:z_:l}(c);if("function"==typeof m){if(!pu(l,a,d))return d&ie.Host?Ql(f,0,d):Zd(l,c,d,f);try{const v=m(d);if(null!=v||d&ie.Optional)return v;Ue()}finally{Dp()}}else if("number"==typeof m){let v=null,C=pr(a,l),T=Yl,A=d&ie.Host?l[Ct][Lr]:null;for((-1===C||d&ie.SkipSelf)&&(T=-1===C?ua(a,l):l[C+8],T!==Yl&&Eu(d,!1)?(v=l[Et],C=No(T),l=yu(T,l)):C=-1);-1!==C;){const R=l[Et];if(rl(m,C,R.data)){const j=H_(C,l,c,v,d,A);if(j!==Ms)return j}T=l[C+8],T!==Yl&&Eu(d,l[Et].data[C+8]===A)&&rl(m,C,l)?(v=R,C=No(T),l=yu(T,l)):C=-1}}return f}function H_(a,l,c,d,f,m){const v=l[Et],C=v.data[a+8],R=Oo(C,v,c,null==d?ss(C)&&zd:d!=v&&0!=(3&C.type),f&ie.Host&&m===C);return null!==R?Ro(l,v,R,C):Ms}function Oo(a,l,c,d,f){const m=a.providerIndexes,v=l.data,C=1048575&m,T=a.directiveStart,R=m>>20,Q=f?C+R:a.directiveEnd;for(let ae=d?C:C+R;ae<Q;ae++){const Re=v[ae];if(ae<T&&c===Re||ae>=T&&Re.type===c)return ae}if(f){const ae=v[T];if(ae&&Er(ae)&&ae.type===c)return T}return null}function Ro(a,l,c,d){let f=a[c];const m=l.data;if(function mE(a){return a instanceof mu}(f)){const v=f;v.resolving&&function xe(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new ye(-200,`Circular dependency in DI detected for ${a}${c}`)}(We(m[c]));const C=vu(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Ht(v.injectImpl):null;pu(a,d,ie.Default);try{f=a[c]=v.factory(void 0,m,a,d),l.firstCreatePass&&c>=d.directiveStart&&function Zl(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const v=Ka(l);(c.preOrderHooks??(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(a,v)}f&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-a,f),m&&((c.preOrderHooks??(c.preOrderHooks=[])).push(a,m),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(a,m))}(c,m[c],l)}finally{null!==T&&Ht(T),vu(C),v.resolving=!1,Dp()}}return f}function rl(a,l,c){return!!(c[l+(a>>yE)]&1<<a)}function Eu(a,l){return!(a&ie.Self||a&ie.Host&&l)}class xo{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return xp(this._tNode,this._lView,l,ht(d),c)}}function z_(){return new xo(Yr(),Be())}function Kd(a){return z(()=>{const l=a.prototype.constructor,c=l[rt]||Pp(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const m=f[rt]||Pp(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Pp(a){return Ce(a)?()=>{const l=Pp(K(a));return l&&l()}:Js(a)}function Fp(a){const l=a[Et],c=l.type;return 2===c?l.declTNode:1===c?a[Lr]:null}function Jd(a){return function j_(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(Op(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===l)return c[f+1];f+=2}}}return null}(Yr(),a)}const ec="__parameters__";function tc(a,l,c){return z(()=>{const d=function Lp(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(T,A,R){const j=T.hasOwnProperty(ec)?T[ec]:Object.defineProperty(T,ec,{value:[]})[ec];for(;j.length<=R;)j.push(null);return(j[R]=j[R]||[]).push(v),T}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class Wn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=dt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ps(a,l){a.forEach(c=>Array.isArray(c)?Ps(c,l):l(c))}function Vp(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function fa(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function pa(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function Ur(a,l,c){let d=us(a,l);return d>=0?a[1|d]=c:(d=~d,function ga(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function eh(a,l){const c=us(a,l);if(c>=0)return a[1|c]}function us(a,l){return function Y_(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const m=d+(f-d>>1),v=a[m<<c];if(l===v)return m<<c;v>l?f=m:d=m+1}return~(f<<c)}(a,l,1)}const al=Zt(tc("Optional"),8),_a=Zt(tc("SkipSelf"),4);var Hi=(()=>((Hi=Hi||{})[Hi.Important=1]="Important",Hi[Hi.DashCase=2]="DashCase",Hi))();const oy=/^>|^->|<!--|-->|--!>|<!-$/g,dh=/(<|>)/,Zp="\u200b$1\u200b";const Yp=new Map;let wE=0;const ph="__ngContext__";function _i(a,l){Zr(l)?(a[ph]=l[Br],function CE(a){Yp.set(a[Br],a)}(l)):a[ph]=l}let ac;function _h(a,l){return ac(a,l)}function Lo(a){const l=a[nn];return hi(l)?l[nn]:l}function vh(a){return oo(a[Oi])}function Sr(a){return oo(a[si])}function oo(a){for(;null!==a&&!hi(a);)a=a[si];return a}function ao(a,l,c,d,f){if(null!=d){let m,v=!1;hi(d)?m=d:Zr(d)&&(v=!0,d=d[Ni]);const C=V(d);0===a&&null!==c?null==f?Wi(l,c,C):gr(l,c,C,f||null,!0):1===a&&null!==c?gr(l,c,C,f||null,!0):2===a?gy(l,C,v):3===a&&l.destroyNode(C),null!=m&&function pc(a,l,c,d,f){const m=c[Mn];m!==V(c)&&ao(l,a,d,m,f);for(let C=oi;C<c.length;C++){const T=c[C];fc(T[Et],T,a,l,d,m)}}(l,a,m,c,f)}}function bh(a,l){return a.createText(l)}function Eh(a,l,c){a.setValue(l,c)}function Jp(a,l){return a.createComment(function ay(a){return a.replace(oy,l=>l.replace(dh,Zp))}(l))}function Mu(a,l,c){return a.createElement(l,c)}function D(a,l){const c=a[Gi],d=c.indexOf(l),f=l[nn];512&l[tn]&&(l[tn]&=-513,gi(f,-1)),c.splice(d,1)}function M(a,l){if(a.length<=oi)return;const c=oi+l,d=a[c];if(d){const f=d[Yt];null!==f&&f!==a&&D(f,d),l>0&&(a[c-1][si]=d[si]);const m=fa(a,oi+l);!function Qp(a,l){fc(a,l,l[rn],2,null,null),l[Ni]=null,l[Lr]=null}(d[Et],d);const v=m[Vr];null!==v&&v.detachView(m[Et]),d[nn]=null,d[si]=null,d[tn]&=-65}return d}function ee(a,l){if(!(128&l[tn])){const c=l[rn];c.destroyNode&&fc(a,l,c,3,null,null),function g(a){let l=a[Oi];if(!l)return fe(a[Et],a);for(;l;){let c=null;if(Zr(l))c=l[Oi];else{const d=l[oi];d&&(c=d)}if(!c){for(;l&&!l[si]&&l!==a;)Zr(l)&&fe(l[Et],l),l=l[nn];null===l&&(l=a),Zr(l)&&fe(l[Et],l),c=l&&l[si]}l=c}}(l)}}function fe(a,l){if(!(128&l[tn])){l[tn]&=-65,l[tn]|=128,function ut(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof mu)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],T=m[v+1];pi(4,C,T);try{T.call(C)}finally{pi(5,C,T)}}else{pi(4,f,m);try{m.call(f)}finally{pi(5,f,m)}}}}}(a,l),function st(a,l){const c=a.cleanup,d=l[yr];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+3];v>=0?d[f=v]():d[f=-v].unsubscribe(),m+=2}else{const v=d[f=c[m+1]];c[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();l[yr]=null}}(a,l),1===l[Et].type&&l[rn].destroy();const c=l[Yt];if(null!==c&&hi(l[nn])){c!==l[nn]&&D(c,l);const d=l[Vr];null!==d&&d.detachView(a)}!function TE(a){Yp.delete(a[Br])}(l)}}function At(a,l,c){return un(a,l.parent,c)}function un(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[Ni];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:m}=a.data[d.directiveStart+f];if(m===N.None||m===N.Emulated)return null}return pe(d,c)}}function gr(a,l,c,d,f){a.insertBefore(l,c,d,f)}function Wi(a,l,c){a.appendChild(l,c)}function hl(a,l,c,d,f){null!==d?gr(a,l,c,d,f):Wi(a,l,c)}function ya(a,l){return a.parentNode(l)}function dc(a,l,c){return wh(a,l,c)}function xu(a,l,c){return 40&a.type?pe(a,c):null}let hc,ng,pl,Th,wh=xu;function Ch(a,l){wh=a,hc=l}function va(a,l,c,d){const f=At(a,d,l),m=l[rn],C=dc(d.parent||l[Lr],d,l);if(null!=f)if(Array.isArray(c))for(let T=0;T<c.length;T++)hl(m,f,c[T],C,!1);else hl(m,f,c,C,!1);void 0!==hc&&hc(m,d,l,c,f)}function fl(a,l){if(null!==l){const c=l.type;if(3&c)return pe(l,a);if(4&c)return py(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return fl(a,d);{const f=a[l.index];return hi(f)?py(-1,f):V(f)}}if(32&c)return _h(l,a)()||V(a[l.index]);{const d=eg(a,l);return null!==d?Array.isArray(d)?d[0]:fl(Lo(a[Ct]),d):fl(a,l.next)}}return null}function eg(a,l){return null!==l?a[Ct][Lr].projection[l.projection]:null}function py(a,l){const c=oi+a+1;if(c<l.length){const d=l[c],f=d[Et].firstChild;if(null!==f)return fl(d,f)}return l[Mn]}function gy(a,l,c){const d=ya(a,l);d&&function cc(a,l,c,d){a.removeChild(l,c,d)}(a,d,l,c)}function my(a,l,c,d,f,m,v){for(;null!=c;){const C=d[c.index],T=c.type;if(v&&0===l&&(C&&_i(V(C),d),c.flags|=2),32!=(32&c.flags))if(8&T)my(a,l,c.child,d,f,m,!1),ao(l,a,f,C,m);else if(32&T){const A=_h(c,d);let R;for(;R=A();)ao(l,a,f,R,m);ao(l,a,f,C,m)}else 16&T?SE(a,l,d,c,f,m):ao(l,a,f,C,m);c=v?c.projectionNext:c.next}}function fc(a,l,c,d,f,m){my(c,d,a.firstChild,l,f,m,!1)}function SE(a,l,c,d,f,m){const v=c[Ct],T=v[Lr].projection[d.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)ao(l,a,f,T[A],m);else my(a,l,T,v[nn],f,m,!0)}function yy(a,l,c){""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c)}function vy(a,l,c){const{mergedAttrs:d,classes:f,styles:m}=c;null!==d&&Np(a,l,d),null!==f&&yy(a,l,f),null!==m&&function zx(a,l,c){a.setAttribute(l,"style",c)}(a,l,m)}function Vo(a){return function gc(){if(void 0===ng&&(ng=null,xt.trustedTypes))try{ng=xt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return ng}()?.createHTML(a)||a}function hD(a){pl=a}function RE(a){return function by(){if(void 0===Th&&(Th=null,xt.trustedTypes))try{Th=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Th}()?.createScriptURL(a)||a}class ig{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function Uo(a){return a instanceof ig?a.changingThisBreaksApplicationSecurity:a}function lo(a,l){const c=function sg(a){return a instanceof ig&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see ${lt})`)}return c===l}class pD{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(Vo(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class gD{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const c=this.inertDocument.createElement("template");return c.innerHTML=Vo(l),c}}const _D=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wy(a){return(a=String(a)).match(_D)?a:"unsafe:"+a}function ba(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function ku(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Cy=ba("area,br,col,hr,img,wbr"),FE=ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),LE=ba("rp,rt"),og=ku(Cy,ku(FE,ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ku(LE,ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ku(LE,FE)),Dh=ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_c=ku(Dh,ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var xr=(()=>((xr=xr||{})[xr.NONE=0]="NONE",xr[xr.HTML=1]="HTML",xr[xr.STYLE=2]="STYLE",xr[xr.SCRIPT=3]="SCRIPT",xr[xr.URL=4]="URL",xr[xr.RESOURCE_URL=5]="RESOURCE_URL",xr))();function GE(a){const l=Sh();return l?l.sanitize(xr.URL,a)||"":lo(a,"URL")?Uo(a):wy(Pe(a))}function Fu(a){const l=Sh();if(l)return RE(l.sanitize(xr.RESOURCE_URL,a)||"");if(lo(a,"ResourceURL"))return RE(Uo(a));throw new ye(904,!1)}function Ny(a,l,c){return function $E(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?Fu:GE}(l,c)(a)}function Sh(){const a=Be();return a&&a[ys]}const yc=new Wn("ENVIRONMENT_INITIALIZER"),Ah=new Wn("INJECTOR",-1),ug=new Wn("INJECTOR_DEF_TYPES");class jE{get(l,c=wn){if(c===wn){const d=new Error(`NullInjectorError: No provider for ${le(l)}!`);throw d.name="NullInjectorError",d}return c}}function CD(a){return{\u0275providers:a}}function Nh(...a){return{\u0275providers:Oy(0,a),\u0275fromNgModule:!0}}function Oy(a,...l){const c=[],d=new Set;let f;return Ps(l,m=>{const v=m;HE(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&TD(f,c),c}function TD(a,l){for(let c=0;c<a.length;c++){const{providers:f}=a[c];zE(f,m=>{l.push(m)})}}function HE(a,l,c,d){if(!(a=K(a)))return!1;let f=null,m=Jn(a);const v=!m&&Ne(a);if(m||v){if(v&&!v.standalone)return!1;f=a}else{const T=a.ngModule;if(m=Jn(T),!m)return!1;f=T}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of T)HE(A,l,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let A;d.add(f);try{Ps(m.imports,R=>{HE(R,l,c,d)&&(A||(A=[]),A.push(R))})}finally{}void 0!==A&&TD(A,l)}if(!C){const A=Js(f)||(()=>new f);l.push({provide:f,useFactory:A,deps:U},{provide:ug,useValue:f,multi:!0},{provide:yc,useValue:()=>qt(f),multi:!0})}const T=m.providers;null==T||C||zE(T,R=>{l.push(R)})}}return f!==a&&void 0!==a.providers}function zE(a,l){for(let c of a)Ie(c)&&(c=c.\u0275providers),Array.isArray(c)?zE(c,l):l(c)}const Ry=ce({provide:String,useValue:ce});function My(a){return null!==a&&"object"==typeof a&&Ry in a}function Ea(a){return"function"==typeof a}const dg=new Wn("Set Injector scope."),ml={},ID={};let xy;function Oh(){return void 0===xy&&(xy=new jE),xy}class Go{}class ZE extends Go{get destroyed(){return this._destroyed}constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ky(l,v=>this.processProvider(v)),this.records.set(Ah,Vu(void 0,this)),f.has("environment")&&this.records.set(Go,Vu(void 0,this));const m=this.records.get(dg);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(ug.multi,U,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=_r(this),d=Ht(void 0);try{return l()}finally{_r(c),Ht(d)}}get(l,c=wn,d=ie.Default){this.assertNotDestroyed(),d=ht(d);const f=_r(this),m=Ht(void 0);try{if(!(d&ie.SkipSelf)){let C=this.records.get(l);if(void 0===C){const T=function DD(a){return"function"==typeof a||"object"==typeof a&&a instanceof Wn}(l)&&Pn(l);C=T&&this.injectableDefInScope(T)?Vu(Py(l),ml):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&ie.Self?Oh():this.parent).get(l,c=d&ie.Optional&&c===wn?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[An]=v[An]||[]).unshift(le(l)),f)throw v;return function Rn(a,l,c,d){const f=a[An];throw l[kn]&&f.unshift(l[kn]),a.message=function q(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==Mr?a.slice(2):a;let f=le(l);if(Array.isArray(l))f=l.map(le).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):le(C)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(Zn,"\n  ")}`}("\n"+a.message,f,c,d),a[on]=f,a[An]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{Ht(m),_r(f)}}resolveInjectorInitializers(){const l=_r(this),c=Ht(void 0);try{const d=this.get(yc.multi,U,ie.Self);for(const f of d)f()}finally{_r(l),Ht(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(le(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(l){let c=Ea(l=K(l))?l:K(l&&l.provide);const d=function Rh(a){return My(a)?Vu(void 0,a.useValue):Vu(YE(a),ml)}(l);if(Ea(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Vu(void 0,ml,!0),f.factory=()=>St(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===ml&&(c.value=ID,c.value=c.factory()),"object"==typeof c.value&&c.value&&function xh(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=K(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Py(a){const l=Pn(a),c=null!==l?l.factory:Js(a);if(null!==c)return c;if(a instanceof Wn)throw new ye(204,!1);if(a instanceof Function)return function Lu(a){const l=a.length;if(l>0)throw pa(l,"?"),new ye(204,!1);const c=function Kn(a){return a&&(a[hr]||a[ne])||null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new ye(204,!1)}function YE(a,l,c){let d;if(Ea(a)){const f=K(a);return Js(f)||Py(f)}if(My(a))d=()=>K(a.useValue);else if(function qE(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...St(a.deps||[]));else if(function WE(a){return!(!a||!a.useExisting)}(a))d=()=>qt(K(a.useExisting));else{const f=K(a&&(a.useClass||a.provide));if(!function Mh(a){return!!a.deps}(a))return Js(f)||Py(f);d=()=>new f(...St(a.deps))}return d}function Vu(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function ky(a,l){for(const c of a)Array.isArray(c)?ky(c,l):c&&Ie(c)?ky(c.\u0275providers,l):l(c)}class SD{}class KE{}class ND{resolveComponentFactory(l){throw function AD(a){const l=Error(`No component factory found for ${le(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let vc=(()=>{class a{}return a.NULL=new ND,a})();function hg(){return uo(Yr(),Be())}function uo(a,l){return new Ph(pe(a,l))}let Ph=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=hg,a})();function OD(a){return a instanceof Ph?a.nativeElement:a}class QE{}let RD=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function MD(){const a=Be(),c=ln(Yr().index,a);return(Zr(c)?c:a)[rn]}(),a})(),xD=(()=>{class a{}return a.\u0275prov=dt({token:a,providedIn:"root",factory:()=>null}),a})();class XE{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const ew=new XE("15.2.8"),Fy={},fg="ngOriginalError";function kh(a){return a[fg]}class Bu{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&kh(l);for(;c&&kh(c);)c=kh(c);return c||null}}function $o(a){return a instanceof Function?a():a}function tw(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||a.charCodeAt(f+m)<=32)return f}c=f+1}}const nw="ng-template";function UD(a,l,c){let d=0,f=!0;for(;d<a.length;){let m=a[d++];if("string"==typeof m&&f){const v=a[d++];if(c&&"class"===m&&-1!==tw(v.toLowerCase(),l,0))return!0}else{if(1===m){for(;d<a.length&&"string"==typeof(m=a[d++]);)if(m.toLowerCase()===l)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function rw(a){return 4===a.type&&a.value!==nw}function iw(a,l,c){return l===(4!==a.type||c?a.value:nw)}function GD(a,l,c){let d=4;const f=a.attrs||[],m=function HD(a){for(let l=0;l<a.length;l++)if(Op(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const T=l[C];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!iw(a,T,c)||""===T&&1===l.length){if(ho(d))return!1;v=!0}}else{const A=8&d?T:l[++C];if(8&d&&null!==a.attrs){if(!UD(a.attrs,A,c)){if(ho(d))return!1;v=!0}continue}const j=$D(8&d?"class":T,f,rw(a),c);if(-1===j){if(ho(d))return!1;v=!0;continue}if(""!==A){let Q;Q=j>m?"":f[j+1].toLowerCase();const ae=8&d?Q:null;if(ae&&-1!==tw(ae,A,0)||2&d&&A!==Q){if(ho(d))return!1;v=!0}}}}else{if(!v&&!ho(d)&&!ho(T))return!1;if(v&&ho(T))continue;v=!1,d=T|1&d}}return ho(d)||v}function ho(a){return 0==(1&a)}function $D(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let m=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function zD(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function sw(a,l,c=!1){for(let d=0;d<l.length;d++)if(GD(a,l[d],c))return!0;return!1}function ow(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function aw(a,l){return a?":not("+l.trim()+")":l}function lw(a){let l=a[0],c=1,d=2,f="",m=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const C=a[++c];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!ho(v)&&(l+=aw(m,f),f=""),d=v,m=m||!ho(d);c++}return""!==f&&(l+=aw(m,f)),l}const cn={};function By(a){uw(Cn(),Be(),mi()+a,!1)}function uw(a,l,c,d){if(!d)if(3==(3&l[tn])){const m=a.preOrderCheckHooks;null!==m&&el(l,m,c)}else{const m=a.preOrderHooks;null!==m&&$d(l,m,0,c)}eo(c)}function vg(a,l=null,c=null,d){const f=pw(a,l,c,d);return f.resolveInjectorInitializers(),f}function pw(a,l=null,c=null,d,f=new Set){const m=[c||U,Nh(a)];return d=d||("object"==typeof a?void 0:le(a)),new ZE(m,l||Oh(),d||null,f)}let _l=(()=>{class a{static create(c,d){if(Array.isArray(c))return vg({name:""},d,c,"");{const f=c.name??"";return vg({name:f},c.parent,c.providers,f)}}}return a.THROW_IF_NOT_FOUND=wn,a.NULL=new jE,a.\u0275prov=dt({token:a,providedIn:"any",factory:()=>qt(Ah)}),a.__NG_ELEMENT_ID__=-1,a})();function $u(a,l=ie.Default){const c=Be();return null===c?qt(a,l):xp(Yr(),c,K(a),l)}function zy(){throw new Error("invalid")}function Cg(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const m=c[d+1];if(-1!==m){const v=a.data[m];Wl(c[d]),v.contentQueries(2,l[m],m)}}}function Wy(a,l,c,d,f,m,v,C,T,A,R){const j=l.blueprint.slice();return j[Ni]=f,j[tn]=76|d,(null!==R||a&&1024&a[tn])&&(j[tn]|=1024),$i(j),j[nn]=j[jn]=a,j[Xn]=c,j[ra]=v||a&&a[ra],j[rn]=C||a&&a[rn],j[ys]=T||a&&a[ys]||null,j[To]=A||a&&a[To]||null,j[Lr]=m,j[Br]=function ly(){return wE++}(),j[Ss]=R,j[Ct]=2==l.type?a[Ct]:j,j}function Ec(a,l,c,d,f){let m=a.data[l];if(null===m)m=Tg(a,l,c,d,f),function zl(){return $t.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const v=jl();m.injectorIndex=null===v?-1:v.injectorIndex}return Ri(m,!0),m}function Tg(a,l,c,d,f){const m=du(),v=Vd(),T=a.data[l]=function oS(a,l,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=T),null!==m&&(v?null==m.child&&null!==T.parent&&(m.child=T):null===m.next&&(m.next=T,T.prev=m)),T}function wc(a,l,c,d){if(0===c)return-1;const f=l.length;for(let m=0;m<c;m++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function qy(a,l,c){gu(l);try{const d=a.viewQuery;null!==d&&$h(1,d,c);const f=a.template;null!==f&&bw(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Cg(a,l),a.staticViewQueries&&$h(2,a.viewQuery,c);const m=a.components;null!==m&&function iP(a,l){for(let c=0;c<l.length;c++)yi(a,l[c])}(l,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[tn]&=-5,ql()}}function Ig(a,l,c,d){const f=l[tn];if(128!=(128&f)){gu(l);try{$i(l),function hu(a){return $t.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&bw(a,l,c,2,d);const v=3==(3&f);if(v){const A=a.preOrderCheckHooks;null!==A&&el(l,A,null)}else{const A=a.preOrderHooks;null!==A&&$d(l,A,0,null),jd(l,0)}if(function yS(a){for(let l=vh(a);null!==l;l=Sr(l)){if(!l[Io])continue;const c=l[Gi];for(let d=0;d<c.length;d++){const f=c[d];512&f[tn]||gi(f[nn],1),f[tn]|=512}}}(l),function _S(a){for(let l=vh(a);null!==l;l=Sr(l))for(let c=oi;c<l.length;c++){const d=l[c],f=d[Et];Hn(d)&&Ig(f,d,f.template,d[Xn])}}(l),null!==a.contentQueries&&Cg(a,l),v){const A=a.contentCheckHooks;null!==A&&el(l,A)}else{const A=a.contentHooks;null!==A&&$d(l,A,1),jd(l,1)}!function yl(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)eo(~f);else{const m=f,v=c[++d],C=c[++d];gE(v,m),C(2,l[m])}}}finally{eo(-1)}}(a,l);const C=a.components;null!==C&&function iS(a,l){for(let c=0;c<l.length;c++)vS(a,l[c])}(l,C);const T=a.viewQuery;if(null!==T&&$h(2,T,d),v){const A=a.viewCheckHooks;null!==A&&el(l,A)}else{const A=a.viewHooks;null!==A&&$d(l,A,2),jd(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[tn]&=-41,512&l[tn]&&(l[tn]&=-513,gi(l[nn],-1))}finally{ql()}}}function bw(a,l,c,d,f){const m=mi(),v=2&d;try{eo(-1),v&&l.length>_n&&uw(a,l,_n,!1),pi(v?2:0,f),c(d,f)}finally{eo(m),pi(v?3:1,f)}}function Dg(a,l,c){if(za(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=a.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function Zy(a,l,c){cu()&&(function Zi(a,l,c,d){const f=c.directiveStart,m=c.directiveEnd;ss(c)&&function Sg(a,l,c){const d=pe(l,a),f=sS(c),m=a[ra],v=Gh(a,Wy(a,f,null,c.onPush?32:16,d,l,m,m.createRenderer(d,c),null,null,null));a[l.index]=v}(l,c,a.data[f+c.componentOffset]),a.firstCreatePass||no(c,l),_i(d,l);const v=c.initialInputs;for(let C=f;C<m;C++){const T=a.data[C],A=Ro(l,a,C,c);_i(A,l),null!==v&&gS(0,C-f,A,T,0,v),Er(T)&&(ln(c.index,l)[Xn]=Ro(l,a,C,c))}}(a,l,c,pe(c,l)),64==(64&c.flags)&&Ca(a,l,c))}function Ew(a,l,c=pe){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?c(l,a):a[v];a[f++]=C}}}function sS(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=ww(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function ww(a,l,c,d,f,m,v,C,T,A){const R=_n+d,j=R+f,Q=function Bh(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:cn);return c}(R,j),ae="function"==typeof A?A():A;return Q[Et]={type:a,blueprint:Q,template:c,queries:null,viewQuery:C,declTNode:l,data:Q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:ae,incompleteFirstPass:!1}}function Yy(a,l,c,d){const f=Dw(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&Sw(a).push(d,f.length-1))}function Cw(a,l,c,d){for(let f in a)if(a.hasOwnProperty(f)){c=null===c?{}:c;const m=a[f];null===d?jo(c,l,f,m):d.hasOwnProperty(f)&&jo(c,l,d[f],m)}return c}function jo(a,l,c,d){a.hasOwnProperty(c)?a[c].push(l,d):a[c]=[l,d]}function vs(a,l,c,d,f,m,v,C){const T=pe(l,c);let R,A=l.inputs;!C&&null!=A&&(R=A[d])?(Tc(a,c,R,d,f),ss(l)&&function cS(a,l){const c=ln(l,a);16&c[tn]||(c[tn]|=32)}(c,l.index)):3&l.type&&(d=function lS(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,m.setProperty(T,d,f))}function Ky(a,l,c,d){if(cu()){const f=null===d?null:{"":-1},m=function vl(a,l){const c=a.directiveRegistry;let d=null,f=null;if(c)for(let m=0;m<c.length;m++){const v=c[m];if(sw(l,v.selectors,!1))if(d||(d=[]),Er(v))if(null!==v.findHostDirectiveDefs){const C=[];f=f||new Map,v.findHostDirectiveDefs(v,C,f),d.unshift(...C,v),Uh(a,l,C.length)}else d.unshift(v),Uh(a,l,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,d,f),d.push(v)}return null===d?null:[d,f]}(a,c);let v,C;null===m?v=C=null:[v,C]=m,null!==v&&hS(a,l,c,v,f,C),f&&function Tw(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=c[l[f+1]];if(null==m)throw new ye(-301,!1);d.push(l[f],m)}}}(c,d,f)}c.mergedAttrs=nl(c.mergedAttrs,c.attrs)}function hS(a,l,c,d,f,m){for(let A=0;A<d.length;A++)Jl(no(c,l),a,d[A].type);!function Pr(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}(c,a.data.length,d.length);for(let A=0;A<d.length;A++){const R=d[A];R.providersResolver&&R.providersResolver(R)}let v=!1,C=!1,T=wc(a,l,d.length,null);for(let A=0;A<d.length;A++){const R=d[A];c.mergedAttrs=nl(c.mergedAttrs,R.hostAttrs),pS(a,c,l,T,R),fS(T,R,f),null!==R.contentQueries&&(c.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(c.flags|=64);const j=R.type.prototype;!v&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((a.preOrderHooks??(a.preOrderHooks=[])).push(c.index),v=!0),!C&&(j.ngOnChanges||j.ngDoCheck)&&((a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(c.index),C=!0),T++}!function aS(a,l,c){const f=l.directiveEnd,m=a.data,v=l.attrs,C=[];let T=null,A=null;for(let R=l.directiveStart;R<f;R++){const j=m[R],Q=c?c.get(j):null,Re=Q?Q.outputs:null;T=Cw(j.inputs,R,T,Q?Q.inputs:null),A=Cw(j.outputs,R,A,Re);const et=null===T||null===v||rw(l)?null:mS(T,R,v);C.push(et)}null!==T&&(T.hasOwnProperty("class")&&(l.flags|=8),T.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=C,l.inputs=T,l.outputs=A}(a,c,m)}function Ca(a,l,c){const d=c.directiveStart,f=c.directiveEnd,m=c.index,v=function Tp(){return $t.lFrame.currentDirectiveIndex}();try{eo(m);for(let C=d;C<f;C++){const T=a.data[C],A=l[C];wr(C),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&$(T,A)}}finally{eo(-1),wr(v)}}function $(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Uh(a,l,c){l.componentOffset=c,(a.components??(a.components=[])).push(l.index)}function fS(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;Er(l)&&(c[""]=a)}}function pS(a,l,c,d,f){a.data[d]=f;const m=f.factory||(f.factory=Js(f.type)),v=new mu(m,Er(f),$u);a.blueprint[d]=v,c[d]=v,function Jy(a,l,c,d,f){const m=f.hostBindings;if(m){let v=a.hostBindingOpCodes;null===v&&(v=a.hostBindingOpCodes=[]);const C=~l.index;(function mr(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(v)!=C&&v.push(C),v.push(c,d,m)}}(a,l,d,wc(a,c,f.hostVars,cn),f)}function Qy(a,l,c,d,f,m,v){if(null==m)a.removeAttribute(l,f,c);else{const C=null==v?Pe(m):v(m,d||"",f);a.setAttribute(l,f,C,c)}}function gS(a,l,c,d,f,m){const v=m[l];if(null!==v){const C=d.setInput;for(let T=0;T<v.length;){const A=v[T++],R=v[T++],j=v[T++];null!==C?d.setInput(c,j,A,R):c[R]=j}}}function mS(a,l,c){let d=null,f=0;for(;f<c.length;){const m=c[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(a.hasOwnProperty(m)){null===d&&(d=[]);const v=a[m];for(let C=0;C<v.length;C+=2)if(v[C]===l){d.push(m,v[C+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function Xy(a,l,c,d){return[a,!0,!1,l,null,0,d,c,null,null]}function vS(a,l){const c=ln(l,a);if(Hn(c)){const d=c[Et];48&c[tn]?Ig(d,c,d.template,c[Xn]):c[Zs]>0&&ev(c)}}function ev(a){for(let d=vh(a);null!==d;d=Sr(d))for(let f=oi;f<d.length;f++){const m=d[f];if(Hn(m))if(512&m[tn]){const v=m[Et];Ig(v,m,v.template,m[Xn])}else m[Zs]>0&&ev(m)}const c=a[Et].components;if(null!==c)for(let d=0;d<c.length;d++){const f=ln(c[d],a);Hn(f)&&f[Zs]>0&&ev(f)}}function yi(a,l){const c=ln(l,a),d=c[Et];(function Ag(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),qy(d,c,c[Xn])}function Gh(a,l){return a[Oi]?a[ja][si]=l:a[Oi]=l,a[ja]=l,l}function ju(a){for(;a;){a[tn]|=32;const l=Lo(a);if(Wa(a)&&!l)return a;a=l}return null}function Cc(a,l,c,d=!0){const f=l[ra];f.begin&&f.begin();try{Ig(a,l,a.template,c)}catch(v){throw d&&Nw(l,v),v}finally{f.end&&f.end()}}function $h(a,l,c){Wl(0),l(a,c)}function Dw(a){return a[yr]||(a[yr]=[])}function Sw(a){return a.cleanup||(a.cleanup=[])}function Nw(a,l){const c=a[To],d=c?c.get(Bu,null):null;d&&d.handleError(l)}function Tc(a,l,c,d,f){for(let m=0;m<c.length;){const v=c[m++],C=c[m++],T=l[v],A=a.data[v];null!==A.setInput?A.setInput(T,f,d,C):T[C]=f}}function Ho(a,l,c){const d=J(l,a);Eh(a[rn],d,c)}function Ic(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?m=C:1==m?f=me(f,C):2==m&&(d=me(d,C+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}function jh(a,l,c,d,f=!1){for(;null!==c;){const m=l[c.index];if(null!==m&&d.push(V(m)),hi(m))for(let C=oi;C<m.length;C++){const T=m[C],A=T[Et].firstChild;null!==A&&jh(T[Et],T,A,d)}const v=c.type;if(8&v)jh(a,l,c.child,d);else if(32&v){const C=_h(c,l);let T;for(;T=C();)d.push(T)}else if(16&v){const C=eg(l,c);if(Array.isArray(C))d.push(...C);else{const T=Lo(l[Ct]);jh(T[Et],T,C,d,!0)}}c=f?c.projectionNext:c.next}return d}class Hh{get rootNodes(){const l=this._lView,c=l[Et];return jh(c,l,c.firstChild,[])}constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xn]}set context(l){this._lView[Xn]=l}get destroyed(){return 128==(128&this._lView[tn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[nn];if(hi(l)){const c=l[As],d=c?c.indexOf(this):-1;d>-1&&(M(l,d),fa(c,d))}this._attachedToViewContainer=!1}ee(this._lView[Et],this._lView)}onDestroy(l){Yy(this._lView[Et],this._lView,null,l)}markForCheck(){ju(this._cdRefInjectingView||this._lView)}detach(){this._lView[tn]&=-65}reattach(){this._lView[tn]|=64}detectChanges(){Cc(this._lView[Et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function b(a,l){fc(a,l,l[rn],2,null,null)}(this._lView[Et],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=l}}class bS extends Hh{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Cc(l[Et],l,l[Xn],!1)}checkNoChanges(){}get context(){return null}}class Ow extends vc{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=Ne(l);return new Hu(c,this.ngModule)}}function Rw(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class tv{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){d=ht(d);const f=this.injector.get(l,Fy,d);return f!==Fy||c===Fy?f:this.parentInjector.get(l,c,d)}}class Hu extends KE{get inputs(){return Rw(this.componentDef.inputs)}get outputs(){return Rw(this.componentDef.outputs)}constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function cw(a){return a.map(lw).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}create(l,c,d,f){let m=(f=f||this.ngModule)instanceof Go?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new tv(l,m):l,C=v.get(QE,null);if(null===C)throw new ye(407,!1);const T=v.get(xD,null),A=C.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",j=d?function sP(a,l,c){return a.selectRootElement(l,c===N.ShadowDom)}(A,d,this.componentDef.encapsulation):Mu(A,R,function Mw(a){const l=a.toLowerCase();return"svg"===l?$l:"math"===l?"math":null}(R)),Q=this.componentDef.onPush?288:272,ae=ww(0,null,null,1,0,null,null,null,null,null),Re=Wy(null,ae,null,Q,null,null,C,A,T,v,null);let et,mt;gu(Re);try{const Dt=this.componentDef;let jt,ze=null;Dt.findHostDirectiveDefs?(jt=[],ze=new Map,Dt.findHostDirectiveDefs(Dt,jt,ze),jt.push(Dt)):jt=[Dt];const sn=function zh(a,l){const c=a[Et],d=_n;return a[d]=l,Ec(c,d,2,"#host",null)}(Re,j),ur=function wS(a,l,c,d,f,m,v,C){const T=f[Et];!function rv(a,l,c,d){for(const f of a)l.mergedAttrs=nl(l.mergedAttrs,f.hostAttrs);null!==l.mergedAttrs&&(Ic(l,l.mergedAttrs,!0),null!==c&&vy(d,c,l))}(d,a,l,v);const A=m.createRenderer(l,c),R=Wy(f,sS(c),null,c.onPush?32:16,f[a.index],a,m,A,C||null,null,null);return T.firstCreatePass&&Uh(T,a,d.length-1),Gh(f,R),f[a.index]=R}(sn,j,Dt,jt,Re,C,A);mt=it(ae,_n),j&&function CS(a,l,c,d){if(d)Np(a,c,["ng-version",ew.full]);else{const{attrs:f,classes:m}=function Xx(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++d]):8===f&&c.push(m);else{if(!ho(f))break;f=m}d++}return{attrs:l,classes:c}}(l.selectors[0]);f&&Np(a,c,f),m&&m.length>0&&yy(a,c,m.join(" "))}}(A,Dt,j,d),void 0!==c&&function sv(a,l,c){const d=a.projection=[];for(let f=0;f<l.length;f++){const m=c[f];d.push(null!=m?Array.from(m):null)}}(mt,this.ngContentSelectors,c),et=function iv(a,l,c,d,f,m){const v=Yr(),C=f[Et],T=pe(v,f);hS(C,f,v,c,null,d);for(let R=0;R<c.length;R++)_i(Ro(f,C,v.directiveStart+R,v),f);Ca(C,f,v),T&&_i(T,f);const A=Ro(f,C,v.directiveStart+v.componentOffset,v);if(a[Xn]=f[Xn]=A,null!==m)for(const R of m)R(A,l);return Dg(C,v,a),A}(ur,Dt,jt,ze,Re,[xw]),qy(ae,Re,null)}finally{ql()}return new nv(this.componentType,et,uo(mt,Re),Re,mt)}}class nv extends SD{constructor(l,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new bS(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const m=this._rootLView;Tc(m[Et],m,f,l,c),ju(ln(this._tNode.index,m))}}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function xw(){const a=Yr();Xa(Be()[Et],a)}function Wh(a){let l=function ov(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(Er(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ye(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const v=a;v.inputs=av(a.inputs),v.declaredInputs=av(a.declaredInputs),v.outputs=av(a.outputs);const C=f.hostBindings;C&&lv(a,C);const T=f.viewQuery,A=f.contentQueries;if(T&&IS(a,T),A&&Ng(a,A),ue(a.inputs,f.inputs),ue(a.declaredInputs,f.declaredInputs),ue(a.outputs,f.outputs),Er(f)&&f.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(a),C===Wh&&(c=!1)}}l=Object.getPrototypeOf(l)}!function TS(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=nl(f.hostAttrs,c=nl(c,f.hostAttrs))}}(d)}function av(a){return a===S?{}:a===U?[]:a}function IS(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function Ng(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,m)=>{l(d,f,m),c(d,f,m)}:l}function lv(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}function kw(a){return l=>{l.findHostDirectiveDefs=dv,l.hostDirectives=(Array.isArray(a)?a:a()).map(c=>"function"==typeof c?{directive:K(c),inputs:S,outputs:S}:{directive:K(c.directive),inputs:Dc(c.inputs),outputs:Dc(c.outputs)})}}function dv(a,l,c){if(null!==a.hostDirectives)for(const d of a.hostDirectives){const f=gt(d.directive);Fw(f.declaredInputs,d.inputs),dv(f,l,c),c.set(f,d),l.push(f)}}function Dc(a){if(void 0===a||0===a.length)return S;const l={};for(let c=0;c<a.length;c+=2)l[a[c]]=a[c+1];return l}function Fw(a,l){for(const c in l)l.hasOwnProperty(c)&&(a[l[c]]=a[c])}function Og(a){return!!hv(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function hv(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function zo(a,l,c){return a[l]=c}function vi(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function El(a,l,c,d){const f=vi(a,l,c);return vi(a,l+1,d)||f}function fv(a,l,c,d){const f=Be();return vi(f,ca(),l)&&(Cn(),function Fs(a,l,c,d,f,m){const v=pe(a,l);Qy(l[rn],v,m,a.value,c,d,f)}(tr(),f,a,l,c,d)),fv}function Sc(a,l,c,d){return vi(a,ca(),c)?l+Pe(c)+d:cn}function Ac(a,l,c,d,f,m){const C=El(a,Rs(),c,f);return Mi(2),C?l+Pe(c)+d+Pe(f)+m:cn}function RS(a,l,c,d,f,m,v,C){const T=Be(),A=Cn(),R=a+_n,j=A.firstCreatePass?function mv(a,l,c,d,f,m,v,C,T){const A=l.consts,R=Ec(l,a,4,v||null,Jt(A,C));Ky(l,c,R,Jt(A,T)),Xa(l,R);const j=R.tView=ww(2,R,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,R),j.queries=l.queries.embeddedTView(R)),R}(R,A,T,l,c,d,f,m,v):A.data[R];Ri(j,!1);const Q=T[rn].createComment("");va(A,T,Q,j),_i(Q,T),Gh(T,T[R]=Xy(Q,T,Q,j)),os(j)&&Zy(A,T,j),null!=v&&Ew(T,j,C)}function xS(a){return Rt(function Ep(){return $t.lFrame.contextLView}(),_n+a)}function _v(a,l,c){const d=Be();return vi(d,ca(),l)&&vs(Cn(),tr(),d,a,l,d[rn],c,!1),_v}function yv(a,l,c,d,f){const v=f?"class":"style";Tc(a,c,l.inputs[v],v,d)}function vv(a,l,c,d){const f=Be(),m=Cn(),v=_n+a,C=f[rn],T=m.firstCreatePass?function uP(a,l,c,d,f,m){const v=l.consts,T=Ec(l,a,2,d,Jt(v,f));return Ky(l,c,T,Jt(v,m)),null!==T.attrs&&Ic(T,T.attrs,!1),null!==T.mergedAttrs&&Ic(T,T.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,T),T}(v,m,f,l,c,d):m.data[v],A=f[v]=Mu(C,l,function V_(){return $t.lFrame.currentNamespace}()),R=os(T);return Ri(T,!0),vy(C,A,T),32!=(32&T.flags)&&va(m,f,A,T),0===function cr(){return $t.lFrame.elementDepthCount}()&&_i(A,f),function cs(){$t.lFrame.elementDepthCount++}(),R&&(Zy(m,f,T),Dg(m,T,f)),null!==d&&Ew(f,T),vv}function xg(){let a=Yr();Vd()?Hl():(a=a.parent,Ri(a,!1));const l=a;!function lu(){$t.lFrame.elementDepthCount--}();const c=Cn();return c.firstCreatePass&&(Xa(c,a),za(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Hd(a){return 0!=(8&a.flags)}(l)&&yv(c,l,Be(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function G_(a){return 0!=(16&a.flags)}(l)&&yv(c,l,Be(),l.stylesWithoutHost,!1),xg}function Uw(a,l,c,d){return vv(a,l,c,d),xg(),Uw}function bv(a,l,c){const d=Be(),f=Cn(),m=a+_n,v=f.firstCreatePass?function dP(a,l,c,d,f){const m=l.consts,v=Jt(m,d),C=Ec(l,a,8,"ng-container",v);return null!==v&&Ic(C,v,!0),Ky(l,c,C,Jt(m,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(m,f,d,l,c):f.data[m];Ri(v,!0);const C=d[m]=d[rn].createComment("");return va(f,d,C,v),_i(C,d),os(v)&&(Zy(f,d,v),Dg(f,v,d)),null!=c&&Ew(d,v),bv}function Ev(){let a=Yr();const l=Cn();return Vd()?Hl():(a=a.parent,Ri(a,!1)),l.firstCreatePass&&(Xa(l,a),za(a)&&l.queries.elementEnd(a)),Ev}function wv(){return Be()}function Cv(a){return!!a&&"function"==typeof a.then}function Gw(a){return!!a&&"function"==typeof a.subscribe}const kS=Gw;function Pg(a,l,c,d){const f=Be(),m=Cn(),v=Yr();return function FS(a,l,c,d,f,m,v){const C=os(d),A=a.firstCreatePass&&Sw(a),R=l[Xn],j=Dw(l);let Q=!0;if(3&d.type||v){const et=pe(d,l),mt=v?v(et):et,Dt=j.length,jt=v?sn=>v(V(sn[d.index])):d.index;let ze=null;if(!v&&C&&(ze=function Tv(a,l,c,d){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===c&&f[m+1]===d){const C=l[yr],T=f[m+2];return C.length>T?C[T]:null}"string"==typeof v&&(m+=2)}return null}(a,l,f,d.index)),null!==ze)(ze.__ngLastListenerFn__||ze).__ngNextListenerFn__=m,ze.__ngLastListenerFn__=m,Q=!1;else{m=$w(d,l,R,m,!1);const sn=c.listen(mt,f,m);j.push(m,sn),A&&A.push(f,jt,Dt,Dt+1)}}else m=$w(d,l,R,m,!1);const ae=d.outputs;let Re;if(Q&&null!==ae&&(Re=ae[f])){const et=Re.length;if(et)for(let mt=0;mt<et;mt+=2){const ur=l[Re[mt]][Re[mt+1]].subscribe(m),Ar=j.length;j.push(m,ur),A&&A.push(f,d.index,Ar,-(Ar+1))}}}(m,f,f[rn],v,a,l,d),Pg}function kg(a,l,c,d){try{return pi(6,l,c),!1!==c(d)}catch(f){return Nw(a,f),!1}finally{pi(7,l,c)}}function $w(a,l,c,d,f){return function m(v){if(v===Function)return d;ju(a.componentOffset>-1?ln(a.index,l):l);let T=kg(l,c,d,v),A=m.__ngNextListenerFn__;for(;A;)T=kg(l,c,A,v)&&T,A=A.__ngNextListenerFn__;return f&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function jw(a=1){return function Sp(a){return($t.lFrame.contextLView=function F_(a,l){for(;a>0;)l=l[jn],a--;return l}(a,$t.lFrame.contextLView))[Xn]}(a)}function LS(a,l){let c=null;const d=function jD(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(!(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?sw(a,m,!0):ow(d,m))return f}else c=f}return c}function Hw(a){const l=Be()[Ct][Lr];if(!l.projection){const d=l.projection=pa(a?a.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const v=a?LS(m,a):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function zw(a,l=0,c){const d=Be(),f=Cn(),m=Ec(f,_n+a,16,null,c||null);null===m.projection&&(m.projection=l),Hl(),32!=(32&m.flags)&&function tg(a,l,c){SE(l[rn],0,l,c,At(a,c,l),dc(c.parent||l[Lr],c,l))}(f,d,m)}function Iv(a,l,c){return Fg(a,"",l,"",c),Iv}function Fg(a,l,c,d,f){const m=Be(),v=Sc(m,l,c,d);return v!==cn&&vs(Cn(),tr(),m,a,v,m[rn],f,!1),Fg}function Dv(a,l){return a<<17|l<<2}function xc(a){return a>>17&32767}function Ww(a){return 2|a}function Zu(a){return(131068&a)>>2}function qw(a,l){return-131069&a|l<<2}function Zw(a){return 1|a}function qS(a,l,c,d,f){const m=a[c+1],v=null===l;let C=d?xc(m):Zu(m),T=!1;for(;0!==C&&(!1===T||v);){const R=a[C+1];mP(a[C],l)&&(T=!0,a[C+1]=d?Zw(R):Ww(R)),C=d?xc(R):Zu(R)}T&&(a[c+1]=d?Ww(m):Zw(m))}function mP(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&us(a,l)>=0}const ci={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZS(a){return a.substring(ci.key,ci.keyEnd)}function YS(a,l){const c=ci.textEnd;return c===l?-1:(l=ci.keyEnd=function bP(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,ci.key=l,c),Kh(a,l,c))}function Kh(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function Yw(a,l,c){return Wo(a,l,c,!1),Yw}function Kw(a,l){return Wo(a,l,null,!0),Kw}function eA(a){qo(AP,Ia,a,!0)}function Ia(a,l){for(let c=function yP(a){return function JS(a){ci.key=0,ci.keyEnd=0,ci.value=0,ci.valueEnd=0,ci.textEnd=a.length}(a),YS(a,Kh(a,0,ci.textEnd))}(l);c>=0;c=YS(l,c))Ur(a,ZS(l),!0)}function Wo(a,l,c,d){const f=Be(),m=Cn(),v=Mi(2);m.firstUpdatePass&&nA(m,a,v,d),l!==cn&&vi(f,v,l)&&tC(m,m.data[mi()],f,f[rn],a,f[v+1]=function NP(a,l){return null==a||""===a||("string"==typeof l?a+=l:"object"==typeof a&&(a=le(Uo(a)))),a}(l,c),d,v)}function qo(a,l,c,d){const f=Cn(),m=Mi(2);f.firstUpdatePass&&nA(f,null,m,d);const v=Be();if(c!==cn&&vi(v,m,c)){const C=f.data[mi()];if(iA(C,d)&&!tA(f,m)){let T=d?C.classesWithoutHost:C.stylesWithoutHost;null!==T&&(c=me(T,c||"")),yv(f,C,v,c,d)}else!function eC(a,l,c,d,f,m,v,C){f===cn&&(f=U);let T=0,A=0,R=0<f.length?f[0]:null,j=0<m.length?m[0]:null;for(;null!==R||null!==j;){const Q=T<f.length?f[T+1]:void 0,ae=A<m.length?m[A+1]:void 0;let et,Re=null;R===j?(T+=2,A+=2,Q!==ae&&(Re=j,et=ae)):null===j||null!==R&&R<j?(T+=2,Re=R):(A+=2,Re=j,et=ae),null!==Re&&tC(a,l,c,d,Re,et,v,C),R=T<f.length?f[T]:null,j=A<m.length?m[A]:null}}(f,C,v,v[rn],v[m+1],v[m+1]=function Qw(a,l,c){if(null==c||""===c)return U;const d=[],f=Uo(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)a(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&a(d,m,f[m]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,m)}}function tA(a,l){return l>=a.expandoStartIndex}function nA(a,l,c,d){const f=a.data;if(null===f[c+1]){const m=f[mi()],v=tA(a,c);iA(m,d)&&null===l&&!v&&(l=!1),l=function TP(a,l,c,d){const f=function Qa(a){const l=$t.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=Da(c=Jw(null,a,l,c,d),l.attrs,d),m=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(c=Jw(f,a,l,c,d),null===m){let T=function IP(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==Zu(d))return a[xc(d)]}(a,l,d);void 0!==T&&Array.isArray(T)&&(T=Jw(null,a,l,T[1],d),T=Da(T,l.attrs,d),function DP(a,l,c,d){a[xc(c?l.classBindings:l.styleBindings)]=d}(a,l,d,T))}else m=function SP(a,l,c){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=Da(d,a[m].hostAttrs,c);return Da(d,l.attrs,c)}(a,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),c}(f,m,l,d),function pP(a,l,c,d,f,m){let v=m?l.classBindings:l.styleBindings,C=xc(v),T=Zu(v);a[d]=c;let R,A=!1;if(Array.isArray(c)?(R=c[1],(null===R||us(c,R)>0)&&(A=!0)):R=c,f)if(0!==T){const Q=xc(a[C+1]);a[d+1]=Dv(Q,C),0!==Q&&(a[Q+1]=qw(a[Q+1],d)),a[C+1]=function WS(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=Dv(C,0),0!==C&&(a[C+1]=qw(a[C+1],d)),C=d;else a[d+1]=Dv(T,0),0===C?C=d:a[T+1]=qw(a[T+1],d),T=d;A&&(a[d+1]=Ww(a[d+1])),qS(a,R,d,!0),qS(a,R,d,!1),function gP(a,l,c,d,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&us(m,l)>=0&&(c[d+1]=Zw(c[d+1]))}(l,R,a,d,m),v=Dv(C,T),m?l.classBindings=v:l.styleBindings=v}(f,m,l,c,v,d)}}function Jw(a,l,c,d,f){let m=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(m=l[C],d=Da(d,m.hostAttrs,f),m!==a);)C++;return null!==a&&(c.directiveStylingLast=C),d}function Da(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ur(a,v,!!c||l[++m]))}return void 0===a?null:a}function AP(a,l,c){const d=String(l);""!==d&&!d.includes(" ")&&Ur(a,d,c)}function tC(a,l,c,d,f,m,v,C){if(!(3&l.type))return;const T=a.data,A=T[C+1],R=function fP(a){return 1==(1&a)}(A)?rA(T,l,c,f,Zu(A),v):void 0;Lg(R)||(Lg(m)||function hP(a){return 2==(2&a)}(A)&&(m=rA(T,null,c,f,C,v)),function _y(a,l,c,d,f){if(l)f?a.addClass(c,d):a.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:Hi.DashCase;null==f?a.removeStyle(c,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Hi.Important),a.setStyle(c,d,f,m))}}(d,v,J(mi(),c),f,m))}function rA(a,l,c,d,f,m){const v=null===l;let C;for(;f>0;){const T=a[f],A=Array.isArray(T),R=A?T[1]:T,j=null===R;let Q=c[f+1];Q===cn&&(Q=j?U:void 0);let ae=j?eh(Q,d):R===d?Q:void 0;if(A&&!Lg(ae)&&(ae=eh(T,d)),Lg(ae)&&(C=ae,v))return C;const Re=a[f+1];f=v?xc(Re):Zu(Re)}if(null!==l){let T=m?l.residualClasses:l.residualStyles;null!=T&&(C=eh(T,d))}return C}function Lg(a){return void 0!==a}function iA(a,l){return 0!=(a.flags&(l?8:16))}function sA(a,l=""){const c=Be(),d=Cn(),f=a+_n,m=d.firstCreatePass?Ec(d,f,1,l,null):d.data[f],v=c[f]=bh(c[rn],l);va(d,c,v,m),Ri(m,!1)}function Sv(a){return Av("",a,""),Sv}function Av(a,l,c){const d=Be(),f=Sc(d,a,l,c);return f!==cn&&Ho(d,mi(),f),Av}function Vg(a,l,c,d,f){const m=Be(),v=Ac(m,a,l,c,d,f);return v!==cn&&Ho(m,mi(),v),Vg}function lC(a,l,c,d,f){qo(Ur,Ia,Ac(Be(),a,l,c,d,f),!0)}function Ug(a,l,c){const d=Be();return vi(d,ca(),l)&&vs(Cn(),tr(),d,a,l,d[rn],c,!0),Ug}const Sa=void 0;var pC=["en",[["a","p"],["AM","PM"],Sa],[["AM","PM"],Sa,Sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sa,"{1} 'at' {0}",Sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yu(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Pc={};function Aa(a){const l=function Zo(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=Jr(l);if(c)return c;const d=l.split("-")[0];if(c=Jr(d),c)return c;if("en"===d)return pC;throw new ye(701,!1)}function Fv(a){return Aa(a)[Bt.PluralCase]}function Jr(a){return a in Pc||(Pc[a]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[a]),Pc[a]}var Bt=(()=>((Bt=Bt||{})[Bt.LocaleId=0]="LocaleId",Bt[Bt.DayPeriodsFormat=1]="DayPeriodsFormat",Bt[Bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Bt[Bt.DaysFormat=3]="DaysFormat",Bt[Bt.DaysStandalone=4]="DaysStandalone",Bt[Bt.MonthsFormat=5]="MonthsFormat",Bt[Bt.MonthsStandalone=6]="MonthsStandalone",Bt[Bt.Eras=7]="Eras",Bt[Bt.FirstDayOfWeek=8]="FirstDayOfWeek",Bt[Bt.WeekendRange=9]="WeekendRange",Bt[Bt.DateFormat=10]="DateFormat",Bt[Bt.TimeFormat=11]="TimeFormat",Bt[Bt.DateTimeFormat=12]="DateTimeFormat",Bt[Bt.NumberSymbols=13]="NumberSymbols",Bt[Bt.NumberFormats=14]="NumberFormats",Bt[Bt.CurrencyCode=15]="CurrencyCode",Bt[Bt.CurrencySymbol=16]="CurrencySymbol",Bt[Bt.CurrencyName=17]="CurrencyName",Bt[Bt.Currencies=18]="Currencies",Bt[Bt.Directionality=19]="Directionality",Bt[Bt.PluralCase=20]="PluralCase",Bt[Bt.ExtraData=21]="ExtraData",Bt))();const Pi=["zero","one","two","few","many"],Na="en-US",fo={marker:"element"},Bs={marker:"ICU"};var nr=(()=>((nr=nr||{})[nr.SHIFT=2]="SHIFT",nr[nr.APPEND_EAGERLY=1]="APPEND_EAGERLY",nr[nr.COMMENT=2]="COMMENT",nr))();let Ku=Na;function jg(a){(function ct(a,l){null==a&&Je(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(Ku=a.toLowerCase().replace(/_/g,"-"))}function Qr(a,l,c){const d=l.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?xu(a,0,c):V(c[f])}function Lv(a,l,c,d,f){const m=l.insertBeforeIndex;if(Array.isArray(m)){let v=d,C=null;if(3&l.type||(C=v,v=f),null!==v&&-1===l.componentOffset)for(let T=1;T<m.length;T++)gr(a,v,c[m[T]],C,!1)}}function mC(a,l){if(a.push(l),a.length>1)for(let c=a.length-2;c>=0;c--){const d=a[c];_C(d)||EA(d,l)&&null===wA(d)&&CA(d,l.index)}}function _C(a){return!(64&a.type)}function EA(a,l){return _C(l)||a.index>l.index}function wA(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function CA(a,l){const c=a.insertBeforeIndex;Array.isArray(c)?c[0]=l:(Ch(Qr,Lv),a.insertBeforeIndex=l)}function Qh(a,l){const c=a.data[l];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function TA(a,l,c){const d=Tg(a,c,64,null,null);return mC(l,d),d}function Cl(a,l){const c=l[a.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function vC(a){return a>>>17}function bC(a){return(131070&a)>>>1}let Xu=0,ed=0;function Vv(a,l,c,d){const f=c[rn];let v,m=null;for(let C=0;C<l.length;C++){const T=l[C];if("string"==typeof T){const A=l[++C];null===c[A]&&(c[A]=bh(f,T))}else if("number"==typeof T)switch(1&T){case 0:const A=vC(T);let R,j;if(null===m&&(m=A,v=ya(f,d)),A===m?(R=d,j=v):(R=null,j=V(c[A])),null!==j){const et=bC(T);gr(f,j,c[et],R,!1);const Dt=Qh(a,et);if(null!==Dt&&"object"==typeof Dt){const jt=Cl(Dt,c);null!==jt&&Vv(a,Dt.create[jt],c,c[Dt.anchorIdx])}}break;case 1:const ae=l[++C],Re=l[++C];Qy(f,J(T>>>1,c),null,null,ae,Re,null)}else switch(T){case Bs:const A=l[++C],R=l[++C];null===c[R]&&_i(c[R]=Jp(f,A),c);break;case fo:const j=l[++C],Q=l[++C];null===c[Q]&&_i(c[Q]=Mu(f,j,null),c)}}}function Bv(a,l,c,d,f){for(let m=0;m<c.length;m++){const v=c[m],C=c[++m];if(v&f){let T="";for(let A=m+1;A<=m+C;A++){const R=c[A];if("string"==typeof R)T+=R;else if("number"==typeof R)if(R<0)T+=Pe(l[d-R]);else{const j=R>>>2;switch(3&R){case 1:const Q=c[++A],ae=c[++A],Re=a.data[j];"string"==typeof Re?Qy(l[rn],l[j],null,Re,Q,T,ae):vs(a,Re,l,Q,T,l[rn],ae,!1);break;case 0:const et=l[j];null!==et&&Eh(l[rn],et,T);break;case 2:TC(a,Qh(a,j),l,T);break;case 3:zg(a,Qh(a,j),d,l)}}}}else{const T=c[m+1];if(T>0&&3==(3&T)){const R=Qh(a,T>>>2);l[R.currentCaseLViewIndex]<0&&zg(a,R,d,l)}}m+=C}}function zg(a,l,c,d){let f=d[l.currentCaseLViewIndex];if(null!==f){let m=Xu;f<0&&(f=d[l.currentCaseLViewIndex]=~f,m=-1),Bv(a,d,l.update[f],c,m)}}function TC(a,l,c,d){const f=function Gv(a,l){let c=a.cases.indexOf(l);if(-1===c)switch(a.type){case 1:{const d=function vA(a,l){const c=Fv(l)(parseInt(a,10)),d=Pi[c];return void 0!==d?d:"other"}(l,function gC(){return Ku}());c=a.cases.indexOf(d),-1===c&&"other"!==d&&(c=a.cases.indexOf("other"));break}case 0:c=a.cases.indexOf("other")}return-1===c?null:c}(l,d);if(Cl(l,c)!==f&&(Uv(a,l,c),c[l.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const v=c[l.anchorIdx];v&&Vv(a,l.create[f],c,v)}}function Uv(a,l,c){let d=Cl(l,c);if(null!==d){const f=l.remove[d];for(let m=0;m<f.length;m++){const v=f[m];if(v>0){const C=J(v,c);null!==C&&gy(c[rn],C)}else Uv(a,Qh(a,~v),c)}}}function IA(){const a=[];let c,d,l=-1;function m(C,T){l=0;const A=Cl(C,T);d=null!==A?C.remove[A]:U}function v(){if(l<d.length){const C=d[l++];return C>0?c[C]:(a.push(l,d),m(c[Et].data[~C],c),v())}return 0===a.length?null:(d=a.pop(),l=a.pop(),v())}return function f(C,T){for(c=T;a.length;)a.pop();return m(C.value,T),v}}const qg=/\ufffd(\d+):?\d*\ufffd/gi,SC=/\ufffd(\d+)\ufffd/,AC=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Xh="\ufffd",AA=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,NC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,OC=/\uE500/g;function MC(a,l,c,d,f,m,v){const C=wc(a,d,1,null);let T=C<<nr.SHIFT,A=jl();l===A&&(A=null),null===A&&(T|=nr.APPEND_EAGERLY),v&&(T|=nr.COMMENT,function so(a){void 0===ac&&(ac=a())}(IA)),f.push(T,null===m?"":m);const R=Tg(a,C,v?32:1,null===m?"":m,null);mC(c,R);const j=R.index;return Ri(R,!1),null!==A&&l!==A&&function Ju(a,l){let c=a.insertBeforeIndex;null===c?(Ch(Qr,Lv),c=a.insertBeforeIndex=[null,l]):(function Pt(a,l,c){a!=l&&Je(c,a,l,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(l))}(A,j),R}function OA(a,l,c,d,f,m,v){const C=v.match(qg),T=MC(a,l,c,m,d,C?null:v,!1);C&&td(f,v,T.index,null,0,null)}function td(a,l,c,d,f,m){const v=a.length,C=v+1;a.push(null,null);const T=v+2,A=l.split(qg);let R=0;for(let j=0;j<A.length;j++){const Q=A[j];if(1&j){const ae=f+parseInt(Q,10);a.push(-1-ae),R|=PC(ae)}else""!==Q&&a.push(Q)}return a.push(c<<2|(d?1:0)),d&&a.push(d,m),a[v]=R,a[C]=a.length-T,R}function PC(a){return 1<<Math.min(a,31)}function kC(a){let l,m,c="",d=0,f=!1;for(;null!==(l=AA.exec(a));)f?l[0]===`${Xh}/*${m}${Xh}`&&(d=l.index,f=!1):(c+=a.substring(d,l.index+l[0].length),m=l[1],f=!0);return c+=a.slice(d),c}function Zg(a,l,c,d,f,m){let v=0;const C={type:f.type,currentCaseLViewIndex:wc(a,l,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function kA(a,l,c){a.push(PC(l.mainBinding),2,-1-l.mainBinding,c<<2|2)})(c,f,m),function yC(a,l,c){const d=a.data[l];null===d?a.data[l]=c:d.value=c}(a,m,C);const T=f.values;for(let A=0;A<T.length;A++){const R=T[A],j=[];for(let Q=0;Q<R.length;Q++){const ae=R[Q];if("string"!=typeof ae){const Re=j.push(ae)-1;R[Q]=`\x3c!--\ufffd${Re}\ufffd--\x3e`}}v=Yg(a,C,l,c,d,f.cases[A],R.join(""),j)|v}v&&function FA(a,l,c){a.push(l,1,c<<2|3)}(c,v,m)}function xA(a){const l=[],c=[];let d=1,f=0;const m=$v(a=a.replace(AC,function(v,C,T){return d="select"===T?0:1,f=parseInt(C.slice(1),10),""}));for(let v=0;v<m.length;){let C=m[v++].trim();1===d&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&l.push(C);const T=$v(m[v++]);l.length>c.length&&c.push(T)}return{type:d,mainBinding:f,cases:l,values:c}}function $v(a){if(!a)return[];let l=0;const c=[],d=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(a);){const C=m.index;if("}"==m[0]){if(c.pop(),0==c.length){const T=a.substring(l,C);AC.test(T)?d.push(xA(T)):d.push(T),l=C+1}}else{if(0==c.length){const T=a.substring(l,C);d.push(T),l=C+1}c.push("{")}}const v=a.substring(l);return d.push(v),d}function Yg(a,l,c,d,f,m,v,C){const T=[],A=[],R=[];l.cases.push(m),l.create.push(T),l.remove.push(A),l.update.push(R);const Q=function kE(a){const l=new gD(a);return function mD(){try{return!!(new window.DOMParser).parseFromString(Vo(""),"text/html")}catch{return!1}}()?new pD(l):l}(function OE(){return void 0!==pl?pl:typeof document<"u"?document:void 0}()).getInertBodyElement(v),ae=function cg(a){return"content"in a&&function Iy(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}(Q)||Q;return ae?kc(a,l,c,d,T,A,R,ae,f,C,0):0}function kc(a,l,c,d,f,m,v,C,T,A,R){let j=0,Q=C.firstChild;for(;Q;){const ae=wc(a,c,1,null);switch(Q.nodeType){case Node.ELEMENT_NODE:const Re=Q,et=Re.tagName.toLowerCase();if(og.hasOwnProperty(et)){Hv(f,fo,et,T,ae),a.data[ae]=et;const ze=Re.attributes;for(let sn=0;sn<ze.length;sn++){const ur=ze.item(sn),Ar=ur.name.toLowerCase();ur.value.match(qg)?_c.hasOwnProperty(Ar)&&td(v,ur.value,ae,ur.name,0,Dh[Ar]?wy:null):zv(f,ae,ur)}j=kc(a,l,c,d,f,m,v,Q,ae,A,R+1)|j,jv(m,ae,R)}break;case Node.TEXT_NODE:const mt=Q.textContent||"",Dt=mt.match(qg);Hv(f,null,Dt?"":mt,T,ae),jv(m,ae,R),Dt&&(j=td(v,mt,ae,null,0,null)|j);break;case Node.COMMENT_NODE:const jt=SC.exec(Q.textContent||"");if(jt){const sn=A[parseInt(jt[1],10)];Hv(f,Bs,"",T,ae),Zg(a,c,d,T,sn,ae),PA(m,ae,R)}}Q=Q.nextSibling}return j}function jv(a,l,c){0===c&&a.push(l)}function PA(a,l,c){0===c&&(a.push(~l),a.push(l))}function Hv(a,l,c,d,f){null!==l&&a.push(l),a.push(c,f,function Hg(a,l,c){return a|l<<17|c<<1}(0,d,f))}function zv(a,l,c){a.push(l<<1|1,c.name,c.value)}function qv(a,l,c=-1){const d=Cn(),f=Be(),m=_n+a,v=Jt(d.consts,l),C=jl();d.firstCreatePass&&function NA(a,l,c,d,f,m){const v=jl(),C=[],T=[],A=[[]];f=function Tl(a,l){if(function MA(a){return-1===a}(l))return kC(a);{const c=a.indexOf(`:${l}${Xh}`)+2+l.toString().length,d=a.search(new RegExp(`${Xh}\\/\\*\\d+:${l}${Xh}`));return kC(a.substring(c,d))}}(f,m);const R=function RC(a){return a.replace(OC," ")}(f).split(NC);for(let j=0;j<R.length;j++){let Q=R[j];if(1&j){const ae=47===Q.charCodeAt(0),et=(Q.charCodeAt(ae?1:0),_n+Number.parseInt(Q.substring(ae?2:1)));if(ae)A.shift(),Ri(jl(),!1);else{const mt=TA(a,A[0],et);A.unshift([]),Ri(mt,!0)}}else{const ae=$v(Q);for(let Re=0;Re<ae.length;Re++){let et=ae[Re];if(1&Re){const mt=et;if("object"!=typeof mt)throw new Error(`Unable to parse ICU expression in "${f}" message.`);Zg(a,c,T,l,mt,MC(a,v,A[0],c,C,"",!0).index)}else""!==et&&OA(a,v,A[0],C,T,c,et)}}}a.data[d]={create:C,update:T}}(d,null===C?0:C.index,f,m,v,c);const T=d.data[m],R=un(d,C===f[Lr]?null:C,f);(function CC(a,l,c,d){const f=a[rn];for(let m=0;m<l.length;m++){const v=l[m++],C=l[m],A=(v&nr.APPEND_EAGERLY)===nr.APPEND_EAGERLY,R=v>>>nr.SHIFT;let j=a[R];null===j&&(j=a[R]=(v&nr.COMMENT)===nr.COMMENT?f.createComment(C):bh(f,C)),A&&null!==c&&gr(f,c,j,d,!1)}})(f,T.create,R,C&&8&C.type?f[C.index]:null),fu(!0)}function Yv(a,l,c){qv(a,l,c),function Zv(){fu(!1)}()}function Jg(a){return function EC(a){a&&(Xu|=1<<Math.min(ed,31)),ed++}(vi(Be(),ca(),a)),Jg}function Kv(a){!function wC(a,l,c){if(ed>0){const d=a.data[c];Bv(a,l,Array.isArray(d)?d:d.update,Rs()-ed-1,Xu)}Xu=0,ed=0}(Cn(),Be(),a+_n)}function yn(a,l,c,d,f){if(a=K(a),Array.isArray(a))for(let m=0;m<a.length;m++)yn(a[m],l,c,d,f);else{const m=Cn(),v=Be();let C=Ea(a)?a:K(a.provide),T=YE(a);const A=Yr(),R=1048575&A.providerIndexes,j=A.directiveStart,Q=A.providerIndexes>>20;if(Ea(a)||!a.multi){const ae=new mu(T,f,$u),Re=ef(C,l,f?R:R+Q,j);-1===Re?(Jl(no(A,v),m,C),Yo(m,a,l.length),l.push(C),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(ae),v.push(ae)):(c[Re]=ae,v[Re]=ae)}else{const ae=ef(C,l,R+Q,j),Re=ef(C,l,R,R+Q),mt=Re>=0&&c[Re];if(f&&!mt||!f&&!(ae>=0&&c[ae])){Jl(no(A,v),m,C);const Dt=function vr(a,l,c,d,f){const m=new mu(a,c,$u);return m.multi=[],m.index=l,m.componentProviders=0,rr(m,f,d&&!c),m}(f?tf:UA,c.length,f,d,T);!f&&mt&&(c[Re].providerFactory=Dt),Yo(m,a,l.length,0),l.push(C),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(Dt),v.push(Dt)}else Yo(m,a,ae>-1?ae:Re,rr(c[f?Re:ae],T,!f&&d));!f&&d&&mt&&c[Re].componentProviders++}}}function Yo(a,l,c,d){const f=Ea(l),m=function ks(a){return!!a.useClass}(l);if(f||m){const T=(m?K(l.useClass):l).prototype.ngOnDestroy;if(T){const A=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const R=A.indexOf(c);-1===R?A.push(c,[d,T]):A[R+1].push(d,T)}else A.push(c,T)}}}function rr(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function ef(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function UA(a,l,c,d){return Qg(this.multi,[])}function tf(a,l,c,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Ro(c,c[Et],this.providerFactory.index,d);m=C.slice(0,v),Qg(f,m);for(let T=v;T<C.length;T++)m.push(C[T])}else m=[],Qg(f,m);return m}function Qg(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function bn(a,l=[]){return c=>{c.providersResolver=(d,f)=>function Un(a,l,c){const d=Cn();if(d.firstCreatePass){const f=Er(a);yn(c,d.data,d.blueprint,f,!0),yn(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class Gr{}class GC{}function Jv(a,l){return new $C(a,l??null)}class $C extends Gr{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ow(this);const d=gn(l);this._bootstrapComponents=$o(d.bootstrap),this._r3Injector=pw(l,c,[{provide:Gr,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],le(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Qv extends GC{constructor(l){super(),this.moduleType=l}create(l){return new $C(this.moduleType,l)}}class GA extends Gr{constructor(l,c,d){super(),this.componentFactoryResolver=new Ow(this),this.instance=null;const f=new ZE([...l,{provide:Gr,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],c||Oh(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Xg(a,l,c=null){return new GA(a,l,c).injector}let Fc=(()=>{class a{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=Oy(0,c.type),f=d.length>0?Xg([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=dt({token:a,providedIn:"environment",factory:()=>new a(qt(Go))}),a})();function em(a){a.getStandaloneInjector=l=>l.get(Fc).getOrCreateStandaloneInjector(a)}function qC(a,l,c){const d=Kr()+a,f=Be();return f[d]===cn?zo(f,d,c?l.call(c):l()):function bl(a,l){return a[l]}(f,d)}function nm(a,l,c,d){return eT(Be(),Kr(),a,l,c,d)}function rm(a,l,c,d,f){return function tT(a,l,c,d,f,m,v){const C=l+c;return El(a,C,f,m)?zo(a,C+2,v?d.call(v,f,m):d(f,m)):rf(a,C+2)}(Be(),Kr(),a,l,c,d,f)}function ZC(a,l,c,d,f,m){return ir(Be(),Kr(),a,l,c,d,f,m)}function rf(a,l){const c=a[l];return c===cn?void 0:c}function eT(a,l,c,d,f,m){const v=l+c;return vi(a,v,f)?zo(a,v+1,m?d.call(m,f):d(f)):rf(a,v+1)}function ir(a,l,c,d,f,m,v,C){const T=l+c;return function zu(a,l,c,d,f){const m=El(a,l,c,d);return vi(a,l+2,f)||m}(a,T,f,m,v)?zo(a,T+3,C?d.call(C,f,m,v):d(f,m,v)):rf(a,T+3)}function sf(a,l){const c=Cn();let d;const f=a+_n;c.firstCreatePass?(d=function n0(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks??(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const m=d.factory||(d.factory=Js(d.type)),v=Ht($u);try{const C=vu(!1),T=m();return vu(C),function MS(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Be(),f,T),T}finally{Ht(v)}}function Qo(a,l,c){const d=a+_n,f=Be(),m=Rt(f,d);return uf(f,d)?eT(f,Kr(),l,m.transform,c,m):m.transform(c)}function dn(a,l,c,d,f){const m=a+_n,v=Be(),C=Rt(v,m);return uf(v,m)?ir(v,Kr(),l,C.transform,c,d,f,C):C.transform(c,d,f)}function uf(a,l){return a[Et].data[l].pure}function df(a){return l=>{setTimeout(a,void 0,l)}}const Xo=class Tr extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,m=c||(()=>null),v=d;if(l&&"object"==typeof l){const T=l;f=T.next?.bind(T),m=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(m=df(m),f&&(f=df(f)),v&&(v=df(v)));const C=super.subscribe({next:f,error:m,complete:v});return l instanceof B.w0&&l.add(C),C}};function r0(){return this._results[Symbol.iterator]()}class im{get changes(){return this._changes||(this._changes=new Xo)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=im.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=r0)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=function xi(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function il(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],m=l[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ea=(()=>{class a{}return a.__NG_ELEMENT_ID__=zA,a})();const hf=ea,ff=class extends hf{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tView,f=Wy(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);f[Yt]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Vr];return null!==v&&(f[Vr]=v.createEmbeddedView(d)),qy(d,f,l),new Hh(f)}};function zA(){return rd(Yr(),Be())}function rd(a,l){return 4&a.type?new ff(l,a,uo(a,l)):null}let Il=(()=>{class a{}return a.__NG_ELEMENT_ID__=WA,a})();function WA(){return om(Yr(),Be())}const sm=Il,iT=class extends sm{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return uo(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){const l=ua(this._hostTNode,this._hostLView);if(fr(l)){const c=yu(l,this._hostLView),d=No(l);return new xo(c[Et].data[d+8],c)}return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=sT(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-oi}createEmbeddedView(l,c,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const v=l.createEmbeddedView(c||{},m);return this.insert(v,f),v}createComponent(l,c,d,f,m){const v=l&&!function rc(a){return"function"==typeof a}(l);let C;if(v)C=c;else{const j=c||{};C=j.index,d=j.injector,f=j.projectableNodes,m=j.environmentInjector||j.ngModuleRef}const T=v?l:new Hu(Ne(l)),A=d||this.parentInjector;if(!m&&null==T.ngModule){const Q=(v?A:this.parentInjector).get(Go,null);Q&&(m=Q)}const R=T.create(A,f,void 0,m);return this.insert(R.hostView,C),R}insert(l,c){const d=l._lView,f=d[Et];if(function zn(a){return hi(a[nn])}(d)){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const j=d[nn],Q=new iT(j,j[Lr],j[nn]);Q.detach(Q.indexOf(l))}}const m=this._adjustIndex(c),v=this._lContainer;!function _(a,l,c,d){const f=oi+d,m=c.length;d>0&&(c[f-1][si]=l),d<m-oi?(l[si]=c[f],Vp(c,oi+d,l)):(c.push(l),l[si]=null),l[nn]=c;const v=l[Yt];null!==v&&c!==v&&function w(a,l){const c=a[Gi];l[Ct]!==l[nn][nn][Ct]&&(a[Io]=!0),null===c?a[Gi]=[l]:c.push(l)}(v,l);const C=l[Vr];null!==C&&C.insertView(a),l[tn]|=64}(f,d,v,m);const C=py(m,v),T=d[rn],A=ya(T,v[Mn]);return null!==A&&function fy(a,l,c,d,f,m){d[Ni]=f,d[Lr]=l,fc(a,d,c,1,f,m)}(f,v[Lr],T,d,A,C),l.attachToViewContainerRef(),Vp(s0(v),m,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=sT(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=M(this._lContainer,c);d&&(fa(s0(this._lContainer),c),ee(d[Et],d))}detach(l){const c=this._adjustIndex(l,-1),d=M(this._lContainer,c);return d&&null!=fa(s0(this._lContainer),c)?new Hh(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function sT(a){return a[As]}function s0(a){return a[As]||(a[As]=[])}function om(a,l){let c;const d=l[a.index];if(hi(d))c=d;else{let f;if(8&a.type)f=V(d);else{const m=l[rn];f=m.createComment("");const v=pe(a,l);gr(m,ya(m,v),f,function uc(a,l){return a.nextSibling(l)}(m,v),!1)}l[a.index]=c=Xy(d,l,f,a),Gh(l,c)}return new iT(c,a,l)}class o0{constructor(l){this.queryList=l,this.matches=null}clone(){return new o0(this.queryList)}setDirty(){this.queryList.setDirty()}}class pf{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new pf(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==dm(l,c).matches&&this.queries[c].setDirty()}}class oT{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class id{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new id(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class am{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new am(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,c,aT(c,m)),this.matchTNodeWithReadOption(l,c,Oo(c,l,m,!1,!1))}else d===ea?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Oo(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Ph||f===Il||f===ea&&4&c.type)this.addMatch(c.index,-2);else{const m=Oo(c,l,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function aT(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function qA(a,l,c,d){return-1===c?function lm(a,l){return 11&a.type?uo(a,l):4&a.type?rd(a,l):null}(l,a):-2===c?function cm(a,l,c){return c===Ph?uo(l,a):c===ea?rd(l,a):c===Il?om(l,a):void 0}(a,l,d):Ro(a,a[Et],c,l)}function Bc(a,l,c,d){const f=l[Vr].queries[d];if(null===f.matches){const m=a.data,v=c.matches,C=[];for(let T=0;T<v.length;T+=2){const A=v[T];C.push(A<0?null:qA(l,m[A],v[T+1],c.metadata.read))}f.matches=C}return f.matches}function gf(a,l,c,d){const f=a.queries.getByIndex(c),m=f.matches;if(null!==m){const v=Bc(a,l,f,c);for(let C=0;C<m.length;C+=2){const T=m[C];if(T>0)d.push(v[C/2]);else{const A=m[C+1],R=l[-T];for(let j=oi;j<R.length;j++){const Q=R[j];Q[Yt]===Q[nn]&&gf(Q[Et],Q,A,d)}if(null!==R[Gi]){const j=R[Gi];for(let Q=0;Q<j.length;Q++){const ae=j[Q];gf(ae[Et],ae,A,d)}}}}}return d}function um(a){const l=Be(),c=Cn(),d=Ip();Wl(d+1);const f=dm(c,d);if(a.dirty&&function er(a){return 4==(4&a[tn])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?gf(c,l,d,[]):Bc(c,l,f,d);a.reset(m,OD),a.notifyOnChanges()}return!0}return!1}function lT(a,l,c){const d=Cn();d.firstCreatePass&&(dT(d,new oT(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),uT(d,Be(),l)}function cT(a,l,c,d){const f=Cn();if(f.firstCreatePass){const m=Yr();dT(f,new oT(l,c,d),m.index),function Us(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}uT(f,Be(),c)}function a0(){return function ZA(a,l){return a[Vr].queries[l].queryList}(Be(),Ip())}function uT(a,l,c){const d=new im(4==(4&c));Yy(a,l,d,d.destroy),null===l[Vr]&&(l[Vr]=new pf),l[Vr].queries.push(new o0(d))}function dT(a,l,c){null===a.queries&&(a.queries=new id),a.queries.track(new am(l,c))}function dm(a,l){return a.queries.getByIndex(l)}function hm(a,l){return rd(a,l)}function l0(a){return!!gn(a)}function bm(...a){}const p0=new Wn("Application Initializer");let zc=(()=>{class a{constructor(c){this.appInits=c,this.resolve=bm,this.reject=bm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Cv(m))c.push(m);else if(kS(m)){const v=new Promise((C,T)=>{m.subscribe({complete:C,error:T})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(qt(p0,8))},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Em=new Wn("AppId",{providedIn:"root",factory:function g0(){return`${wm()}${wm()}${wm()}`}});function wm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cm=new Wn("Platform Initializer"),aN=new Wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let lN=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Tm=new Wn("LocaleId",{providedIn:"root",factory:()=>Ae(Tm,ie.Optional|ie.SkipSelf)||function cN(){return typeof $localize<"u"&&$localize.locale||Na}()}),uN=new Wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class CT{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let fN=(()=>{class a{compileModuleSync(c){return new Qv(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=$o(gn(c).declarations).reduce((v,C)=>{const T=Ne(C);return T&&v.push(new Hu(T)),v},[]);return new CT(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const AT=(()=>Promise.resolve(0))();function _0(a){typeof Zone>"u"?AT.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Xr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xo(!1),this.onMicrotaskEmpty=new Xo(!1),this.onStable=new Xo(!1),this.onError=new Xo(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function pN(){let a=xt.requestAnimationFrame,l=xt.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Dm(a){const l=()=>{!function Nl(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(xt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,od(a),a.isCheckStableRunning=!0,Im(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),od(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,v,C)=>{try{return OT(a),c.invokeTask(f,m,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),RT(a)}},onInvoke:(c,d,f,m,v,C,T)=>{try{return OT(a),c.invoke(f,m,v,C,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),RT(a)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,od(a),Im(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xr.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(Xr.isInAngularZone())throw new ye(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,NT,bm,bm);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const NT={};function Im(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function od(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function OT(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function RT(a){a._nesting--,Im(a)}class mN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xo,this.onMicrotaskEmpty=new Xo,this.onStable=new Xo,this.onError=new Xo}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const y0=new Wn(""),Sm=new Wn("");let v0,_N=(()=>{class a{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,v0||(function bf(a){v0=a}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xr.assertNotInAngularZone(),_0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_0(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(qt(Xr),qt(Ma),qt(Sm))},a.\u0275prov=dt({token:a,factory:a.\u0275fac}),a})(),Ma=(()=>{class a{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return v0?.findTestabilityInTree(this,c,d)??null}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const xa=!1;let Ol=null;const Am=new Wn("PlatformDestroyListeners"),MT=new Wn("appBootstrapListener");class ad{constructor(l,c){this.name=l,this.token=c}}function wf(a){const{rootComponent:l,appProviders:c,platformProviders:d}=a;xa&&void 0!==l&&function mg(a){if(function _g(a){if(!Ne(a))throw new ye(906,`The ${We(a)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(a),!Ne(a).standalone)throw new ye(907,`The ${We(a)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${We(a)} component has the \`standalone: true\` flag in the decorator.`)}(l);const f=function PT(a=[]){if(Ol)return Ol;const l=function Nm(a=[],l){return _l.create({name:l,providers:[{provide:dg,useValue:"platform"},{provide:Am,useValue:new Set([()=>Ol=null])},...a]})}(a);return Ol=l,function w0(a){const l=a.get(Cm,null);l&&l.forEach(c=>c())}(l),l}(d),m=function LT(a,l){let c;return c="noop"===a?new mN:("zone.js"===a?void 0:a)||new Xr(l),c}("zone.js",function FT(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}());return m.run(()=>{const C=Xg([{provide:Xr,useValue:m},...c||[]],f,"Environment Injector"),T=C.get(Bu,null);if(xa&&!T)throw new ye(402,"No `ErrorHandler` found in the Dependency Injection tree.");let A;m.runOutsideAngular(()=>{A=m.onError.subscribe({next:Q=>{T.handleError(Q)}})});const R=()=>C.destroy(),j=f.get(Am);return j.add(R),C.onDestroy(()=>{A.unsubscribe(),j.delete(R)}),function VT(a,l,c){try{const d=c();return Cv(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(T,m,()=>{const Q=C.get(zc);return Q.runInitializers(),Q.donePromise.then(()=>{jg(C.get(Tm,Na)||Na);const Re=C.get(cd);return void 0!==l&&Re.bootstrap(l),Re})})})}let cd=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new F.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new F.y(C=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Xr.assertNotInAngularZone(),_0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Xr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{T.unsubscribe(),A.unsubscribe()}});this.isStable=(0,X.T)(m,v.pipe((0,Y.B)()))}bootstrap(c,d){xa&&this.warnIfDestroyed();const f=c instanceof KE;if(!this._injector.get(zc).done){const ae="Cannot bootstrap as there are still asynchronous initializers running."+(!f&&mn(c)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new ye(405,xa&&ae)}let v;v=f?c:this._injector.get(vc).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const C=function yN(a){return a.isBoundToModule}(v)?void 0:this._injector.get(Gr),A=v.create(_l.NULL,[],d||v.selector,C),R=A.location.nativeElement,j=A.injector.get(y0,null);return j?.registerApplication(R),A.onDestroy(()=>{this.detachView(A.hostView),Rm(this.components,A),j?.unregisterApplication(R)}),this._loadComponent(A),A}tick(){if(xa&&this.warnIfDestroyed(),this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){xa&&this.warnIfDestroyed();const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){xa&&this.warnIfDestroyed();const d=c;Rm(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(MT,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return xa&&this.warnIfDestroyed(),this._destroyListeners.push(c),()=>Rm(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new ye(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){xa&&this._destroyed&&console.warn(Se(406,"This instance of the `ApplicationRef` has already been destroyed."))}}return a.\u0275fac=function(c){return new(c||a)(qt(Xr),qt(Go),qt(Bu))},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Rm(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}function bN(){return!1}let xm=(()=>{class a{}return a.__NG_ELEMENT_ID__=Wc,a})();function Wc(a){return function S0(a,l,c){if(ss(a)&&!c){const d=ln(a.index,l);return new Hh(d,d)}return 47&a.type?new Hh(l[Ct],l):null}(Yr(),Be(),16==(16&a))}class jT{constructor(){}supports(l){return Og(l)}create(l){return new HT(l)}}const $s=(a,l)=>l;class HT{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||$s}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<fs(d,f,m)?c:d,C=fs(v,f,m),T=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{m||(m=[]);const A=C-f,R=T-f;if(A!=R){for(let Q=0;Q<A;Q++){const ae=Q<m.length?m[Q]:m[Q]=0,Re=ae+Q;R<=Re&&Re<A&&(m[Q]=ae+1)}m[v.previousIndex]=R-A}}C!==T&&l(v,C,T)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Og(l))throw new ye(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)m=l[C],v=this._trackByFn(C,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,C)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,C),d=!0),c=c._next}else f=0,function SS(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Symbol.iterator]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,C=>{v=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,m,f)):l=this._addAfter(new SN(c,d),m,f),l}_verifyReinsertion(l,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new O0),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new O0),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class SN{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vm{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class O0{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new Vm,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fs(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class R0{constructor(){}supports(l){return l instanceof Map||hv(l)}create(){return new AN}}class AN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||hv(l)))throw new ye(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new zT(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class zT{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WT(){return new M0([new jT])}let M0=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||WT()),deps:[[a,new _a,new al]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new ye(901,!1)}}return a.\u0275prov=dt({token:a,providedIn:"root",factory:WT}),a})();function x0(){return new Zc([new R0])}let Zc=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||x0()),deps:[[a,new _a,new al]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new ye(901,!1)}}return a.\u0275prov=dt({token:a,providedIn:"root",factory:x0}),a})();function k0(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function MN(a,l){const c=Ne(a),d=l.elementInjector||Oh();return new Hu(c).create(d,l.projectableNodes,l.hostElement,l.environmentInjector)}},1321:()=>{const Tt=":";class ct extends Error{constructor(ne){super(`No translation found for ${Ft(ne)}.`),this.parsedMessage=ne,this.type="MissingTranslationError"}}const Kn=function(oe,...ne){if(Kn.translate){const ie=Kn.translate(oe,ne);oe=ie[0],ne=ie[1]}let he=hr(oe[0],oe.raw[0]);for(let ie=1;ie<oe.length;ie++)he+=ne[ie-1]+hr(oe[ie],oe.raw[ie]);return he},Jn=":";function hr(oe,ne){return ne.charAt(0)===Jn?oe.substring(function qe(oe,ne){for(let he=1,ie=1;he<oe.length;he++,ie++)if("\\"===ne[ie])ie++;else if(oe[he]===Tt)return he;throw new Error(`Unterminated $localize metadata block in "${ne}".`)}(oe,ne)+1):oe}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=Kn},3942:(Tt,Me,L)=>{L.d(Me,{Z:()=>Le});var s=L(2090),B=L(4859),F=L(9681),X=L(1877);class Y{constructor(ye,Se){this._delegate=ye,this.firebase=Se,(0,F._addComponent)(ye,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ye,Se=F._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(ye);return!We.isInitialized()&&"EXPLICIT"===(null===(Pe=We.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&We.initialize(),We.getImmediate({identifier:Se})}_removeServiceInstance(ye,Se=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(Se)}_addComponent(ye){(0,F._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,F._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function me(){const lt=function le(lt){const ye={},Se={__esModule:!0,initializeApp:function xe(Fe,Z={}){const Ge=F.initializeApp(Fe,Z);if((0,s.r3)(ye,Ge.name))return ye[Ge.name];const vt=new lt(Ge,Se);return ye[Ge.name]=vt,vt},app:We,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function ke(Fe){const Z=Fe.name,Ge=Z.replace("-compat","");if(F._registerComponent(Fe)&&"PUBLIC"===Fe.type){const vt=(Pt=We())=>{if("function"!=typeof Pt[Ge])throw ue.create("invalid-app-argument",{appName:Z});return Pt[Ge]()};void 0!==Fe.serviceProps&&(0,s.ZB)(vt,Fe.serviceProps),Se[Ge]=vt,lt.prototype[Ge]=function(...Pt){return this._getService.bind(this,Z).apply(this,Fe.multipleInstances?Pt:[])}}return"PUBLIC"===Fe.type?Se[Ge]:null},removeApp:function Pe(Fe){delete ye[Fe]},useAsService:function Ue(Fe,Z){return"serverAuth"===Z?null:Z},modularAPIs:F}};function We(Fe){if(!(0,s.r3)(ye,Fe=Fe||F._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:Fe});return ye[Fe]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function we(){return Object.keys(ye).map(Fe=>ye[Fe])}}),We.App=lt,Se}(Y);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ye(Se){(0,s.ZB)(lt,Se)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),lt}(),G=new X.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=H;!function Ie(lt){(0,F.registerVersion)("@firebase/app-compat","0.2.8",lt)}()},9681:(Tt,Me,L)=>{L.r(Me),L.d(Me,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>$e,_addComponent:()=>Ut,_addOrOverwriteComponent:()=>Mt,_apps:()=>ct,_clearComponents:()=>On,_components:()=>Je,_getProvider:()=>dt,_registerComponent:()=>Qt,_removeServiceInstance:()=>Ft,deleteApp:()=>ne,getApp:()=>hr,getApps:()=>oe,initializeApp:()=>Jn,onLog:()=>je,registerVersion:()=>ie,setLogLevel:()=>ot});var s=L(5861),B=L(4859),F=L(1877),X=L(2090),Y=L(8766);class ce{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(ht=>{if(function ue(nt){return"VERSION"===nt.getComponent()?.type}(ht)){const St=ht.getImmediate();return`${St.library}/${St.version}`}return null}).filter(ht=>ht).join(" ")}}const le="@firebase/app",H=new F.Yd("@firebase/app"),$e="[DEFAULT]",qe={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ct=new Map,Je=new Map;function Ut(nt,Ae){try{nt.container.addComponent(Ae)}catch(ht){H.debug(`Component ${Ae.name} failed to register with FirebaseApp ${nt.name}`,ht)}}function Mt(nt,Ae){nt.container.addOrOverwriteComponent(Ae)}function Qt(nt){const Ae=nt.name;if(Je.has(Ae))return H.debug(`There were multiple attempts to register component ${Ae}.`),!1;Je.set(Ae,nt);for(const ht of ct.values())Ut(ht,nt);return!0}function dt(nt,Ae){const ht=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return ht&&ht.triggerHeartbeat(),nt.container.getProvider(Ae)}function Ft(nt,Ae,ht=$e){dt(nt,Ae).clearInstance(ht)}function On(){Je.clear()}const Fn=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sn{constructor(Ae,ht,St){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},ht),this._name=ht.name,this._automaticDataCollectionEnabled=ht.automaticDataCollectionEnabled,this._container=St,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}const Kn="9.20.0";function Jn(nt,Ae={}){let ht=nt;"object"!=typeof Ae&&(Ae={name:Ae});const St=Object.assign({name:$e,automaticDataCollectionEnabled:!1},Ae),Zt=St.name;if("string"!=typeof Zt||!Zt)throw Fn.create("bad-app-name",{appName:String(Zt)});if(ht||(ht=(0,X.aH)()),!ht)throw Fn.create("no-options");const Wt=ct.get(Zt);if(Wt){if((0,X.vZ)(ht,Wt.options)&&(0,X.vZ)(St,Wt.config))return Wt;throw Fn.create("duplicate-app",{appName:Zt})}const Rn=new B.H0(Zt);for(const z of Je.values())Rn.addComponent(z);const q=new Sn(ht,St,Rn);return ct.set(Zt,q),q}function hr(nt=$e){const Ae=ct.get(nt);if(!Ae&&nt===$e)return Jn();if(!Ae)throw Fn.create("no-app",{appName:nt});return Ae}function oe(){return Array.from(ct.values())}function ne(nt){return he.apply(this,arguments)}function he(){return(he=(0,s.Z)(function*(nt){const Ae=nt.name;ct.has(Ae)&&(ct.delete(Ae),yield Promise.all(nt.container.getProviders().map(ht=>ht.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function ie(nt,Ae,ht){var St;let Zt=null!==(St=qe[nt])&&void 0!==St?St:nt;ht&&(Zt+=`-${ht}`);const Wt=Zt.match(/\s|\//),Rn=Ae.match(/\s|\//);if(Wt||Rn){const q=[`Unable to register library "${Zt}" with version "${Ae}":`];return Wt&&q.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),Wt&&Rn&&q.push("and"),Rn&&q.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void H.warn(q.join(" "))}Qt(new B.wA(`${Zt}-version`,()=>({library:Zt,version:Ae}),"VERSION"))}function je(nt,Ae){if(null!==nt&&"function"!=typeof nt)throw Fn.create("invalid-log-argument");(0,F.Am)(nt,Ae)}function ot(nt){(0,F.Ub)(nt)}const Ht="firebase-heartbeat-database",Kt=1,Gt="firebase-heartbeat-store";let xt=null;function pn(){return xt||(xt=(0,Y.X3)(Ht,Kt,{upgrade:(nt,Ae)=>{0===Ae&&nt.createObjectStore(Gt)}}).catch(nt=>{throw Fn.create("idb-open",{originalErrorMessage:nt.message})})),xt}function Ln(){return(Ln=(0,s.Z)(function*(nt){try{return(yield pn()).transaction(Gt).objectStore(Gt).get(An(nt))}catch(Ae){if(Ae instanceof X.ZR)H.warn(Ae.message);else{const ht=Fn.create("idb-get",{originalErrorMessage:Ae?.message});H.warn(ht.message)}}})).apply(this,arguments)}function wn(nt,Ae){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(nt,Ae){try{const St=(yield pn()).transaction(Gt,"readwrite");return yield St.objectStore(Gt).put(Ae,An(nt)),St.done}catch(ht){if(ht instanceof X.ZR)H.warn(ht.message);else{const St=Fn.create("idb-set",{originalErrorMessage:ht?.message});H.warn(St.message)}}})).apply(this,arguments)}function An(nt){return`${nt.name}!${nt.options.appId}`}class Mr{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const ht=this.container.getProvider("app").getImmediate();this._storage=new _r(ht),this._heartbeatsCachePromise=this._storage.read().then(St=>(this._heartbeatsCache=St,St))}triggerHeartbeat(){var Ae=this;return(0,s.Z)(function*(){const St=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=kn();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==Zt&&!Ae._heartbeatsCache.heartbeats.some(Wt=>Wt.date===Zt))return Ae._heartbeatsCache.heartbeats.push({date:Zt,agent:St}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Wt=>{const Rn=new Date(Wt.date).valueOf();return Date.now()-Rn<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,s.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const ht=kn(),{heartbeatsToSend:St,unsentEntries:Zt}=function zt(nt,Ae=1024){const ht=[];let St=nt.slice();for(const Zt of nt){const Wt=ht.find(Rn=>Rn.agent===Zt.agent);if(Wt){if(Wt.dates.push(Zt.date),qr(ht)>Ae){Wt.dates.pop();break}}else if(ht.push({agent:Zt.agent,dates:[Zt.date]}),qr(ht)>Ae){ht.pop();break}St=St.slice(1)}return{heartbeatsToSend:ht,unsentEntries:St}}(Ae._heartbeatsCache.heartbeats),Wt=(0,X.L)(JSON.stringify({version:2,heartbeats:St}));return Ae._heartbeatsCache.lastSentHeartbeatDate=ht,Zt.length>0?(Ae._heartbeatsCache.heartbeats=Zt,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Wt})()}}function kn(){return(new Date).toISOString().substring(0,10)}class _r{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,s.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function Qn(nt){return Ln.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var ht=this;return(0,s.Z)(function*(){var St;if(yield ht._canUseIndexedDBPromise){const Wt=yield ht.read();return wn(ht.app,{lastSentHeartbeatDate:null!==(St=Ae.lastSentHeartbeatDate)&&void 0!==St?St:Wt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var ht=this;return(0,s.Z)(function*(){var St;if(yield ht._canUseIndexedDBPromise){const Wt=yield ht.read();return wn(ht.app,{lastSentHeartbeatDate:null!==(St=Ae.lastSentHeartbeatDate)&&void 0!==St?St:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,...Ae.heartbeats]})}})()}}function qr(nt){return(0,X.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function qt(nt){Qt(new B.wA("platform-logger",Ae=>new ce(Ae),"PRIVATE")),Qt(new B.wA("heartbeat",Ae=>new Mr(Ae),"PRIVATE")),ie(le,"0.9.8",nt),ie(le,"0.9.8","esm2017"),ie("fire-js","")}("")},4859:(Tt,Me,L)=>{L.d(Me,{H0:()=>le,wA:()=>F,zt:()=>Y});var s=L(5861),B=L(2090);class F{constructor(H,G,K){this.name=H,this.instanceFactory=G,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const X="[DEFAULT]";class Y{constructor(H,G){this.name=H,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const G=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(G)){const K=new B.BH;if(this.instancesDeferred.set(G,K),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ce=this.getOrInitializeService({instanceIdentifier:G});Ce&&K.resolve(Ce)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(H){var G;const K=this.normalizeInstanceIdentifier(H?.identifier),Ce=null!==(G=H?.optional)&&void 0!==G&&G;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ie){if(Ce)return null;throw Ie}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ue(me){return"EAGER"===me.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[G,K]of this.instancesDeferred.entries()){const Ce=this.normalizeInstanceIdentifier(G);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ce});K.resolve(Ie)}catch{}}}}clearInstance(H=X){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,s.Z)(function*(){const G=Array.from(H.instances.values());yield Promise.all([...G.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...G.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=X){return this.instances.has(H)}getOptions(H=X){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:G={}}=H,K=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ce=this.getOrInitializeService({instanceIdentifier:K,options:G});for(const[Ie,Le]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ie)&&Le.resolve(Ce);return Ce}onInit(H,G){var K;const Ce=this.normalizeInstanceIdentifier(G),Ie=null!==(K=this.onInitCallbacks.get(Ce))&&void 0!==K?K:new Set;Ie.add(H),this.onInitCallbacks.set(Ce,Ie);const Le=this.instances.get(Ce);return Le&&H(Le,Ce),()=>{Ie.delete(H)}}invokeOnInitCallbacks(H,G){const K=this.onInitCallbacks.get(G);if(K)for(const Ce of K)try{Ce(H,G)}catch{}}getOrInitializeService({instanceIdentifier:H,options:G={}}){let K=this.instances.get(H);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(me=H,me===X?void 0:me),options:G}),this.instances.set(H,K),this.instancesOptions.set(H,G),this.invokeOnInitCallbacks(K,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,K)}catch{}var me;return K||null}normalizeInstanceIdentifier(H=X){return this.component?this.component.multipleInstances?H:X:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const G=this.getProvider(H.name);if(G.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);G.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const G=new Y(H,this);return this.providers.set(H,G),G}getProviders(){return Array.from(this.providers.values())}}},2833:(Tt,Me,L)=>{var s=L(5861),B=L(9681),F=L(4859),X=L(2090),Y=L(8766);const ce="@firebase/installations",ue="0.6.4",le=1e4,me=`w:${ue}`,H="FIS_v2",G="https://firebaseinstallations.googleapis.com/v1",K=36e5,lt=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ye(se){return se instanceof X.ZR&&se.code.includes("request-failed")}function Se({projectId:se}){return`${G}/projects/${se}/installations`}function Pe(se){return{token:se.token,requestStatus:2,expiresIn:Z(se.expiresIn),creationTime:Date.now()}}function We(se,De){return xe.apply(this,arguments)}function xe(){return(xe=(0,s.Z)(function*(se,De){const gt=(yield De.json()).error;return lt.create("request-failed",{requestName:se,serverCode:gt.code,serverMessage:gt.message,serverStatus:gt.status})})).apply(this,arguments)}function we({apiKey:se}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":se})}function Ue(se){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,s.Z)(function*(se){const De=yield se();return De.status>=500&&De.status<600?se():De})).apply(this,arguments)}function Z(se){return Number(se.replace("s","000"))}function Pt(){return(Pt=(0,s.Z)(function*({appConfig:se,heartbeatServiceProvider:De},{fid:Ne}){const gt=Se(se),an=we(se),mn=De.getImmediate({optional:!0});if(mn){const lr=yield mn.getHeartbeatsHeader();lr&&an.append("x-firebase-client",lr)}const br={method:"POST",headers:an,body:JSON.stringify({fid:Ne,authVersion:H,appId:se.appId,sdkVersion:me})},is=yield Ue(()=>fetch(gt,br));if(is.ok){const lr=yield is.json();return{fid:lr.fid||Ne,registrationStatus:2,refreshToken:lr.refreshToken,authToken:Pe(lr.authToken)}}throw yield We("Create Installation",is)})).apply(this,arguments)}function vn(se){return new Promise(De=>{setTimeout(De,se)})}const ge=/^[cdef][\w-]{21}$/,ve="";function Te(){try{const se=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(se),se[0]=112+se[0]%16;const Ne=function Ve(se){return function Nn(se){return btoa(String.fromCharCode(...se)).replace(/\+/g,"-").replace(/\//g,"_")}(se).substr(0,22)}(se);return ge.test(Ne)?Ne:ve}catch{return ve}}function $e(se){return`${se.appName}!${se.appId}`}const qe=new Map;function ct(se,De){const Ne=$e(se);Mt(Ne,De),function Qt(se,De){const Ne=function Ft(){return!dt&&"BroadcastChannel"in self&&(dt=new BroadcastChannel("[Firebase] FID Change"),dt.onmessage=se=>{Mt(se.data.key,se.data.fid)}),dt}();Ne&&Ne.postMessage({key:se,fid:De}),function On(){0===qe.size&&dt&&(dt.close(),dt=null)}()}(Ne,De)}function Mt(se,De){const Ne=qe.get(se);if(Ne)for(const gt of Ne)gt(De)}let dt=null;const Pn="firebase-installations-database",Fn=1,Sn="firebase-installations-store";let Kn=null;function Jn(){return Kn||(Kn=(0,Y.X3)(Pn,Fn,{upgrade:(se,De)=>{0===De&&se.createObjectStore(Sn)}})),Kn}function hr(se,De){return oe.apply(this,arguments)}function oe(){return(oe=(0,s.Z)(function*(se,De){const Ne=$e(se),an=(yield Jn()).transaction(Sn,"readwrite"),mn=an.objectStore(Sn),gn=yield mn.get(Ne);return yield mn.put(De,Ne),yield an.done,(!gn||gn.fid!==De.fid)&&ct(se,De.fid),De})).apply(this,arguments)}function ne(se){return he.apply(this,arguments)}function he(){return(he=(0,s.Z)(function*(se){const De=$e(se),gt=(yield Jn()).transaction(Sn,"readwrite");yield gt.objectStore(Sn).delete(De),yield gt.done})).apply(this,arguments)}function ie(se,De){return je.apply(this,arguments)}function je(){return(je=(0,s.Z)(function*(se,De){const Ne=$e(se),an=(yield Jn()).transaction(Sn,"readwrite"),mn=an.objectStore(Sn),gn=yield mn.get(Ne),br=De(gn);return void 0===br?yield mn.delete(Ne):yield mn.put(br,Ne),yield an.done,br&&(!gn||gn.fid!==br.fid)&&ct(se,br.fid),br})).apply(this,arguments)}function ot(se){return Ht.apply(this,arguments)}function Ht(){return Ht=(0,s.Z)(function*(se){let De;const Ne=yield ie(se.appConfig,gt=>{const an=function Kt(se){return Xt(se||{fid:Te(),registrationStatus:0})}(gt),mn=function Gt(se,De){if(0===De.registrationStatus){if(!navigator.onLine)return{installationEntry:De,registrationPromise:Promise.reject(lt.create("app-offline"))};const Ne={fid:De.fid,registrationStatus:1,registrationTime:Date.now()},gt=function xt(se,De){return pn.apply(this,arguments)}(se,Ne);return{installationEntry:Ne,registrationPromise:gt}}return 1===De.registrationStatus?{installationEntry:De,registrationPromise:Qn(se)}:{installationEntry:De}}(se,an);return De=mn.registrationPromise,mn.installationEntry});return Ne.fid===ve?{installationEntry:yield De}:{installationEntry:Ne,registrationPromise:De}}),Ht.apply(this,arguments)}function pn(){return pn=(0,s.Z)(function*(se,De){try{const Ne=yield function vt(se,De){return Pt.apply(this,arguments)}(se,De);return hr(se.appConfig,Ne)}catch(Ne){throw ye(Ne)&&409===Ne.customData.serverCode?yield ne(se.appConfig):yield hr(se.appConfig,{fid:De.fid,registrationStatus:0}),Ne}}),pn.apply(this,arguments)}function Qn(se){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,s.Z)(function*(se){let De=yield wn(se.appConfig);for(;1===De.registrationStatus;)yield vn(100),De=yield wn(se.appConfig);if(0===De.registrationStatus){const{installationEntry:Ne,registrationPromise:gt}=yield ot(se);return gt||Ne}return De})).apply(this,arguments)}function wn(se){return ie(se,De=>{if(!De)throw lt.create("installation-not-found");return Xt(De)})}function Xt(se){return function An(se){return 1===se.registrationStatus&&se.registrationTime+le<Date.now()}(se)?{fid:se.fid,registrationStatus:0}:se}function Zn(){return(Zn=(0,s.Z)(function*({appConfig:se,heartbeatServiceProvider:De},Ne){const gt=function Mr(se,{fid:De}){return`${Se(se)}/${De}/authTokens:generate`}(se,Ne),an=function ke(se,{refreshToken:De}){const Ne=we(se);return Ne.append("Authorization",function Ge(se){return`${H} ${se}`}(De)),Ne}(se,Ne),mn=De.getImmediate({optional:!0});if(mn){const lr=yield mn.getHeartbeatsHeader();lr&&an.append("x-firebase-client",lr)}const br={method:"POST",headers:an,body:JSON.stringify({installation:{sdkVersion:me,appId:se.appId}})},is=yield Ue(()=>fetch(gt,br));if(is.ok)return Pe(yield is.json());throw yield We("Generate Auth Token",is)})).apply(this,arguments)}function kn(se){return zt.apply(this,arguments)}function zt(){return zt=(0,s.Z)(function*(se,De=!1){let Ne;const gt=yield ie(se.appConfig,mn=>{if(!ht(mn))throw lt.create("not-registered");const gn=mn.authToken;if(!De&&function St(se){return 2===se.requestStatus&&!function Zt(se){const De=Date.now();return De<se.creationTime||se.creationTime+se.expiresIn<De+K}(se)}(gn))return mn;if(1===gn.requestStatus)return Ne=function _r(se,De){return qr.apply(this,arguments)}(se,De),mn;{if(!navigator.onLine)throw lt.create("app-offline");const br=function Wt(se){const De={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},se),{authToken:De})}(mn);return Ne=function nt(se,De){return Ae.apply(this,arguments)}(se,br),br}});return Ne?yield Ne:gt.authToken}),zt.apply(this,arguments)}function qr(){return(qr=(0,s.Z)(function*(se,De){let Ne=yield qt(se.appConfig);for(;1===Ne.authToken.requestStatus;)yield vn(100),Ne=yield qt(se.appConfig);const gt=Ne.authToken;return 0===gt.requestStatus?kn(se,De):gt})).apply(this,arguments)}function qt(se){return ie(se,De=>{if(!ht(De))throw lt.create("not-registered");return function Rn(se){return 1===se.requestStatus&&se.requestTime+le<Date.now()}(De.authToken)?Object.assign(Object.assign({},De),{authToken:{requestStatus:0}}):De})}function Ae(){return Ae=(0,s.Z)(function*(se,De){try{const Ne=yield function on(se,De){return Zn.apply(this,arguments)}(se,De),gt=Object.assign(Object.assign({},De),{authToken:Ne});return yield hr(se.appConfig,gt),Ne}catch(Ne){if(!ye(Ne)||401!==Ne.customData.serverCode&&404!==Ne.customData.serverCode){const gt=Object.assign(Object.assign({},De),{authToken:{requestStatus:0}});yield hr(se.appConfig,gt)}else yield ne(se.appConfig);throw Ne}}),Ae.apply(this,arguments)}function ht(se){return void 0!==se&&2===se.registrationStatus}function z(){return(z=(0,s.Z)(function*(se){const De=se,{installationEntry:Ne,registrationPromise:gt}=yield ot(De);return gt?gt.catch(console.error):kn(De).catch(console.error),Ne.fid})).apply(this,arguments)}function N(){return N=(0,s.Z)(function*(se,De=!1){const Ne=se;return yield function S(se){return U.apply(this,arguments)}(Ne),(yield kn(Ne,De)).token}),N.apply(this,arguments)}function U(){return(U=(0,s.Z)(function*(se){const{registrationPromise:De}=yield ot(se);De&&(yield De)})).apply(this,arguments)}function pt(se){return lt.create("missing-app-config-values",{valueName:se})}const Si="installations",ns=se=>{const De=se.getProvider("app").getImmediate(),Ne=function ft(se){if(!se||!se.options)throw pt("App Configuration");if(!se.name)throw pt("App Name");const De=["projectId","apiKey","appId"];for(const Ne of De)if(!se.options[Ne])throw pt(Ne);return{appName:se.name,projectId:se.options.projectId,apiKey:se.options.apiKey,appId:se.options.appId}}(De);return{app:De,appConfig:Ne,heartbeatServiceProvider:(0,B._getProvider)(De,"heartbeat"),_delete:()=>Promise.resolve()}},Co=se=>{const De=se.getProvider("app").getImmediate(),Ne=(0,B._getProvider)(De,Si).getImmediate();return{getId:()=>function q(se){return z.apply(this,arguments)}(Ne),getToken:an=>function x(se){return N.apply(this,arguments)}(Ne,an)}};(function rs(){(0,B._registerComponent)(new F.wA(Si,ns,"PUBLIC")),(0,B._registerComponent)(new F.wA("installations-internal",Co,"PRIVATE"))})(),(0,B.registerVersion)(ce,ue),(0,B.registerVersion)(ce,ue,"esm2017")},1877:(Tt,Me,L)=>{L.d(Me,{Am:()=>me,Ub:()=>le,Yd:()=>ue,in:()=>B});const s=[];var B=(()=>{return(H=B||(B={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",B;var H})();const F={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},X=B.INFO,Y={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ce=(H,G,...K)=>{if(G<H.logLevel)return;const Ce=(new Date).toISOString(),Ie=Y[G];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ie](`[${Ce}]  ${H.name}:`,...K)};class ue{constructor(G){this.name=G,this._logLevel=X,this._logHandler=ce,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in B))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?F[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...G),this._logHandler(this,B.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...G),this._logHandler(this,B.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,B.INFO,...G),this._logHandler(this,B.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,B.WARN,...G),this._logHandler(this,B.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...G),this._logHandler(this,B.ERROR,...G)}}function le(H){s.forEach(G=>{G.setLogLevel(H)})}function me(H,G){for(const K of s){let Ce=null;G&&G.level&&(Ce=F[G.level]),K.userLogHandler=null===H?null:(Ie,Le,...lt)=>{const ye=lt.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");Le>=(Ce??Ie.logLevel)&&H({level:B[Le].toLowerCase(),message:ye,args:lt,type:Ie.name})}}}},3008:(Tt,Me,L)=>{L.d(Me,{IH:()=>zt,Gb:()=>qr,Kz:()=>Wt,Iv:()=>Ae});var s=L(5861),B=L(9681),F=L(1877),X=L(2090),Y=L(4859);L(2833);const ue="analytics",le="firebase_id",me="origin",H=6e4,G="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",K="https://www.googletagmanager.com/gtag/js",Ce=new F.Yd("@firebase/analytics"),Le=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lt(N){if(!N.startsWith(K)){const S=Le.create("invalid-gtag-resource",{gtagURL:N});return Ce.warn(S.message),""}return N}function ye(N){return Promise.all(N.map(S=>S.catch(U=>U)))}function we(){return(we=(0,s.Z)(function*(N,S,U,re,Ee,Ke){const Ze=re[Ee];try{if(Ze)yield S[Ze];else{const He=(yield ye(U)).find(at=>at.measurementId===Ee);He&&(yield S[He.appId])}}catch(rt){Ce.error(rt)}N("config",Ee,Ke)})).apply(this,arguments)}function Ue(){return(Ue=(0,s.Z)(function*(N,S,U,re,Ee){try{let Ke=[];if(Ee&&Ee.send_to){let Ze=Ee.send_to;Array.isArray(Ze)||(Ze=[Ze]);const rt=yield ye(U);for(const He of Ze){const at=rt.find(pt=>pt.measurementId===He),ft=at&&S[at.appId];if(!ft){Ke=[];break}Ke.push(ft)}}0===Ke.length&&(Ke=Object.values(S)),yield Promise.all(Ke),N("event",re,Ee||{})}catch(Ke){Ce.error(Ke)}})).apply(this,arguments)}const vt=30,Nn=new class vn{constructor(S={},U=1e3){this.throttleMetadata=S,this.intervalMillis=U}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,U){this.throttleMetadata[S]=U}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function ge(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function Te(){return(Te=(0,s.Z)(function*(N){var S;const{appId:U,apiKey:re}=N,Ee={method:"GET",headers:ge(re)},Ke=G.replace("{app-id}",U),Ze=yield fetch(Ke,Ee);if(200!==Ze.status&&304!==Ze.status){let rt="";try{const He=yield Ze.json();null!==(S=He.error)&&void 0!==S&&S.message&&(rt=He.error.message)}catch{}throw Le.create("config-fetch-failed",{httpStatus:Ze.status,responseMessage:rt})}return Ze.json()})).apply(this,arguments)}function $e(){return($e=(0,s.Z)(function*(N,S=Nn,U){const{appId:re,apiKey:Ee,measurementId:Ke}=N.options;if(!re)throw Le.create("no-app-id");if(!Ee){if(Ke)return{measurementId:Ke,appId:re};throw Le.create("no-api-key")}const Ze=S.getThrottleMetadata(re)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rt=new Mt;return setTimeout((0,s.Z)(function*(){rt.abort()}),void 0!==U?U:H),qe({appId:re,apiKey:Ee,measurementId:Ke},Ze,rt,S)})).apply(this,arguments)}function qe(N,S,U){return ct.apply(this,arguments)}function ct(){return ct=(0,s.Z)(function*(N,{throttleEndTimeMillis:S,backoffCount:U},re,Ee=Nn){var Ke;const{appId:Ze,measurementId:rt}=N;try{yield function Je(N,S){return new Promise((U,re)=>{const Ee=Math.max(S-Date.now(),0),Ke=setTimeout(U,Ee);N.addEventListener(()=>{clearTimeout(Ke),re(Le.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(re,S)}catch(He){if(rt)return Ce.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rt} provided in the "measurementId" field in the local Firebase config. [${He?.message}]`),{appId:Ze,measurementId:rt};throw He}try{const He=yield function ve(N){return Te.apply(this,arguments)}(N);return Ee.deleteThrottleMetadata(Ze),He}catch(He){const at=He;if(!function Ut(N){if(!(N instanceof X.ZR&&N.customData))return!1;const S=Number(N.customData.httpStatus);return 429===S||500===S||503===S||504===S}(at)){if(Ee.deleteThrottleMetadata(Ze),rt)return Ce.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rt} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:Ze,measurementId:rt};throw He}const ft=503===Number(null===(Ke=at?.customData)||void 0===Ke?void 0:Ke.httpStatus)?(0,X.$s)(U,Ee.intervalMillis,vt):(0,X.$s)(U,Ee.intervalMillis),pt={throttleEndTimeMillis:Date.now()+ft,backoffCount:U+1};return Ee.setThrottleMetadata(Ze,pt),Ce.debug(`Calling attemptFetch again in ${ft} millis`),qe(N,pt,re,Ee)}}),ct.apply(this,arguments)}class Mt{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let Qt,ne;function Ft(){return(Ft=(0,s.Z)(function*(N,S,U,re,Ee){if(Ee&&Ee.global)N("event",U,re);else{const Ke=yield S;N("event",U,Object.assign(Object.assign({},re),{send_to:Ke}))}})).apply(this,arguments)}function Sn(){return(Sn=(0,s.Z)(function*(N,S,U,re){if(re&&re.global)return N("set",{user_id:U}),Promise.resolve();N("config",yield S,{update:!0,user_id:U})})).apply(this,arguments)}function ot(){return(ot=(0,s.Z)(function*(){if(!(0,X.hl)())return Ce.warn(Le.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(N){return Ce.warn(Le.create("indexeddb-unavailable",{errorInfo:N?.toString()}).message),!1}return!0})).apply(this,arguments)}function Kt(){return Kt=(0,s.Z)(function*(N,S,U,re,Ee,Ke,Ze){var rt;const He=function Ve(N){return $e.apply(this,arguments)}(N);He.then(Ai=>{U[Ai.measurementId]=Ai.appId,N.options.measurementId&&Ai.measurementId!==N.options.measurementId&&Ce.warn(`The measurement ID in the local Firebase config (${N.options.measurementId}) does not match the measurement ID fetched from the server (${Ai.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ai=>Ce.error(Ai)),S.push(He);const at=function je(){return ot.apply(this,arguments)}().then(Ai=>{if(Ai)return re.getId()}),[ft,pt]=yield Promise.all([He,at]);(function Ge(N){const S=window.document.getElementsByTagName("script");for(const U of Object.values(S))if(U.src&&U.src.includes(K)&&U.src.includes(N))return U;return null})(Ke)||function Pe(N,S){const U=function Se(N,S){let U;return window.trustedTypes&&(U=window.trustedTypes.createPolicy(N,S)),U}("firebase-js-sdk-policy",{createScriptURL:lt}),re=document.createElement("script"),Ee=`${K}?l=${N}&id=${S}`;re.src=U?U?.createScriptURL(Ee):Ee,re.async=!0,document.head.appendChild(re)}(Ke,ft.measurementId),ne&&(Ee("consent","default",ne),function he(N){ne=N}(void 0)),Ee("js",new Date);const Si=null!==(rt=Ze?.config)&&void 0!==rt?rt:{};return Si[me]="firebase",Si.update=!0,null!=pt&&(Si[le]=pt),Ee("config",ft.measurementId,Si),Qt&&(Ee("set",Qt),function ie(N){Qt=N}(void 0)),ft.measurementId}),Kt.apply(this,arguments)}class Gt{constructor(S){this.app=S}_delete(){return delete xt[this.app.options.appId],Promise.resolve()}}let xt={},pn=[];const Qn={};let Xt,An,Ln="dataLayer",wn="gtag",on=!1;function kn(N,S,U){!function Mr(){const N=[];if((0,X.ru)()&&N.push("This is a browser extension environment."),(0,X.zI)()||N.push("Cookies are not available."),N.length>0){const S=N.map((re,Ee)=>`(${Ee+1}) ${re}`).join(" "),U=Le.create("invalid-analytics-context",{errorInfo:S});Ce.warn(U.message)}}();const re=N.options.appId;if(!re)throw Le.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw Le.create("no-api-key");Ce.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xt[re])throw Le.create("already-exists",{id:re});if(!on){!function We(N){let S=[];Array.isArray(window[N])?S=window[N]:window[N]=S}(Ln);const{wrappedGtag:Ke,gtagCore:Ze}=function Z(N,S,U,re,Ee){let Ke=function(...Ze){window[re].push(arguments)};return window[Ee]&&"function"==typeof window[Ee]&&(Ke=window[Ee]),window[Ee]=function Fe(N,S,U,re){function Ke(){return Ke=(0,s.Z)(function*(Ze,rt,He){try{"event"===Ze?yield function ke(N,S,U,re,Ee){return Ue.apply(this,arguments)}(N,S,U,rt,He):"config"===Ze?yield function xe(N,S,U,re,Ee,Ke){return we.apply(this,arguments)}(N,S,U,re,rt,He):"consent"===Ze?N("consent","update",He):N("set",rt)}catch(at){Ce.error(at)}}),Ke.apply(this,arguments)}return function Ee(Ze,rt,He){return Ke.apply(this,arguments)}}(Ke,N,S,U),{gtagCore:Ke,wrappedGtag:window[Ee]}}(xt,pn,Qn,Ln,wn);An=Ke,Xt=Ze,on=!0}return xt[re]=function Ht(N,S,U,re,Ee,Ke,Ze){return Kt.apply(this,arguments)}(N,pn,Qn,S,Xt,Ln,U),new Gt(N)}function zt(N=(0,B.getApp)()){N=(0,X.m9)(N);const S=(0,B._getProvider)(N,ue);return S.isInitialized()?S.getImmediate():function _r(N,S={}){const U=(0,B._getProvider)(N,ue);if(U.isInitialized()){const Ee=U.getImmediate();if((0,X.vZ)(S,U.getOptions()))return Ee;throw Le.create("already-initialized")}return U.initialize({options:S})}(N)}function qr(){return qt.apply(this,arguments)}function qt(){return(qt=(0,s.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch{return!1}})).apply(this,arguments)}function Ae(N,S,U){N=(0,X.m9)(N),function Fn(N,S,U,re){return Sn.apply(this,arguments)}(An,xt[N.app.options.appId],S,U).catch(re=>Ce.error(re))}function Wt(N,S,U,re){N=(0,X.m9)(N),function dt(N,S,U,re,Ee){return Ft.apply(this,arguments)}(An,xt[N.app.options.appId],S,U,re).catch(Ee=>Ce.error(Ee))}const q="@firebase/analytics",z="0.9.5";!function x(){(0,B._registerComponent)(new Y.wA(ue,(S,{options:U})=>kn(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),U),"PUBLIC")),(0,B._registerComponent)(new Y.wA("analytics-internal",function N(S){try{const U=S.getProvider(ue).getImmediate();return{logEvent:(re,Ee,Ke)=>Wt(U,re,Ee,Ke)}}catch(U){throw Le.create("interop-component-reg-failed",{reason:U})}},"PRIVATE")),(0,B.registerVersion)(q,z),(0,B.registerVersion)(q,z,"esm2017")}()},259:(Tt,Me,L)=>{L.d(Me,{C6:()=>s.getApps,KN:()=>s.registerVersion,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=L(9681);(0,s.registerVersion)("firebase","9.20.0","app")},9260:(Tt,Me,L)=>{L.d(Me,{Z:()=>s.Z});var s=L(3942);s.Z.registerVersion("firebase","9.20.0","app-compat")},9568:(Tt,Me,L)=>{L.r(Me);var s=L(5861),B=L(3942),F=L(8277),X=L(2090),ue=(L(9681),L(1877),L(4859));function le(){return window}const me=2e3;function G(){return G=(0,s.Z)(function*(x,N,S){var U;const{BuildInfo:re}=le();(0,F.as)(N.sessionId,"AuthEvent did not contain a session ID");const Ee=yield function Se(x){return Pe.apply(this,arguments)}(N.sessionId),Ke={};return(0,F.at)()?Ke.ibi=re.packageName:(0,F.au)()?Ke.apn=re.packageName:(0,F.av)(x,"operation-not-supported-in-this-environment"),re.displayName&&(Ke.appDisplayName=re.displayName),Ke.sessionId=Ee,(0,F.aw)(x,S,N.type,void 0,null!==(U=N.eventId)&&void 0!==U?U:void 0,Ke)}),G.apply(this,arguments)}function Ce(){return(Ce=(0,s.Z)(function*(x){const{BuildInfo:N}=le(),S={};(0,F.at)()?S.iosBundleId=N.packageName:(0,F.au)()?S.androidPackageName=N.packageName:(0,F.av)(x,"operation-not-supported-in-this-environment"),yield(0,F.ax)(x,S)})).apply(this,arguments)}function lt(){return(lt=(0,s.Z)(function*(x,N,S){const{cordova:U}=le();let re=()=>{};try{yield new Promise((Ee,Ke)=>{let Ze=null;function rt(){var ft;Ee();const pt=null===(ft=U.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof pt&&pt(),"function"==typeof S?.close&&S.close()}function He(){Ze||(Ze=window.setTimeout(()=>{Ke((0,F.az)(x,"redirect-cancelled-by-user"))},me))}function at(){"visible"===document?.visibilityState&&He()}N.addPassiveListener(rt),document.addEventListener("resume",He,!1),(0,F.au)()&&document.addEventListener("visibilitychange",at,!1),re=()=>{N.removePassiveListener(rt),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",at,!1),Ze&&window.clearTimeout(Ze)}})}finally{re()}})).apply(this,arguments)}function Pe(){return(Pe=(0,s.Z)(function*(x){const N=function We(x){if((0,F.as)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const N=new ArrayBuffer(x.length),S=new Uint8Array(N);for(let U=0;U<x.length;U++)S[U]=x.charCodeAt(U);return S}(x),S=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(S)).map(re=>re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const xe=20;class we extends F.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(S=>S(N)),super.onEvent(N)}initialized(){var N=this;return(0,s.Z)(function*(){yield N.initPromise})()}}function Fe(x){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)(function*(x){const N=yield Pt()._get(vn(x));return N&&(yield Pt()._remove(vn(x))),N})).apply(this,arguments)}function vt(){const x=[],N="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<xe;S++){const U=Math.floor(Math.random()*N.length);x.push(N.charAt(U))}return x.join("")}function Pt(){return(0,F.aC)(F.b)}function vn(x){return(0,F.aD)("authEvent",x.config.apiKey,x.name)}function ve(x){if(!x?.includes("?"))return{};const[N,...S]=x.split("?");return(0,X.zd)(S.join("?"))}const $e=class Ve{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(N){var S=this;return(0,s.Z)(function*(){const U=N._key();let re=S.eventManagers.get(U);return re||(re=new we(N),S.eventManagers.set(U,re),S.attachCallbackListeners(N,re)),re})()}_openPopup(N){(0,F.av)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,S,U,re){var Ee=this;return(0,s.Z)(function*(){!function ye(x){var N,S,U,re,Ee,Ke,Ze,rt,He,at;const ft=le();(0,F.aA)("function"==typeof(null===(N=ft?.universalLinks)||void 0===N?void 0:N.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aA)(typeof(null===(S=ft?.BuildInfo)||void 0===S?void 0:S.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aA)("function"==typeof(null===(Ee=null===(re=null===(U=ft?.cordova)||void 0===U?void 0:U.plugins)||void 0===re?void 0:re.browsertab)||void 0===Ee?void 0:Ee.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(rt=null===(Ze=null===(Ke=ft?.cordova)||void 0===Ke?void 0:Ke.plugins)||void 0===Ze?void 0:Ze.browsertab)||void 0===rt?void 0:rt.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(at=null===(He=ft?.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===at?void 0:at.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const Ke=yield Ee._initialize(N);yield Ke.initialized(),Ke.resetRedirect(),(0,F.aG)(),yield Ee._originValidation(N);const Ze=function ke(x,N,S=null){return{type:N,eventId:S,urlResponse:null,sessionId:vt(),postBody:null,tenantId:x.tenantId,error:(0,F.az)(x,"no-auth-event")}}(N,U,re);yield function Ue(x,N){return Pt()._set(vn(x),N)}(N,Ze);const rt=yield function H(x,N,S){return G.apply(this,arguments)}(N,Ze,S),He=yield function Ie(x){const{cordova:N}=le();return new Promise(S=>{N.plugins.browsertab.isAvailable(U=>{let re=null;U?N.plugins.browsertab.openUrl(x):re=N.InAppBrowser.open(x,(0,F.ay)()?"_blank":"_system","location=yes"),S(re)})})}(rt);return function Le(x,N,S){return lt.apply(this,arguments)}(N,Ke,He)})()}_isIframeWebStorageSupported(N,S){throw new Error("Method not implemented.")}_originValidation(N){const S=N._key();return this.originValidationPromises[S]||(this.originValidationPromises[S]=function K(x){return Ce.apply(this,arguments)}(N)),this.originValidationPromises[S]}attachCallbackListeners(N,S){const{universalLinks:U,handleOpenURL:re,BuildInfo:Ee}=le(),Ke=setTimeout((0,s.Z)(function*(){yield Fe(N),S.onEvent(qe())}),500),Ze=function(){var at=(0,s.Z)(function*(ft){clearTimeout(Ke);const pt=yield Fe(N);let Si=null;pt&&ft?.url&&(Si=function Ge(x,N){var S,U;const re=function ge(x){const N=ve(x),S=N.link?decodeURIComponent(N.link):void 0,U=ve(S).link,re=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return ve(re).link||re||U||S||x}(N);if(re.includes("/__/auth/callback")){const Ee=ve(re),Ke=Ee.firebaseError?function Nn(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(Ee.firebaseError)):null,Ze=null===(U=null===(S=Ke?.code)||void 0===S?void 0:S.split("auth/"))||void 0===U?void 0:U[1],rt=Ze?(0,F.az)(Ze):null;return rt?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:rt,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:re,postBody:null}}return null}(pt,ft.url)),S.onEvent(Si||qe())});return function(pt){return at.apply(this,arguments)}}();typeof U<"u"&&"function"==typeof U.subscribe&&U.subscribe(null,Ze);const rt=re,He=`${Ee.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var at=(0,s.Z)(function*(ft){if(ft.toLowerCase().startsWith(He)&&Ze({url:ft}),"function"==typeof rt)try{rt(ft)}catch(pt){console.error(pt)}});return function(ft){return at.apply(this,arguments)}}()}};function qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.az)("no-auth-event")}}const Mt=1e3;function Qt(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function Ft(x=(0,X.z$)()){return!("file:"!==Qt()&&"ionic:"!==Qt()&&"capacitor:"!==Qt()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kn(){try{const x=self.localStorage,N=F.aL();if(x)return x.setItem(N,"1"),x.removeItem(N),!function Sn(x=(0,X.z$)()){return function Pn(){return(0,X.w1)()&&11===document?.documentMode}()||function Fn(x=(0,X.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,X.hl)()}catch{return Jn()&&(0,X.hl)()}return!1}function Jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function hr(){return(function dt(){return"http:"===Qt()||"https:"===Qt()}()||(0,X.ru)()||Ft())&&!function On(){return(0,X.b$)()||(0,X.UG)()}()&&Kn()&&!Jn()}function oe(){return Ft()&&typeof document<"u"}function he(){return(he=(0,s.Z)(function*(){return!!oe()&&new Promise(x=>{const N=setTimeout(()=>{x(!1)},Mt);document.addEventListener("deviceready",()=>{clearTimeout(N),x(!0)})})})).apply(this,arguments)}const je={LOCAL:"local",NONE:"none",SESSION:"session"},ot=F.aA,Ht="persistence";function Gt(x){return xt.apply(this,arguments)}function xt(){return(xt=(0,s.Z)(function*(x){yield x._initializationPromise;const N=Qn(),S=F.aD(Ht,x.config.apiKey,x.name);N&&N.setItem(S,x._getPersistence())})).apply(this,arguments)}function Qn(){var x;try{return(null===(x=function ie(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const Ln=F.aA;class wn{constructor(){this.browserResolver=F.aC(F.k),this.cordovaResolver=F.aC($e),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(N){var S=this;return(0,s.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,S,U,re){var Ee=this;return(0,s.Z)(function*(){return yield Ee.selectUnderlyingResolver(),Ee.assertedUnderlyingResolver._openPopup(N,S,U,re)})()}_openRedirect(N,S,U,re){var Ee=this;return(0,s.Z)(function*(){return yield Ee.selectUnderlyingResolver(),Ee.assertedUnderlyingResolver._openRedirect(N,S,U,re)})()}_isIframeWebStorageSupported(N,S){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,S)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return oe()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ln(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,s.Z)(function*(){if(N.underlyingResolver)return;const S=yield function ne(){return he.apply(this,arguments)}();N.underlyingResolver=S?N.cordovaResolver:N.browserResolver})()}}function Xt(x){return x.unwrap()}function on(x){return Mr(x)}function Mr(x){const{_tokenResponse:N}=x instanceof X.ZR?x.customData:x;if(!N)return null;if(!(x instanceof X.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return F.P.credentialFromResult(x);const S=N.providerId;if(!S||S===F.p.PASSWORD)return null;let U;switch(S){case F.p.GOOGLE:U=F.V;break;case F.p.FACEBOOK:U=F.U;break;case F.p.GITHUB:U=F.W;break;case F.p.TWITTER:U=F.Z;break;default:const{oauthIdToken:re,oauthAccessToken:Ee,oauthTokenSecret:Ke,pendingToken:Ze,nonce:rt}=N;return Ee||Ke||re||Ze?Ze?S.startsWith("saml.")?F.aO._create(S,Ze):F.L._fromParams({providerId:S,signInMethod:S,pendingToken:Ze,idToken:re,accessToken:Ee}):new F.X(S).credential({idToken:re,accessToken:Ee,rawNonce:rt}):null}return x instanceof X.ZR?U.credentialFromError(x):U.credentialFromResult(x)}function kn(x,N){return N.catch(S=>{throw S instanceof X.ZR&&function Zn(x,N){var S;const U=null===(S=N.customData)||void 0===S?void 0:S._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new qr(x,F.aq(x,N));else if(U){const re=Mr(N),Ee=N;re&&(Ee.credential=re,Ee.tenantId=U.tenantId||void 0,Ee.email=U.email||void 0,Ee.phoneNumber=U.phoneNumber||void 0)}}(x,S),S}).then(S=>{const re=S.user;return{operationType:S.operationType,credential:on(S),additionalUserInfo:F.ao(S),user:qt.getOrCreate(re)}})}function zt(x,N){return _r.apply(this,arguments)}function _r(){return(_r=(0,s.Z)(function*(x,N){const S=yield N;return{verificationId:S.verificationId,confirm:U=>kn(x,S.confirm(U))}})).apply(this,arguments)}class qr{constructor(N,S){this.resolver=S,this.auth=function An(x){return x.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return kn(Xt(this.auth),this.resolver.resolveSignIn(N))}}class qt{constructor(N){this._delegate=N,this.multiFactor=F.ar(N)}static getOrCreate(N){return qt.USER_MAP.has(N)||qt.USER_MAP.set(N,new qt(N)),qt.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var S=this;return(0,s.Z)(function*(){return kn(S.auth,F.a0(S._delegate,N))})()}linkWithPhoneNumber(N,S){var U=this;return(0,s.Z)(function*(){return zt(U.auth,F.l(U._delegate,N,S))})()}linkWithPopup(N){var S=this;return(0,s.Z)(function*(){return kn(S.auth,F.d(S._delegate,N,wn))})()}linkWithRedirect(N){var S=this;return(0,s.Z)(function*(){return yield Gt(F.aH(S.auth)),F.g(S._delegate,N,wn)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var S=this;return(0,s.Z)(function*(){return kn(S.auth,F.a1(S._delegate,N))})()}reauthenticateWithPhoneNumber(N,S){return zt(this.auth,F.r(this._delegate,N,S))}reauthenticateWithPopup(N){return kn(this.auth,F.e(this._delegate,N,wn))}reauthenticateWithRedirect(N){var S=this;return(0,s.Z)(function*(){return yield Gt(F.aH(S.auth)),F.h(S._delegate,N,wn)})()}sendEmailVerification(N){return F.ae(this._delegate,N)}unlink(N){var S=this;return(0,s.Z)(function*(){return yield F.an(S._delegate,N),S})()}updateEmail(N){return F.aj(this._delegate,N)}updatePassword(N){return F.ak(this._delegate,N)}updatePhoneNumber(N){return F.u(this._delegate,N)}updateProfile(N){return F.ai(this._delegate,N)}verifyBeforeUpdateEmail(N,S){return F.af(this._delegate,N,S)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qt.USER_MAP=new WeakMap;const nt=F.aA;let Ae=(()=>{class x{constructor(S,U){if(this.app=S,U.isInitialized())return this._delegate=U.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:re}=S.options;nt(re,"invalid-api-key",{appName:S.name}),nt(re,"invalid-api-key",{appName:S.name});const Ee=typeof window<"u"?wn:void 0;this._delegate=U.initialize({options:{persistence:St(re,S.name),popupRedirectResolver:Ee}}),this._delegate._updateErrorMap(F.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(S){this._delegate.languageCode=S}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(S){this._delegate.tenantId=S}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(S,U){F.I(this._delegate,S,U)}applyActionCode(S){return F.a5(this._delegate,S)}checkActionCode(S){return F.a6(this._delegate,S)}confirmPasswordReset(S,U){return F.a4(this._delegate,S,U)}createUserWithEmailAndPassword(S,U){var re=this;return(0,s.Z)(function*(){return kn(re._delegate,F.a8(re._delegate,S,U))})()}fetchProvidersForEmail(S){return this.fetchSignInMethodsForEmail(S)}fetchSignInMethodsForEmail(S){return F.ad(this._delegate,S)}isSignInWithEmailLink(S){return F.ab(this._delegate,S)}getRedirectResult(){var S=this;return(0,s.Z)(function*(){nt(hr(),S._delegate,"operation-not-supported-in-this-environment");const U=yield F.j(S._delegate,wn);return U?kn(S._delegate,Promise.resolve(U)):{credential:null,user:null}})()}addFrameworkForLogging(S){!function ct(x,N){(0,F.aH)(x)._logFramework(N)}(this._delegate,S)}onAuthStateChanged(S,U,re){const{next:Ee,error:Ke,complete:Ze}=ht(S,U,re);return this._delegate.onAuthStateChanged(Ee,Ke,Ze)}onIdTokenChanged(S,U,re){const{next:Ee,error:Ke,complete:Ze}=ht(S,U,re);return this._delegate.onIdTokenChanged(Ee,Ke,Ze)}sendSignInLinkToEmail(S,U){return F.aa(this._delegate,S,U)}sendPasswordResetEmail(S,U){return F.a3(this._delegate,S,U||void 0)}setPersistence(S){var U=this;return(0,s.Z)(function*(){let re;switch(function Kt(x,N){ot(Object.values(je).includes(N),x,"invalid-persistence-type"),(0,X.b$)()?ot(N!==je.SESSION,x,"unsupported-persistence-type"):(0,X.UG)()?ot(N===je.NONE,x,"unsupported-persistence-type"):Jn()?ot(N===je.NONE||N===je.LOCAL&&(0,X.hl)(),x,"unsupported-persistence-type"):ot(N===je.NONE||Kn(),x,"unsupported-persistence-type")}(U._delegate,S),S){case je.SESSION:re=F.a;break;case je.LOCAL:re=(yield F.aC(F.i)._isAvailable())?F.i:F.b;break;case je.NONE:re=F.N;break;default:return F.av("argument-error",{appName:U._delegate.name})}return U._delegate.setPersistence(re)})()}signInAndRetrieveDataWithCredential(S){return this.signInWithCredential(S)}signInAnonymously(){return kn(this._delegate,F._(this._delegate))}signInWithCredential(S){return kn(this._delegate,F.$(this._delegate,S))}signInWithCustomToken(S){return kn(this._delegate,F.a2(this._delegate,S))}signInWithEmailAndPassword(S,U){return kn(this._delegate,F.a9(this._delegate,S,U))}signInWithEmailLink(S,U){return kn(this._delegate,F.ac(this._delegate,S,U))}signInWithPhoneNumber(S,U){return zt(this._delegate,F.s(this._delegate,S,U))}signInWithPopup(S){var U=this;return(0,s.Z)(function*(){return nt(hr(),U._delegate,"operation-not-supported-in-this-environment"),kn(U._delegate,F.c(U._delegate,S,wn))})()}signInWithRedirect(S){var U=this;return(0,s.Z)(function*(){return nt(hr(),U._delegate,"operation-not-supported-in-this-environment"),yield Gt(U._delegate),F.f(U._delegate,S,wn)})()}updateCurrentUser(S){return this._delegate.updateCurrentUser(S)}verifyPasswordResetCode(S){return F.a7(this._delegate,S)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=je,x})();function ht(x,N,S){let U=x;"function"!=typeof x&&({next:U,error:N,complete:S}=x);const re=U;return{next:Ke=>re(Ke&&qt.getOrCreate(Ke)),error:N,complete:S}}function St(x,N){const S=function pn(x,N){const S=Qn();if(!S)return[];const U=F.aD(Ht,x,N);switch(S.getItem(U)){case je.NONE:return[F.N];case je.LOCAL:return[F.i,F.a];case je.SESSION:return[F.a];default:return[]}}(x,N);if(typeof self<"u"&&!S.includes(F.i)&&S.push(F.i),typeof window<"u")for(const U of[F.b,F.a])S.includes(U)||S.push(U);return S.includes(F.N)||S.push(F.N),S}class Zt{constructor(){this.providerId="phone",this._delegate=new F.P(Xt(B.Z.auth()))}static credential(N,S){return F.P.credential(N,S)}verifyPhoneNumber(N,S){return this._delegate.verifyPhoneNumber(N,S)}unwrap(){return this._delegate}}Zt.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,Zt.PROVIDER_ID=F.P.PROVIDER_ID;const Wt=F.aA;class Rn{constructor(N,S,U=B.Z.app()){var re;Wt(null===(re=U.options)||void 0===re?void 0:re.apiKey,"invalid-api-key",{appName:U.name}),this._delegate=new F.R(N,S,U.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function z(x){x.INTERNAL.registerComponent(new ue.wA("auth-compat",N=>{const S=N.getProvider("app-compat").getImmediate(),U=N.getProvider("auth");return new Ae(S,U)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.Q,FacebookAuthProvider:F.U,GithubAuthProvider:F.W,GoogleAuthProvider:F.V,OAuthProvider:F.X,SAMLAuthProvider:F.Y,PhoneAuthProvider:Zt,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:Rn,TwitterAuthProvider:F.Z,Auth:Ae,AuthCredential:F.J,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.4.0")}(B.Z)},8766:(Tt,Me,L)=>{L.d(Me,{Lj:()=>xe,X3:()=>We});var s=L(5861);const B=(Z,Ge)=>Ge.some(vt=>Z instanceof vt);let F,X;const ue=new WeakMap,le=new WeakMap,me=new WeakMap,H=new WeakMap,G=new WeakMap;let Ie={get(Z,Ge,vt){if(Z instanceof IDBTransaction){if("done"===Ge)return le.get(Z);if("objectStoreNames"===Ge)return Z.objectStoreNames||me.get(Z);if("store"===Ge)return vt.objectStoreNames[1]?void 0:vt.objectStore(vt.objectStoreNames[0])}return Se(Z[Ge])},set:(Z,Ge,vt)=>(Z[Ge]=vt,!0),has:(Z,Ge)=>Z instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in Z};function ye(Z){return"function"==typeof Z?function lt(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Z)?function(...Ge){return Z.apply(Pe(this),Ge),Se(ue.get(this))}:function(...Ge){return Se(Z.apply(Pe(this),Ge))}:function(Ge,...vt){const Pt=Z.call(Pe(this),Ge,...vt);return me.set(Pt,Ge.sort?Ge.sort():[Ge]),Se(Pt)}}(Z):(Z instanceof IDBTransaction&&function Ce(Z){if(le.has(Z))return;const Ge=new Promise((vt,Pt)=>{const vn=()=>{Z.removeEventListener("complete",Nn),Z.removeEventListener("error",ge),Z.removeEventListener("abort",ge)},Nn=()=>{vt(),vn()},ge=()=>{Pt(Z.error||new DOMException("AbortError","AbortError")),vn()};Z.addEventListener("complete",Nn),Z.addEventListener("error",ge),Z.addEventListener("abort",ge)});le.set(Z,Ge)}(Z),B(Z,function Y(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Z,Ie):Z)}function Se(Z){if(Z instanceof IDBRequest)return function K(Z){const Ge=new Promise((vt,Pt)=>{const vn=()=>{Z.removeEventListener("success",Nn),Z.removeEventListener("error",ge)},Nn=()=>{vt(Se(Z.result)),vn()},ge=()=>{Pt(Z.error),vn()};Z.addEventListener("success",Nn),Z.addEventListener("error",ge)});return Ge.then(vt=>{vt instanceof IDBCursor&&ue.set(vt,Z)}).catch(()=>{}),G.set(Ge,Z),Ge}(Z);if(H.has(Z))return H.get(Z);const Ge=ye(Z);return Ge!==Z&&(H.set(Z,Ge),G.set(Ge,Z)),Ge}const Pe=Z=>G.get(Z);function We(Z,Ge,{blocked:vt,upgrade:Pt,blocking:vn,terminated:Nn}={}){const ge=indexedDB.open(Z,Ge),ve=Se(ge);return Pt&&ge.addEventListener("upgradeneeded",Te=>{Pt(Se(ge.result),Te.oldVersion,Te.newVersion,Se(ge.transaction))}),vt&&ge.addEventListener("blocked",()=>vt()),ve.then(Te=>{Nn&&Te.addEventListener("close",()=>Nn()),vn&&Te.addEventListener("versionchange",()=>vn())}).catch(()=>{}),ve}function xe(Z,{blocked:Ge}={}){const vt=indexedDB.deleteDatabase(Z);return Ge&&vt.addEventListener("blocked",()=>Ge()),Se(vt).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],Ue=new Map;function Fe(Z,Ge){if(!(Z instanceof IDBDatabase)||Ge in Z||"string"!=typeof Ge)return;if(Ue.get(Ge))return Ue.get(Ge);const vt=Ge.replace(/FromIndex$/,""),Pt=Ge!==vt,vn=ke.includes(vt);if(!(vt in(Pt?IDBIndex:IDBObjectStore).prototype)||!vn&&!we.includes(vt))return;const Nn=function(){var ge=(0,s.Z)(function*(ve,...Te){const Ve=this.transaction(ve,vn?"readwrite":"readonly");let $e=Ve.store;return Pt&&($e=$e.index(Te.shift())),(yield Promise.all([$e[vt](...Te),vn&&Ve.done]))[0]});return function(Te){return ge.apply(this,arguments)}}();return Ue.set(Ge,Nn),Nn}!function Le(Z){Ie=Z(Ie)}(Z=>({...Z,get:(Ge,vt,Pt)=>Fe(Ge,vt)||Z.get(Ge,vt,Pt),has:(Ge,vt)=>!!Fe(Ge,vt)||Z.has(Ge,vt)}))},5861:(Tt,Me,L)=>{function s(F,X,Y,ce,ue,le,me){try{var H=F[le](me),G=H.value}catch(K){return void Y(K)}H.done?X(G):Promise.resolve(G).then(ce,ue)}function B(F){return function(){var X=this,Y=arguments;return new Promise(function(ce,ue){var le=F.apply(X,Y);function me(G){s(le,ce,ue,me,H,"next",G)}function H(G){s(le,ce,ue,me,H,"throw",G)}me(void 0)})}}L.d(Me,{Z:()=>B})}},Tt=>{var Me=s=>Tt(Tt.s=s);Me(1321),Me(7929)}]);